//==// CUSTOMFUNCTIONS //==//
// Stuff like handling the saved games, animating the faces while talking/listening
// and each character's buying / selling dialogs (including Thales and Johns issuing fines, etc).
// Each menu item's sale functions begin here, too.


//askabout method

//int cyclecounter;
//int minute;
//int hour;
//int ampm; 
//int isclockrunning;
//int dayofweek;
//int dayspassed;
//int rep;
//float repfloat;
//float repmod;

  //playstate: 0-Unplayed 1-InProgress 2-LeftOnATrain 3-Lost 4-Won
  //playstate_andrus=score[0];
  //playstate_melanie=score[1];
  //playstate_vinny=score[2];
  //playstate_bonus=score[3];




int score[4];

/**
 * Write scores out to a data file.
 */
function WriteScores () {
    int i;
    File *f = File.Open ("data.dat", eFileWrite);
    if (f) {
        while (i < 4) {

           f.WriteInt (score[i]);
           i++;
        }
        f.Close ();
    }
}


/**
 * Read scores from data file and update play state variables accordingly.
 */
function ReadScores () {
    int numbercutter[4];
    String namecutter[4];
    int i;
    File *f = File.Open ("data.dat",eFileRead);
    if (f) {
    while (i < 4) {
       numbercutter[i] = f.ReadInt();
       score[i] = numbercutter[i];
       //if (i==0)Display("score%d = playstate_andrus=%d",score[i], numbercutter[i]);
       //if (i==1)Display("score%d = playstate_melanie=%d",score[i], numbercutter[i]);
       //if (i==2)Display("score%d = playstate_vinny=%d",score[i], numbercutter[i]);
       //if (i==3)Display("score%d = playstate_bonus=%d",score[i], numbercutter[i]);
       i++;
    }
    f.Close ();
    }
    //playstate: 0-Unplayed 1-InProgress 2-LeftOnATrain 3-Lost 4-Won
    playstate_andrus = numbercutter[0];
    playstate_melanie = numbercutter[1];
    playstate_vinny = numbercutter[2];
    playstate_bonus = numbercutter[3];
}


/**
 *
 */
function NewScores(int Slot, int Newvalue) {
    score[Slot]=Newvalue;
    WriteScores();
    ReadScores();
}

int hunger[];
int que[10]; //Ten is the absolute maximum.
int maxque; //"maxque" starts low and goes up with reputation.
int queposition;//This is the "end of the line", or entry place for new customers.
bool driptalked[];

function game_start() {
    

    //Display("$APPDATADIR$");
    //Display("Jaya Shri Krishna!");
    topitm_charname.Visible = false;
    queposition=0;
    hunger = new int[Game.CharacterCount];//Array definition
    driptalked = new bool[Game.CharacterCount];//No coffee. How 'bout an Americano?

    rentpaid=0;//0: first week 1: second 2: third, etc.
    drunkenness=0;
    pizzasbought=0;
    oldpapers_remaining=0;
    catgonelabel.Visible=false;
    //empties_remaining=0;
    //int permitted;
    //int withdrawel;
    //int dice;
    stereopower=0;// 0:Off  1:On
     cued=0;// Cue'd Song
    //String dots;
    walmartia = 0.00;
    localbucks = 0.00;
    caffthresh = 80;
    Teejanger = 0;
    readspeed = 3; //1:Sssllloowww 2:Slow 3:Regular 4: Fast 5: Fst!
    pbspeed = 2; //Higher is slower, lower is faster. This is the Pace Bar speed (ie: dialog display speed).
    barspeed = 1; //Same as above - for the topbar gui

    clockspeed=27;//cyclecounter is at 27 by default - It's "2" when sleeping for a timer of 800.

    itemremaining=0;

    //int nmbr;
    //int dsply;

    ChangeAnswer=0.00;
    //String cd_display;
    cd_ticker=0;
    cd_miliseconds=0;
    cd_seconds=0;
    cd_minutes=0;
    countingdown=0;
    happiness=0;
    total_botched=0;
    //String Phrase;
    //String OrderAnswer;
    slogBagel=0;
    slogCoffee=0;
    slogHotdog=0;
    slogMisc=0;
    slogPaper=0;
    slogSoda=0;

    bagel_bonus_countdown=10;
    coffee_bonus_countdown=10;
    hotdog_bonus_countdown=10;
    misc_bonus_countdown=10;
    paper_bonus_countdown=10;
    soda_bonus_countdown=10;
    bonussed=0;
    //String BonusAnswer;
    //String bonus_Atext;
    //String bonus_Btext;
    //String bonus_Ctext;
    //String bonus_Dtext;
    //String bonus_Qtext;
    musicfallback=0;//For use after the Bonus Screen disappears - We go to musicfallback for the prior value.

    billvalue=0.00;
    buyprice=0.00;
    //Declaring Best / Avg. Time Values
    total_time=0;
    times_done=0;
    //Average
    avg_time=9999;
    avg_miliseconds=59;
    avg_seconds=59;
    //Best
    besttime=9999;
    bt_miliseconds=59;
    bt_seconds=59;
    //New
    newtime=1;
    nt_seconds=1;
    nt_miliseconds=1;

    raxtotal=0.00;
    reimbursement=0.00;

    taxifare=0.00;
    busfare=0.75;
    timefare=0;

    dickmericano = 0;

    fjoke1=0;
    fjoke2=0;
    fjoke3=0;
    fjoke4=0;

    testright=0;
    musique=50;
    pwnbuyorsell = 0;
    stand_look = 0;
    firstsetup=0;
    deliveryday=0;//Dayofweek Value
    deliverydrop=0;//Room Number
    deliveryitem=0;//Two Digit Delivery Number:
    //                   First Digit Represents the Character (1 = Andrus) etc.
    //                   Second Digit is the Item. (1-4)
    //                   So 21 Would be Mel's Hut, Option 1

    in_midair = false; // indicates if the player character is in midair

    halfbarned = 0;

    //String aliasBas;
    //String aliasRichard;
     rveggie=0;
     jveggie=0;
     oveggie=0;
     //coffeeGross_total;
     //coffeeSoldTotal;


     small_Bigby=0;
     small_Toney=0;
     small_Jenny=0;
     small_Richard=0;
     small_Troy=0;
     small_george=0;
     small_Marcus=0;
     small_Faith=0;
     small_Eddie=0;
     small_Betsy=0;
     small_Thales=0;
     small_Johns=0;
     small_Suchin=0;
     small_Kyam=0;
     small_Meadow=0;
     small_TJ=0;
     small_Chris=0;
     small_Seb=0;
     small_Bram=0;
     small_Ward=0;
     small_Steph=0;
     small_Dick=0;
     small_Christin=0;
     small_Alice=0;
     small_Omar=0;
     small_Bas=0;
     small_Dwayne=0;
     small_Jessi=0;
     small_Julian=0;
     small_Melody=0;
     small_Three=0;
     small_Nelly=0;
     small_Glenda=0;
     small_barneys=0;
     small_fagan=0;


    // gravity;
    // xmove;

     Money = 0.00;
     //saleprice;
    //String saleitem;
    //String salebuyer;


    //String upCoffee;
     upcoffee_remaining=0;

     //CoffeePriceS;
     //CoffeeProfitS;
     //CoffeeF=0.01;  ///????????????????
     //CoffeeNetS;
     //CoffeeGrossS;
     CoffeeSoldS = 0;
     //coffee_s_remaining;
     CoffeeCostS=0.01;


     //CoffeePriceA;
     //CoffeeProfitA;
     CoffeeCostA=0.01;
     //CoffeeNetA;
     //CoffeeGrossA;
     CoffeeSoldA = 0;
     //coffee_a_remaining;

     //CoffeePriceB;
     //CoffeeProfitB;
     CoffeeCostB=0.01;
     //CoffeeNetB;
     //CoffeeGrossB;
     CoffeeSoldB = 0;
     //coffee_b_remaining;

     //CoffeePriceC;
     //CoffeeProfitC;
     CoffeeCostC=0.01;
     //CoffeeNetC;
     //CoffeeGrossC;
     CoffeeSoldC = 0;
     //coffee_c_remaining;

     //CoffeePriceD;
     //CoffeeProfitD;
     CoffeeCostD=0.01;
     //CoffeeNetD;
     //CoffeeGrossD;
     CoffeeSoldD = 0;
     //coffee_d_remaining;

     //ChaiPrice;
     //ChaiProfit;
     ChaiCost=0.01;
     //ChaiNet;
     //ChaiGross;
     ChaiSold = 0;
     //chai_remaining;

     //AmericanoPrice;
     //AmericanoProfit;
     AmericanoCost=0.01;
     //AmericanoNet;
     //AmericanoGross;
     AmericanoSold = 0;

     //LattePrice;
     //LatteProfit;
     LatteCost=0.01;
     //LatteNet;
     //LatteGross;
     LatteSold = 0;
     latte_remaining=0;

     //ChailattePrice;
     //ChailatteProfit;
     ChailatteCost=0.01;
     //ChailatteNet;
    // ChailatteGross;
     ChailatteSold = 0;
     chailatte_remaining =0;

     //MochaPrice;
     //MochaProfit;
     MochaCost=0.01;
     //MochaNet;
     //MochaGross;
     MochaSold = 0;
     mocha_remaining=0;

     //CappuccinoPrice;
     //CappuccinoProfit;
     CappuccinoCost=0.01;
     //CappuccinoNet;
     //CappuccinoGross;
     CappuccinoSold = 0;
     cappuccino_remaining=0;

     //CocoaPrice;
     //CocoaProfit;
     //CocoaCost=0.01;
     //CocoaNet;
     //CocoaGross;
    // CocoaSold = 0;
     //cocoa_remaining;

     //MilkPrice;
     //MilkProfit;
     MilkCost=0.01;
     //MilkNet;
     //MilkGross;
     MilkSold = 0;
     //milk_remaining;

     //RinsePrice;
     //RinseProfit;
     RinseCost=0.01;
     //RinseNet;
     //RinseGross;
     RinseSold = 0;
     //rinse_remaining;

     //CrestPrice;
     //CrestProfit;
     //CrestCost=0.01;
     //CrestNet;
     //CrestGross;
     CrestSold = 0;
     //crest_remaining;

     //Bagel_PlainPrice;
     //Bagel_PlainProfit;
     //Bagel_PlainCost;
     //Bagel_PlainNet;
     //Bagel_PlainGross;
     Bagel_PlainSold = 0;
     //bagel_plain_remaining;

     //PaperPrice;
    // PaperProfit;
     PaperCost=0.01;
    // PaperNet;
    // PaperGross;
     PaperSold = 0;
    // paper_remaining;


    // HotdogPrice;
    // HotdogProfit;
     //HotdogCost;
     //HotdogNet;
     //HotdogGross;
     HotdogSold = 0;
     //hotdogs_remaining;


    // creamcheesex;
     //Creamcheese_Price;
     CreamcheeseCost=0.00;

     //creamcheese_remaining;
     //vcheese_remaining;

     //loxx;
     //Lox_Price;
     //lox_remaining;
     LoxCost=0.00;

     //capers_remaining;
     CapersCost=0.00;

     //flour_remaining;
     FlourCost=0.00;

     //sugar_remaining;

     //salt_remaining;
     SaltCost=0.00;

     //yeast_remaining;
     YeastCost=0.00;

     //buttermilk_remaining;
     ButtermilkCost=0.00;

     //catfood_remaining;
     CatfoodCost=0.00;

     //cups_remaining;
     //napkins_remaining;

     buns_remaining=0;
     BunsCost=0.00;

     chilli_remaining=0;
     //ChilliPrice;
     //ChilliProfit;
     ChilliSold=0;
     ChiliCost=0.00;

     jalapenos_remaining=0;
     //JalapenoPrice;
     //JalapenoProfit;
     JalapenosSold=0;
     JalapenoCost=0.00;

     ketchup_remaining=0;
     //KetchupPrice;
     //KetchupProfit;
     KetchupSold=0;
     KetchupCost=0.00;

     mustard_remaining=0;
     //MustardPrice;
     //MustardProfit;
     MustardSold=0;
     MustardCost=0.00;

     relish_remaining=0;
     //RelishPrice;
     //RelishProfit;
     RelishSold=0;
     RelishCost=0.00;

     sauerkraut_remaining=0;
     //KrautPrice;
     //KrautProfit;
     KrautSold=0;
     KrautCost=0.00;

     //cigarettes_remaining;

     //SugarPrice;
     //SugarProfit;
     SugarSold=0;
     SugarCost=0.00;

     cream_remaining=0;
     //CreamPrice;
     //CreamProfit;
     CreamSold=0;
     CreamCost=0.00;

     syrup_remaining=0;
     //SyrupPrice;
     //SyrupProfit;
     SyrupSold=0;
     SyrupCost=0.00;

     whipped_remaining=0;
     //WhippedPrice;
     //WhippedProfit;
     WhippedSold=0;
     WhippedCost=0.00;

    //toastedx;
    // Toasted_Price;
    // pbjx;
     //PBJ_Price;
     //peanutbutter_remaining;
     //jelly_remaining;
     JellyCost=0.00;
     PeanutbutterCost=0.00;

    //THSES STRINGS AND BOOLS ARE CONSIDERED TO BE "ALREADY DEFINED" SO WE'RE COMMENTING THEM OUT
    //CarriesCoffee=false;
    //CarriesEspresso=false;
    //CarriesCoffeePot=false;
    //String timelabeltext;
    //String meridian;
    //String day;
    //---------
    //Spent/Purchased
    //cost = (spent / purchased);

     spent_coffeeS=0.00;
     purchased_coffeeS=0;

     spent_coffeeA=0.00;
     purchased_coffeeA=0;

     spent_coffeeB=0.00;
     purchased_coffeeB=0;

     spent_coffeeC=0.00;
     purchased_coffeeC=0;

     spent_coffeeD=0.00;
     purchased_coffeeD=0;

     spent_chai=0.00;
     purchased_chai=0;

     spent_milk=0.00;
     purchased_milk=0;

     spent_soy=0.00;
     purchased_soy=0;

     spent_buttermilk=0.00;
     purchased_buttermilk=0;

     spent_cocoa=0.00;
     purchased_cocoa=0;

     spent_syrup=0.00;
     purchased_syrup=0;

     spent_sugar=0.00;
     purchased_sugar=0;

     spent_creamcheese=0.00;
     purchased_creamcheese=0;

     spent_jelly=0.00;
     purchased_jelly=0;

     spent_peanutbutter=0.00;
     purchased_peanutbutter=0;

     spent_capers=0.00;
     purchased_capers=0;

     spent_lox=0.00;
     purchased_lox=0;

     spent_flour=0.00;
     purchased_flour=0;

     spent_salt=0.00;
     purchased_salt=0;

     spent_yeast=0.00;
     purchased_yeast=0;

     spent_rinse=0.00;
     purchased_rinse=0;

     spent_crest=0.00;
     purchased_crest=0;

     spent_catfood=0.00;
     purchased_catfood=0;

     spent_buns=0.00;
     purchased_buns=0;

     spent_chili=0.00;
     purchased_chili=0;

     spent_jalapeno=0.00;
     purchased_jalapeno=0;

     spent_ketchup=0.00;
     purchased_ketchup=0;

     spent_mustard=0.00;
     purchased_mustard=0;

     spent_relish=0.00;
     purchased_relish=0;

     spent_sauerkraut=0.00;
     purchased_sauerkraut=0;

     spent_cream=0.00;
     purchased_cream=0;

     spent_whipped=0.00;
     purchased_whipped=0;

    //=== Breakdown Components ===//
    // -- Generic Totals
     total_fines = 0.00;
     times_fined = 0;
     total_solditems = 0;
    // -- Income
     income_misc = 0.00;
     income_total = 0.00;
     income_today = 0.00;
     income_totalsales = 0.00;
     income_tipstoday = 0.00;
     income_tipstotal = 0.00;
    // -- Expense
     expense_permits = 0.00;
     expense_travel = 0.00;
     expense_supplies = 0.00;
     expense_equipment = 0.00;
     expense_upgrade = 0.00;
     expense_misc = 0.00;
     expense_total = 0.00;
    // -- Balance
     balance_start = 0.00;
     balance_end = 0.00;
    //=== End Breakdown Components ===//

    //=== Total Purchases, by customer ===//
     fSean=0;
     fAlice=0;
     fToney=0;
     fJenny=0;
     fRichard=0;
     fTroy=0;
     fMarcus=0;
     //fFaith=0;
     fEddie=0;
     fBetsy=0;
     fThales=0;
     fSuchin=0;
     fKyam=0;
     fMeadow=0;
     fChris=0;
     fSebastian=0;
     fWard=0;
     fStephanie=0;
     fThree=0;
     fDick=0;
     fChristin=0;
     fJessi=0;
     fJulian=0;
    //=== Total Sales, by Area ===//
     fFranklin=0;
     fBridge=0;
     fDowntown=0;
     fCollins=0;
     fFlorin=0;
     f13th=0;
    //=== Favorite Food ===//
     fPizza=0;
     fSalad=0;
     fCrisps=0;
     fBigwich=0;
     fBigwichV=0;
     fBiscuits=0;
     fFryup=0;
     fPancakes=0;
     fScrapple=0;
     fSoup=0;
     fHash=0;
     fMeatloaf=0;
     fPie=0;
     fBagel=0;
     fStale=0;
     fMilk=0;
     fOmar=0;
     fHotDog=0;
     fBar=0;
     fBun=0;
    //End Favorites

    //String keyword;
    keytype=0;//0:Object 1:Person 2:Place
    //String salebuyer;
    //String saleitem;
} //End Game Start Sets






/////// --------------------DIALOG FUNCTIONS

function lastframe(int breath){
StartCutscene(eSkipAnyKeyOrMouseClick);
Wait(breath);
if (EndCutscene()!=0){
     if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 1, 5, eRepeat);}//gDialog
    if (gBigbyMenu.Visible==true){bigby_pb.Visible=true; bigby_pb.Animate(127, 4, 5, eRepeat);}//gBigby
    if (gMachine.Visible==true){alice_pb.Visible=true; alice_pb.Animate(127, 4, 5, eRepeat);}//gMachine
    if (gRoastierry.Visible==true){roast_pb.Visible=true; roast_pb.Animate(127, 5, 5, eRepeat);}//gRoastierry
    if (gPawn.Visible==true){pwn_pb.Visible=true; pwn_pb.Animate(127, 5, 5, eRepeat);}//gPawn
    if ((gFaganMenu.Visible==true)&&(player.Room==16)){fmu_pb.Visible=true; fmu_pb.Animate(127, 5, 5, eRepeat);}//gFagan(1)
    if ((gFaganMenu.Visible==true)&&(player.Room!=16)){fmu_pb.Visible=true; fmu_pb.Animate(127, 6, 5, eRepeat);}//gFagan(2)
    
    
    //if (gFaganMenu.Visible==true){speak=fmu_text.Text;}
    //if (gMachine.Visible==true){speak=gmu_text.Text;}
    //if (gPawn.Visible==true){speak=pwn_text.Text;}
    //if (gMachine.Visible==true){speak=gmu_text.Text;}
     WaitMouseKey(999);}
else {}
}

function newblab(){
  //1, 4, and 7
String speak;
if (gDialog.Visible==true){speak=dText.Text;}
if (gBigbyMenu.Visible==true){speak=bmu_text.Text;}
if (gRoastierry.Visible==true){speak=rmu_text.Text;}
if (gFaganMenu.Visible==true){speak=fmu_text.Text;}
if (gMachine.Visible==true){speak=gmu_text.Text;}
if (gPawn.Visible==true){speak=pwn_text.Text;}
if (gMachine.Visible==true){speak=gmu_text.Text;}

//while(gMake.Visible==true){WaitMouseKey(1);}

if (readspeed==1){
if ((speak.Length)>=80){lastframe(400);}//WaitMouseKey(400);}
if (((speak.Length)>=60)&&((speak.Length)<80))lastframe(325);//WaitMouseKey(325);
if (((speak.Length)>=40)&&((speak.Length)<60))lastframe(250);//WaitMouseKey(250);
if (((speak.Length)>=20)&&((speak.Length)<40))lastframe(175);//WaitMouseKey(175);
if (((speak.Length)>=10)&&((speak.Length)<20))lastframe(100);//WaitMouseKey(100);
if ((speak.Length)<10){lastframe(80);}//WaitMouseKey(80);}
}

if (readspeed==4){
if ((speak.Length)>=80){lastframe(290);}//WaitMouseKey(290);WaitMouseKey(5);}
if (((speak.Length)>=70)&&((speak.Length)<80))lastframe(250);//WaitMouseKey(250);
if (((speak.Length)>=55)&&((speak.Length)<70))lastframe(200);//WaitMouseKey(200);
if (((speak.Length)>=40)&&((speak.Length)<55))lastframe(170);//WaitMouseKey(170);
if (((speak.Length)>=30)&&((speak.Length)<40))lastframe(130);//WaitMouseKey(130);
if (((speak.Length)>=20)&&((speak.Length)<30))lastframe(90);//WaitMouseKey(90);
if (((speak.Length)>=10)&&((speak.Length)<20))lastframe(60);//WaitMouseKey(60);
if ((speak.Length)<10){lastframe(30);}//WaitMouseKey(30);}
}

if (readspeed==7){
if ((speak.Length)>=80){lastframe(200);}//WaitMouseKey(200);}
if (((speak.Length)>=70)&&((speak.Length)<80))lastframe(160);//WaitMouseKey(160);
if (((speak.Length)>=55)&&((speak.Length)<70))lastframe(130);//WaitMouseKey(130);
if (((speak.Length)>=40)&&((speak.Length)<55))lastframe(100);//WaitMouseKey(100);
if (((speak.Length)>=30)&&((speak.Length)<40))lastframe(80);//WaitMouseKey(80);
if (((speak.Length)>=20)&&((speak.Length)<30))lastframe(60);//WaitMouseKey(60);
if (((speak.Length)>=10)&&((speak.Length)<20))lastframe(40);//WaitMouseKey(40);
if ((speak.Length)<10){lastframe(20);}//WaitMouseKey(20);}
}}

function blab1(){newblab();
     //if (readspeed==1)WaitMouseKey(150);
//else if (readspeed==2)WaitMouseKey(130);
//else if (readspeed==3)WaitMouseKey(120);
//else if (readspeed==4)WaitMouseKey(100);
//else if (readspeed==5)WaitMouseKey(60);
//else if (readspeed==6)WaitMouseKey(40);
//else if (readspeed==7)WaitMouseKey(30);
}

function blab2(){newblab();
     //if (readspeed==1)WaitMouseKey(200);
//else if (readspeed==2)WaitMouseKey(150);
//else if (readspeed==3)WaitMouseKey(140);
//else if (readspeed==4)WaitMouseKey(120);
//else if (readspeed==5)WaitMouseKey(80);
//else if (readspeed==6)WaitMouseKey(60);
//else if (readspeed==7)WaitMouseKey(50);
}

function blab3(){newblab();
//     if (readspeed==1)WaitMouseKey(310);
//else if (readspeed==2)WaitMouseKey(210);
//else if (readspeed==3)WaitMouseKey(190);
//else if (readspeed==4)WaitMouseKey(170);
//else if (readspeed==5)WaitMouseKey(150);
//else if (readspeed==6)WaitMouseKey(120);
//else if (readspeed==7)WaitMouseKey(90);
}

function blab4(){newblab();
//     if (readspeed==1)WaitMouseKey(400);
//else if (readspeed==2)WaitMouseKey(240);
//else if (readspeed==3)WaitMouseKey(230);
//else if (readspeed==4)WaitMouseKey(210);
//else if (readspeed==5)WaitMouseKey(190);
//else if (readspeed==6)WaitMouseKey(170);
//else if (readspeed==7)WaitMouseKey(130);
}

function blab5(){newblab();
     //if (readspeed==1)blab1();
//else if (readspeed==2)WaitMouseKey(500);
//else if (readspeed==3)WaitMouseKey(300);
//else if (readspeed==4)WaitMouseKey(250);
//else if (readspeed==5)WaitMouseKey(220);
//else if (readspeed==6)WaitMouseKey(200);
//else if (readspeed==7)WaitMouseKey(180);
}

function button_anim_killer(){
  PC_walker.NormalGraphic=1275;
  NPC_walker.NormalGraphic=1275;
  DBG1.NormalGraphic=373;
  DBG2.NormalGraphic=373;
  fmu2.NormalGraphic=373;
  fmu1.NormalGraphic=373;
  bmu1.NormalGraphic=373;
  bmu2.NormalGraphic=373;
  rmu1.NormalGraphic=373;
  rmu2.NormalGraphic=373;
  gmu1.NormalGraphic=373;
  gmu2.NormalGraphic=373;
  pwn1.NormalGraphic=373;
  pwn2.NormalGraphic=373;
  cityscroll.NormalGraphic=3296;
  cityscroll2.NormalGraphic=3296;
  int gooey=0;
  int buhhons=0;
  int traget=0;
  while (gooey<Game.GUICount){
  //if (gui[gooey].Visible==false){
  buhhons=gui[gooey].ControlCount;
    while (traget<buhhons){
      Button *theButton = gui[gooey].Controls[traget].AsButton;
      if (theButton == null) {}
      else {theButton.NormalGraphic=theButton.Graphic;} //Display("Stopped button %d in %d.",theButton.ID, gui[gooey].ID);}
      traget++;}
      //}
   gooey+=1;}
}

function places(){
  
  int w=0; while (w<Game.CharacterCount){
    if ((w!=player.ID)&&(w!=Stand.ID)&&(w!=Stack.ID)){
      character[w].ManualScaling=false;
      character[w].RemoveTint();
      character[w].StopMoving();
      character[w].ChangeRoom(0, 999, 999);
    }
    w++;
  }
  
  readytosell=false;//just in case...
if (Richard.Room==player.Room){Richard.ChangeRoom(24, 100, 100); Richard.FollowCharacter(null, 0, 0); Richard.RemoveTint();}
if (George.Room==player.Room){George.ChangeRoom(24, 100, 100); George.FollowCharacter(null, 0, 0); George.RemoveTint();}
if (Toney.Room==player.Room){Toney.ChangeRoom(24, 100, 100); Toney.FollowCharacter(null, 0, 0); Toney.RemoveTint();}
if (Troy.Room==player.Room){Troy.ChangeRoom(24, 100, 100); Troy.FollowCharacter(null, 0, 0); Troy.RemoveTint();}
if (Marcus.Room==player.Room){Marcus.ChangeRoom(24, 100, 100); Marcus.FollowCharacter(null, 0, 0); Marcus.RemoveTint();}
if (Jenny.Room==player.Room){Jenny.ChangeRoom(24, 100, 100); Jenny.FollowCharacter(null, 0, 0); Jenny.RemoveTint();}
if (Thales.Room==player.Room){Thales.ChangeRoom(24, 100, 100); Thales.FollowCharacter(null, 0, 0); Thales.RemoveTint();}
if (Kyam.Room==player.Room){Kyam.ChangeRoom(24, 100, 100); Kyam.FollowCharacter(null, 0, 0); Kyam.RemoveTint();}
if (Chris.Room==player.Room){Chris.ChangeRoom(24, 100, 100); Chris.FollowCharacter(null, 0, 0); Chris.RemoveTint();}
if (Ward.Room==player.Room){Ward.ChangeRoom(24, 100, 100); Ward.FollowCharacter(null, 0, 0); Ward.RemoveTint();}
if (TheThree.Room==player.Room){TheThree.ChangeRoom(24, 100, 100); TheThree.FollowCharacter(null, 0, 0); TheThree.RemoveTint();}
if (Dick.Room==player.Room){Dick.ChangeRoom(24, 100, 100); Dick.FollowCharacter(null, 0, 0); Dick.RemoveTint();}
if (Suchin.Room==player.Room){Suchin.ChangeRoom(24, 100, 100); Suchin.FollowCharacter(null, 0, 0); Suchin.RemoveTint();}
if (Christin.Room==player.Room){Christin.ChangeRoom(24, 100, 100); Christin.FollowCharacter(null, 0, 0); Christin.RemoveTint();}
if (Basinski.Room==player.Room){Basinski.ChangeRoom(24, 100, 100); Basinski.FollowCharacter(null, 0, 0); Basinski.RemoveTint();}
if (Alice_2.Room==player.Room){Alice_2.ChangeRoom(24, 100, 100); Alice_2.FollowCharacter(null, 0, 0); Alice_2.RemoveTint();}
if (Tim2.Room==player.Room){Tim2.ChangeRoom(24, 100, 100); Tim2.FollowCharacter(null, 0, 0); Tim2.RemoveTint();}
if (Jessi.Room==player.Room){Jessi.ChangeRoom(24, 100, 100); Jessi.FollowCharacter(null, 0, 0); Jessi.RemoveTint();}
if (Julian.Room==player.Room){Julian.ChangeRoom(24, 100, 100); Julian.FollowCharacter(null, 0, 0); Julian.RemoveTint();}
if (Harry.Room==player.Room){Harry.ChangeRoom(24, 100, 100); Harry.RemoveTint();}
if (Nelly.Room==player.Room){Nelly.ChangeRoom(24, 100, 100); Nelly.RemoveTint();}
if ((Andrus.Room==player.Room)&&(npcAndrus_location!=player.Room)){Andrus.ChangeRoom(24, 100, 100); Andrus.RemoveTint();}
if (Winston.Room==player.Room){Winston.ChangeRoom(24, 100, 100); Winston.RemoveTint();}
if (Stephen.Room==player.Room){Stephen.ChangeRoom(24, 100, 100); Stephen.RemoveTint();}
if (Seth.Room==player.Room){Seth.ChangeRoom(24, 100, 100); Seth.RemoveTint();}
if (Sebastian.Room==player.Room){Sebastian.ChangeRoom(24, 100, 100); Sebastian.RemoveTint();}
if (Clarence.Room==player.Room){Clarence.ChangeRoom(24, 100, 100); Clarence.RemoveTint();}
if (Johns.Room==player.Room){Johns.ChangeRoom(24, 100, 100); Johns.FollowCharacter(null, 0, 0); Johns.RemoveTint();}
//Specials
if (Eddie.Room==player.Room){Eddie.ChangeRoom(31, 184, 144); Eddie.RemoveTint();}
if (Betsy.Room==player.Room){Betsy.ChangeRoom(30, 160, 109); Betsy.RemoveTint();}
if (Faith.Room==player.Room){Faith.ChangeRoom(31, 240, 141); Faith.RemoveTint();}
if (TJ.Room==player.Room){TJ.ChangeRoom(33, 247, 143); TJ.RemoveTint();}
if ((Vinny.Room==player.Room)&&(player.Room!=npcVinny_location)){Vinny.ChangeRoom(24, 100, 100); Vinny.RemoveTint();}
if (Bramford.Room==player.Room){Bramford.UnlockView(); Bramford.ChangeRoom(18, 437, 105); Bramford.RemoveTint();}
if (Dwayne.Room==player.Room){Dwayne.ChangeRoom(35, 357, 155); Dwayne.RemoveTint();}
if (Stephanie.Room==player.Room){Stephanie.ChangeRoom(33, 106, 144); Stephanie.RemoveTint();}
if (Glenda.Room==player.Room){Glenda.ChangeRoom(18, 183, 152); Glenda.RemoveTint();}
if (Meadow.Room==player.Room){Meadow.UnlockView(); Meadow.ChangeRoom(32, 266, 61); Meadow.RemoveTint();}
if (Melody.Room==player.Room){Melody.UnlockView(); Melody.ChangeRoom(15, 184, 155); Melody.RemoveTint();}
if (Matts.Room==player.Room){Matts.UnlockView(); Matts.ChangeRoom(24, 184, 155); Matts.RemoveTint();}
if ((Omar.Room==player.Room)&&(Omar.Room!=34)&&(Omar.Room!=26)){Omar.UnlockView(); Omar.ChangeRoom(24, 184, 155); Omar.RemoveTint(); Omar.ManualScaling=false;}
if (DC.Room==player.Room){DC.UnlockView(); DC.ChangeRoom(24, 184, 155); DC.RemoveTint();}
if (Thomas.Room==player.Room){Thomas.ChangeRoom(24, 100, 100); Thomas.RemoveTint();}

//Laura and Rebecca should be handled in the rooms's headers if they need to be there at a certain time.
if (Laura.Room==player.Room){Laura.ChangeRoom(24, 100, 100); Laura.RemoveTint();}
if (Rebecca.Room==player.Room){Rebecca.ChangeRoom(24, 100, 100); Rebecca.RemoveTint();}

button_anim_killer();//When changing rooms, kill all latent animations to prevent "TOO MANY ANIMATING GUI BUTTONS" error.
}

function relationshipcheck(){
if (salebuyer==("DC")){small_customer=small_DC; Customer=DC;}
if (salebuyer==("Stephen")){small_customer=small_stephen; Customer=Stephen;}
if (salebuyer==("Matts")){small_customer=small_Matts; Customer=Matts;}
if (salebuyer==("Richard")){small_customer=small_Richard; Customer=Richard;}
if (salebuyer==("Troy")){small_customer=small_Troy; Customer=Troy;}
if (salebuyer==("Kyam")){small_customer=small_Kyam; Customer=Kyam;}
if (salebuyer==("Chris")){small_customer=small_Chris; Customer=Chris;}
if (salebuyer==("Ward")){small_customer=small_Ward; Customer=Ward;}
if (salebuyer==("Sebastian")){small_customer=small_Seb; Customer=Sebastian;}
if (salebuyer==("Johns")){small_customer=small_Johns; Customer=Johns;}
if (salebuyer==("Nelly")){small_customer=small_Nelly; Customer=Nelly;}
if (salebuyer==("Clarence")){small_customer=small_clarence; Customer=Clarence;}
if (salebuyer==("Christin")){small_customer=small_Christin; Customer=Christin;}
if (salebuyer==("Jessi")){small_customer=small_Jessi; Customer=Jessi;}
if (salebuyer==("Julian")){small_customer=small_Julian; Customer=Julian;}
if (salebuyer==("Eva")){small_customer=0; Customer=Evangeline; Customer=Evangeline;}
if (salebuyer==("Marcus")){small_customer=small_Marcus; Customer=Marcus;}
if (salebuyer==("Jenny")){small_customer=small_Jenny; Customer=Jenny;}
if (salebuyer==("Toney")){small_customer=small_Toney; Customer=Toney;}
if (salebuyer==("Dick")){small_customer=small_Dick; Customer=Dick;}
if (salebuyer==("The Three")){small_customer=small_Three; Customer=TheThree;}
if (salebuyer==("Meadow")){small_customer=small_Meadow; Customer=Meadow;}
if (salebuyer==("Glenda")){small_customer=small_Glenda; Customer=Glenda;}
if (salebuyer==("George")){small_customer=0; Customer=George;}
if (salebuyer==("Barneys")){small_customer=small_barneys; Customer=cBarneys;}
if (salebuyer==("Stephanie")){small_customer=small_Steph; Customer=Stephanie; Customer=Stephanie;}
if (salebuyer==("Betsy")){small_customer=small_Betsy; Customer=Betsy; Customer=Betsy;}
if (salebuyer==("Andrus")){small_customer=small_Andrus; Customer=Andrus;}
if (salebuyer==("Melanie")){small_customer=small_Mel; Customer=Melanie;}
if (salebuyer==("Vinny")){small_customer=small_Vinny; Customer=Vinny;}
if (salebuyer==("Logan")){small_customer=small_Logan; Customer=Logan;}
if (salebuyer==("Dwayne")){small_customer=small_Dwayne; Customer=Dwayne;}
if (salebuyer==("Bramford")){small_customer=small_Bram; Customer=Bramford;}
if (salebuyer==("Basinski")){small_customer=small_Bas; Customer=Basinski;}
if (salebuyer==("Carolina")){small_customer=0; Customer=Carolina;}
if (salebuyer==("Suchin")){small_customer=small_Suchin; Customer=Suchin;}
if (salebuyer==("Alice")){small_customer=small_Alice; Customer=cAlice;}
if (salebuyer==("Seany")){small_customer=small_fagan; Customer=cSeany;}
if (salebuyer==("TJ")){small_customer=small_TJ; Customer=TJ; Customer=TJ;}
if (salebuyer==("Omar")){small_customer=small_Omar; Customer=Omar; Customer=Omar;}
if (salebuyer==("Tim")){small_customer=small_Bigby; Customer=cTimothy;}
if (salebuyer==("Melody")){small_customer=small_Melody; Customer=Melody; Customer=Melody;}
if (salebuyer==("Faith")){small_customer=small_Faith; Customer=Faith; Customer=Faith;}
if (salebuyer==("Thales")){small_customer=small_Thales; Customer=Thales;}
if (salebuyer==("Eddie")){small_customer=small_Eddie; Customer=Eddie; Customer=Eddie;}
}

function getTemperence(){
if (salebuyer==("Richard")){temperance=4;}
else if (salebuyer==("Troy")){temperance=4;}
else if (salebuyer==("Stephen")){temperance=1;}//Least patient character!
else if (salebuyer==("Kyam")){temperance=4;}
else if (salebuyer==("Chris")){temperance=3;}
else if (salebuyer==("Ward")){temperance=3;}
else if (salebuyer==("Sebastian")){temperance=4;}
else if (salebuyer==("Johns")){temperance=5;}
else if (salebuyer==("Nelly")){temperance=2;}
else if (salebuyer==("Christin")){temperance=2;}
else if (salebuyer==("Jessi")){temperance=2;}
else if (salebuyer==("Julian")){temperance=5;}
else if (salebuyer==("Eva")){temperance=1;}
else if (salebuyer==("Marcus")){temperance=2;}
else if (salebuyer==("Jenny")){temperance=3;}
else if (salebuyer==("Toney")){temperance=2;}
else if (salebuyer==("Dick")){temperance=3;}
else if (salebuyer==("The Three")){temperance=5;}
else if (salebuyer==("Meadow")){temperance=4;}
else if (salebuyer==("Glenda")){temperance=4;}
else if (salebuyer==("George")){temperance=2;}
else if (salebuyer==("Barneys")){temperance=2;}
else if (salebuyer==("Stephanie")){temperance=3;}
else if (salebuyer==("Betsy")){temperance=3;}
else if (salebuyer==("Andrus")){temperance=5;}
else if (salebuyer==("Melanie")){temperance=4;}
else if (salebuyer==("Vinny")){temperance=5;}
else if (salebuyer==("Logan")){temperance=2;}
else if (salebuyer==("Dwayne")){temperance=3;}
else if (salebuyer==("Bramford")){temperance=4;}
else if (salebuyer==("Basinski")){temperance=3;}
else if (salebuyer==("Suchin")){temperance=5;}
else if (salebuyer==("Alice")){temperance=10;}//Most Patient character!
else if (salebuyer==("Seany")){temperance=3;}
else if (salebuyer==("TJ")){temperance=3;}
else if (salebuyer==("Omar")){temperance=3;}
else if (salebuyer==("Tim")){temperance=4;}
else if (salebuyer==("Melody")){temperance=3;}
else if (salebuyer==("Faith")){temperance=3;}
else if (salebuyer==("Thales")){temperance=5;}
else if (salebuyer==("Eddie")){temperance=3;}
else {temperance=4;}//Anybody else?
if ((saleitem==("Americano"))||(saleitem==("Cappuccino"))||(saleitem==("Mocha"))||(saleitem==("Latte"))){temperance+=3;}//Takes longer->More Patience
temperance+=temperance;//I love you, Jenny.
temperance+=2;//I still love you, Jenny.
}

function Areatick(){
  if (player.Room==5)fFranklin+=1;
  if (player.Room==13)fBridge+=1;
  if (player.Room==14)fDowntown+=1;
  if (player.Room==17)fDowntown+=1;
  if (player.Room==26)fCollins+=1;
  if (player.Room==20)fFlorin+=1;
  if (player.Room==22)f13th+=1;}

function RemoveTextItem(String nameofentry) {
   int index;
   while (index < Menu.ItemCount) {
      if (Menu.Items[index].CompareTo(nameofentry) == 0) Menu.RemoveItem(index);
      else index++;
      }
   }

function RemoveRaxItem(String nameofentry) {
   int index;
   while (index < raxbylist.ItemCount) {
      if (raxbylist.Items[index].CompareTo(nameofentry) == 0) raxbylist.RemoveItem(index);
      else index++;
      }
   }

function StartAnimatingIfNotAnimating( int view, int loop, int delay ) {
  
    if (player.Animating == false)
    {
        player.LockView( view );
        player.Animate( loop, delay, eRepeat, eNoBlock );
    }

}

function StopAnimating( ) {
  
    if (player.Animating == true)
    {
        player.UnlockView(); // stop animating the player
    }
}

function LoseAllInv(this Character*){
int i = 1;
      while (i < (Game.InventoryItemCount + 1)) {
      if (this.InventoryQuantity[i] != 0) {
      this.LoseInventory(inventory[ i ]);}
      i++;}
}



bool Contains(this ListBox*, String s) {
  int i = 0;
  bool found = false;
  while(i < this.ItemCount){
    if(this.Items[i] == s) found = true;
    i++;
  }
  return found;
}

//Closeall
function CloseAll(){
mouse.Visible=false; gPanel.Visible=false; gStand_Gui.Visible=false; gPrice_Gui.Visible=false; gUpgrades_Gui.Visible=false;
gCoffee_S.Visible=false; gCoffee_A.Visible=false; gCoffee_B.Visible=false; gCoffee_C.Visible=false; gCoffee_D.Visible=false; 
gBigbyMenu.Visible=false; gBuyItem.Visible=false; gFaganMenu.Visible=false; gRoastierry.Visible=false; gRoastierry.Visible=false;
gPaper_Gui.Visible=false; gChai.Visible=false; gMilk.Visible=false; gGui1.Visible=false; gCocoa.Visible=false; 
gEatdrink.Visible=false;
gAppearance_v.Visible=false; gAmericano.Visible=false; gSuperstore.Visible=false; 
gEquipment_ss.Visible=false; gIngredients_ss.Visible=false; gItems_ss.Visible=false;
gItemDesc.Visible=false; gEatdrink.Visible=false; gLatte.Visible=false; gCrest.Visible=false; gRinse.Visible=false; 
gCook.Visible=false; gCook2.Visible=false; gCappuccino.Visible=false; gMocha.Visible=false; gChailatte.Visible=false; 
gThirstex.Visible=false; gBagel_p.Visible=false; gPawn.Visible=false; gMachine.Visible=false; gHotdog.Visible=false; 
gComics.Visible=false; gCDs.Visible=false; 
gBuyortalk.Visible=false;//Not sure about this...?
mouse.Mode=eModeLookat; pwnbuyorsell=0; pwn_sellbtn.NormalGraphic=3630; pwn_sellbtn.MouseOverGraphic=3631;//Double-sure of Pawnshop Buy Mode
SetGlobalInt(100,0);}

function TalkPop()
{
  PlaySound(47); Wait(5); dName.Text=(" "); dText.Text=(" ");
  dpb.Visible=false;
  if (GetGlobalInt(1) == 1) { 
                         if (player.Room==29){player.LockView(28); player.Animate(8, 3, eRepeat, eNoBlock);}
                         if ((player.Room!=29)&&(GetGlobalInt(52)==0)){player.LockView(71); player.Animate(0, 3, eRepeat, eNoBlock);}//Andrus!
                         if ((player.Room!=29)&&(GetGlobalInt(52)==1)){player.LockView(28); player.Animate(2, 3, eRepeat, eNoBlock);}}//Andrus!
  if (GetGlobalInt(1) == 2) {}//Melanie!
  if (GetGlobalInt(1) == 3) {player.LockView(14); player.Animate(6, 3, eRepeat, eNoBlock);}//Vinny!
  if (GetGlobalInt(1) == 4) {}//Logan!
  gDialog.Centre();
  gDialog.Y = 7;
  gDialog.Visible=true;
  DBG0.Animate(32, 0, 1, eOnce);
  DBG1.Animate(26, 0, 2, eOnce);
  DBG2.Animate(26, 0, 2, eOnce);
  nameplate.Animate(55, 0, 2, eOnce);
  dName.Visible=true; dText.Visible=true; nameplate.Visible=true;
}


function UnlockMusic() {
    PlaySound(99);
    gNotify.Centre();
    gNotify.X -= 100;
    gNotify.Y = 10;
    notification.NormalGraphic = 3284;
    gNotify.Visible=true;
    notification.Animate(99, 1, 1, eOnce);
}

function InfoPop(int img, int vert)
{SetTimer(18, 0); SetTimer(17, 0);
  PlaySound(99);
  gInfo.Centre();
  gInfo.Y = vert;
  info_anim.NormalGraphic=3276;
  gInfo.Visible=true;
  info_anim.Animate(26, 3,1, eOnce);
  info_image.NormalGraphic=img;
  SetTimer(18, 20);
}

function InfoStop()
{SetTimer(18, 0); SetTimer(17, 0);
  info_image.Visible=false; info_image.NormalGraphic=3277; 
  info_anim.Animate(26, 2, 1, eOnce);
}

function TopUp(String one, String two){
  PlaySound(99);
  topitm_charname.Visible=false;
  topbar1.Text=String.Format("%s",one);
  topbar2.Text=String.Format("%s",two);
if (two.Length<=20){topbar2.Font=3;}
if ((two.Length>=21)&&(two.Length<=40)){topbar2.Font=0;}
if ((two.Length>=41)&&(two.Length<=60)){topbar2.Font=1;}
if (two.Length>=61){topbar2.Font=4;}
  Topbar.Centre();
  Topbar.Visible=true;
  barlay_anim.Animate(207, 0, 0, eOnce);
  WaitMouseKey(barspeed);//Variable Attribute depends on text speed
  Topbar.Visible=false;
  topbar1.Text=(" ");
  topbar2.Text=(" ");
}

function TopItem(String desc, String cost, int itempic){
  PlaySound(99);
  topitm_charname.Visible=false;
  topitm_desc.Text=String.Format("%s",desc);
  topcost.Text=String.Format("%s",cost);
  topitm.NormalGraphic=itempic;
  topitm.Visible=true;
  topitm_sale.Visible=false;
  Infobg.NormalGraphic=5021;
  TopInfo.Centre();
  TopInfo.Visible=true;
  Infobg.Animate(192, 1, 1, eOnce);
  WaitMouseKey(barspeed);//Variable Attribute depends on text speed
  TopInfo.Visible=false;
  topitm_desc.Text=(" ");
  topcost.Text=(" ");
}

function TopSale(String desc, String cost, int itempic){
  PlaySound(99);
  topitm_charname.Visible=false;
  topitm_desc.Text=String.Format("%s",desc);
  topitm_sale.Text=String.Format("%s",cost);
  topitm.NormalGraphic=itempic;
  topitm.Visible=true;
  topcost.Visible=false;
  topitm_sale.Visible=true;
  Infobg.NormalGraphic=5060;
  TopInfo.Centre();
  TopInfo.Visible=true;
  Infobg.Animate(192, 3, 1, eOnce);
  WaitMouseKey(barspeed);//Variable Attribute depends on text speed
  TopInfo.Visible=false;
  topitm_desc.Text=(" ");
  topcost.Text=(" ");
  topcost.Visible=true;
  topitm_sale.Visible=false;
}

function FinePop(){
  PlaySound(60);
  topitm_desc.Text=(" ");
  topcost.Text=(" ");
  topitm_sale.Visible=false;
  topitm.Visible=false;
  TopInfo.Centre();
  Infobg.NormalGraphic=5019;
  TopInfo.Visible=true;
  Infobg.Animate(192, 2, 1, eOnce);
  WaitMouseKey(barspeed);//Variable Attribute depends on text speed
  TopInfo.Visible=false;
  topitm_desc.Text=(" ");
  topcost.Text=(" ");
  if (GetGlobalInt(1)==1){caffeine.Width=10;}//Wow, I need a smoke.
}

function Insufficiency(){
  PlaySound(60);
  topitm_desc.Text=(" ");
  topcost.Text=(" ");
  topitm_sale.Visible=false;
  topitm.Visible=false;
  TopInfo.Centre();
  Infobg.NormalGraphic=5022;
  TopInfo.Visible=true;
  Infobg.Animate(192, 0, 1, eOnce);
  WaitMouseKey(barspeed);//Variable Attribute depends on text speed
  TopInfo.Visible=false;
  topitm_desc.Text=(" ");
  topcost.Text=(" ");
  if (vitality.Width>=50){vitality.Width-=10;}
}

function StopPop()
{
  if(gDialog.Visible==true)
  {
  dpb.Visible=false;
  PlaySound(47);
  dName.Visible=false; dText.Visible=false; 
  dName.Text=(" "); dText.Text=(" ");
  DBG0.Animate(32, 1, 1, eOnce);
  DBG1.Animate(26, 1, 2, eOnce);
  DBG2.Animate(26, 1, 2, eOnce);
  nameplate.Animate(55, 1, 2, eOnce);
  if (SaleInProgress==1){SaleInProgress=0;}
  if (player.Room==7){SetTimer(1, 120);}//For Suchin + Matt's mannerisms  
  }
else{}}

function boxadd(String Blah) {
    if (! topicbox.Contains(Blah)) {
        topicbox.AddItem(Blah);
        if (gNotify.Visible==false) {
            PlaySound(99);
            gNotify.Centre();
            gNotify.X-=100;
            gNotify.Y = 10;
            notification.NormalGraphic=3284;
            gNotify.Visible=true;
            notification.Animate(99, 2, 1, eOnce);
        }
    }
}

//Breakaway
function breakaway(this Character*){
    SaleInProgress=0;
    if (queposition>=1) {
        queposition-=1;
    }
    if (queposition>maxque) {
        //Depleting one more, in case of special encounters pushing the line past the limit
        queposition-=1;
    }

    que[0]=que[1];
    que[1]=que[2];
    que[2]=que[3];
    que[3]=que[4];
    que[4]=que[5];//========Moved all of this to breakaway();
    que[5]=que[6];
    que[6]=que[7];
    que[7]=que[8];
    que[8]=que[9];
    //que[9]=que[10];//Throwing a crash?


    dice=0;//Prevents "invalid index number" error by resetting this int after every sale
    int runawayside = Random(1);
    if (this.Room==player.Room){//Seems redundant, but sometimes crashes?
    if ((this.Room!=20)&&(this.Room!=13)){//Regular
           if (runawayside==0){this.Walk(-10, this.y, eNoBlock, eAnywhere);}
      else if (runawayside!=0){this.Walk(800, this.y, eNoBlock, eAnywhere);}}

    else if (this.Room==20){//Florin
         if(this.x<=320){ this.Walk(-10, 192, eNoBlock, eAnywhere);}
    else if(this.x>320){  this.Walk(760, 146, eNoBlock, eAnywhere);}}

    else if (this.Room==13){//Bridge
         if (runawayside==0){this.AddWaypoint(424, 88); this.AddWaypoint(424, 88); this.AddWaypoint(470, 116); this.AddWaypoint(550, 116);}
    else if (runawayside==1){this.AddWaypoint(140, 89); this.AddWaypoint(89, 116); this.AddWaypoint(76, 115); this.AddWaypoint(-6, 160);}
    }}
}



function chasedown(this Character*) {
    if ((this.Room!=20)&&(this.Room!=13)){//Regular
           if (this.x>player.x){this.Walk(-10, this.y, eNoBlock, eAnywhere);}
      else if (this.x<player.x){this.Walk(800, this.y, eNoBlock, eAnywhere);}}

    else if (this.Room==20){//Florin
    this.Baseline=(Stand.y + 3);
    if (this.x>player.x){this.x=3; this.y=186;
    this.Walk(309, 161, eNoBlock, eAnywhere); this.AddWaypoint(394, 160); this.AddWaypoint(748, 143); this.AddWaypoint(775, 143);}
    if (this.x<player.x){this.x=748; this.y=143;
    this.Walk(394, 160, eNoBlock, eAnywhere); this.AddWaypoint(309, 162); this.AddWaypoint(3, 189); this.AddWaypoint(-20, 100);}}

    else if (this.Room==13){//Bridge
    this.Baseline=(Stand.y + 3);
    if (this.x>player.x){this.x=493; this.y=114;
    this.Walk(470, 116, eNoBlock, eAnywhere); this.AddWaypoint(424, 88); this.AddWaypoint(424, 88); this.AddWaypoint(140, 89);
    this.AddWaypoint(89, 116); this.AddWaypoint(76, 115); this.AddWaypoint(-6, 160); }
    if (this.x<player.x){this.x=6; this.y=153;
    this.Walk(76, 115, eNoBlock, eAnywhere); this.AddWaypoint(89, 116); this.AddWaypoint(140, 87); this.AddWaypoint(424, 88);
    this.AddWaypoint(424, 88); this.AddWaypoint(470, 116); this.AddWaypoint(550, 116);}}
}


/**
 * Play a song, but only if musique >= 18?
 * Still not sure what musique is, but it might have to do with volume
 */
function NatMusic(int sng) {
    if (musique <= 17) {

    } else if (musique >= 18) {
        if (stereopower == 0) {
            PlayMusic(sng);
        }
        else if (stereopower != 0) {
            if (cued != sng) cued = sng;
        }
    }
}


function gTutorial() {
    TopUp("tutorial","This is the main menu.");
    TopUp("tutorial","From here, you can adjust each aspect of your operation.");
    TopUp("tutorial","Select an option from below to learn more.");
    SetGlobalInt(107, 99);
}

function Richardtalk(){
    if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
    int tks=Random(2); if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
    Richard.Animate(0, 3, eRepeat, eNoBlock); DBG2.Animate(58, 0, 3, eRepeat);
    if (small_Richard==0){dName.Text=("Customer: ");}
    else if (small_Richard!=0){dName.Text=("Richard: ");}
}

function Richardlisten(){Richard.Animate(1, 3, eRepeat, eNoBlock); DBG2.Animate(58, 1, 3, eRepeat);}

function Troytalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
Troy.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(75, 0, 3, eRepeat); 
if (small_Troy==0){dName.Text=("Customer: ");}
else if (small_Troy!=0){dName.Text=("Troy: ");}}
function Troylisten(){Troy.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(75, 1, 3, eRepeat);}

function Kyamtalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
Kyam.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(125, 0, 3, eRepeat); 
if (small_Kyam==0){dName.Text=("Customer: ");}
else if (small_Kyam!=0){dName.Text=("Kyam: ");}}
function Kyamlisten(){Kyam.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(125, 1, 3, eRepeat);}

function Christalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
Chris.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(142, 0, 3, eRepeat);
if (small_Chris==0){dName.Text=("Customer: ");}
else if (small_Chris!=0){dName.Text=("Chris: ");}}
function Chrislisten(){Chris.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(142, 1, 3, eRepeat);}

function Wardtalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
Ward.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(150, 0, 3, eRepeat);
if (small_Ward==0){dName.Text=("Customer: ");}
else if (small_Ward!=0){dName.Text=("Ward: ");}}
function Wardlisten(){Ward.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(150, 1, 3, eRepeat);}

function Sebtalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
Sebastian.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(145, 0, 3, eRepeat);
if (small_Seb==0){dName.Text=("Customer: ");}
else if (small_Seb!=0){dName.Text=("Sebastian: ");}}
function Seblisten(){Sebastian.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(145, 1, 3, eRepeat);}

function Thalestalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
DBG2.Animate(106, 0, 3, eRepeat);
if (small_Thales==0){dName.Text=("Policeman: ");}
else if (small_Thales!=0){dName.Text=("Thales: ");}
if (Thales.Room==18){Thales.Animate(7, 3, eRepeat, eNoBlock);}//Sit_n_Chat
else {Thales.Animate(4, 3, eRepeat, eNoBlock);}//All Business
}
function Thaleslisten(){DBG2.Animate(106, 1, 3, eRepeat);
if (Thales.Room==18){Thales.Animate(8, 3, eRepeat, eNoBlock);}//Sit_n_Chat
else {Thales.Animate(5, 3, eRepeat, eNoBlock);}//All Business
}

function Johnstalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(10, 3); else if (tks==1) PlaySoundEx(11, 3); else if (tks==2) PlaySoundEx(12, 3);
DBG2.Animate(199, 0, 3, eRepeat); Johns.Animate(4, 3, eRepeat, eNoBlock);
if (small_Johns==0){dName.Text=("Policeman: ");}
else if (small_Johns!=0){dName.Text=("Johns: ");}}
function Johnslisten(){DBG2.Animate(199, 1, 3, eRepeat); Johns.Animate(5, 3, eRepeat, eNoBlock);}

function Nellytalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(3); if (tks==0) PlaySoundEx(94, 3); else if (tks==1) PlaySoundEx(96, 3); else if (tks==2) PlaySoundEx(97, 3); else if (tks==3) PlaySoundEx(95, 3);
DBG2.Animate(201, 0, 3, eRepeat); Nelly.Animate(4, 3, eRepeat, eNoBlock);
if (small_Nelly==0){dName.Text=("Customer: ");}
else if (small_Nelly!=0){dName.Text=("Nelly: ");}}
function Nellylisten(){DBG2.Animate(201, 1, 3, eRepeat); Nelly.Animate(5, 3, eRepeat, eNoBlock);}

function Christintalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
Christin.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(166, 0, 3, eRepeat); 
if (small_Christin==0){dName.Text=("Customer: ");}
else if (small_Christin!=0){dName.Text=("Christin: ");}}
function Christinlisten(){Christin.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(166, 1, 3, eRepeat);}

function Jessitalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(100, 3); else if (tks==1) PlaySoundEx(101, 3); else if (tks==2) PlaySoundEx(102, 3);
Jessi.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(185, 0, 3, eRepeat);
if (small_Jessi==0){dName.Text=("Customer: ");}
else if (small_Jessi!=0){dName.Text=("Jessi: ");}}
function Jessilisten(){Jessi.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(185, 1, 3, eRepeat);}

function Juliantalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
Julian.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(187, 0, 3, eRepeat);
if (small_Julian==0){dName.Text=("Customer: ");}
else if (small_Julian!=0){dName.Text=("Julian: ");}}
function Julianlisten(){Julian.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(187, 1, 3, eRepeat);}

function Evatalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(100, 3); else if (tks==1) PlaySoundEx(101, 3); else if (tks==2) PlaySoundEx(102, 3);
Evangeline.Animate(0, 3, eRepeat, eNoBlock); DBG2.Animate(190, 0, 3, eRepeat);dName.Text=("Evangeline: ");}
function Evalisten(){Evangeline.Animate(1, 3, eRepeat, eNoBlock); DBG2.Animate(190, 1, 3, eRepeat);}

function Melodytalk(){
if (gBigbyMenu.Visible==true){bigby_pb.Visible=true; bigby_pb.Animate(127, 0, (pbspeed), eOnce); bmu2.Animate(197, 0, 3, eRepeat);}
if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce); DBG2.Animate(197, 0, 3, eRepeat);}
int tks=Random(2); if (tks==0) PlaySoundEx(100, 3); else if (tks==1) PlaySoundEx(101, 3); else if (tks==2) PlaySoundEx(102, 3);
Melody.Animate(4, 3, eRepeat, eNoBlock); 
if (small_Melody==0){dName.Text=("Butcher: "); bmu_speaker.Text=("Butcher: ");}
else if (small_Melody!=0){dName.Text=("Melody: "); bmu_speaker.Text=("Melody: ");}}
function Melodylisten(){
if (gBigbyMenu.Visible==true){bmu2.Animate(197, 1, 3, eRepeat);}
if (gBigbyMenu.Visible==false){DBG2.Animate(197, 1, 3, eRepeat);}
Melody.Animate(5, 3, eRepeat, eNoBlock);}

function Ccalicetalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(3); if (tks==0) PlaySoundEx(80, 3); else if (tks==1) PlaySoundEx(81, 3); else if (tks==2) PlaySoundEx(82, 3); else if (tks==3) PlaySoundEx(83, 3);
Alice_2.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(168, 0, 3, eRepeat);
if (small_Alice==0){dName.Text=("Customer: ");}
else if (small_Alice!=0){dName.Text=("Alice: ");}}
function Ccalicelisten(){Alice_2.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(168, 1, 3, eRepeat);}

function Marcustalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
Marcus.Animate(0, 3, eRepeat, eNoBlock); DBG2.Animate(63, 0, 3, eRepeat);
if (small_Marcus==0){dName.Text=("Marcus: ");}
else if (small_Marcus!=0){dName.Text=("Marcus: ");}}
function Marcuslisten(){Marcus.Animate(1, 3, eRepeat, eNoBlock); DBG2.Animate(63, 1, 3, eRepeat);}

function Jennytalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(3); if (tks==0) PlaySoundEx(80, 3); else if (tks==1) PlaySoundEx(81, 3); else if (tks==2) PlaySoundEx(82, 3); else if (tks==3) PlaySoundEx(83, 3);
Jenny.Animate(0, 3, eRepeat, eNoBlock); DBG2.Animate(91, 0, 3, eRepeat);
if (small_Jenny==0){dName.Text=("Customer: ");}
else if (small_Jenny!=0){dName.Text=("Jenny: ");}}
function Jennylisten(){Jenny.Animate(1, 3, eRepeat, eNoBlock); DBG2.Animate(91, 1, 3, eRepeat);}

function Toneytalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
Toney.Animate(3, 3, eRepeat, eNoBlock); DBG2.Animate(53, 0, 3, eRepeat);
if (small_Toney==0){dName.Text=("Customer: ");}
else if (small_Toney!=0){dName.Text=("Toney: ");}}
function Toneylisten(){Toney.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(53, 1, 3, eRepeat);}

function Dicktalk(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
Dick.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(161, 0, 3, eRepeat);
if (small_Dick==0){dName.Text=("Customer: ");}
else if (small_Dick!=0){dName.Text=("Dick: ");}}
function Dicklisten(){Dick.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(161, 1, 3, eRepeat);}

function Threetalk_M(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
TheThree.Animate(4, 3, eRepeat, eNoBlock); DBG2.Animate(159, 0, 3, eRepeat);
if (small_Three==0){dName.Text=("Short One: ");}
else if (small_Three!=0){dName.Text=("Michael: ");}}

function Threetalk_P(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
TheThree.Animate(5, 3, eRepeat, eNoBlock); DBG2.Animate(159, 2, 3, eRepeat);
if (small_Three==0){dName.Text=("Dark Haired One: ");}
else if (small_Three!=0){dName.Text=("Philip: ");}}

function Threetalk_S(){if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
int tks=Random(2); if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
TheThree.Animate(6, 3, eRepeat, eNoBlock); DBG2.Animate(159, 4, 3, eRepeat);
if (small_Three==0){dName.Text=("Baseball Cap: ");}
else if (small_Three!=0){dName.Text=("Steve: ");}}

function Threelisten(){TheThree.Animate(0, 3, eRepeat, eNoBlock); DBG2.Animate(159, 6, 3, eRepeat);}


function PCListen()
{
if (gBigbyMenu.Visible==false){bmu1.NormalGraphic=105;}
if (gRoastierry.Visible==false){rmu1.NormalGraphic=105; rmu2.NormalGraphic=105;}
if (gPawn.Visible==false){pwn1.NormalGraphic=105; pwn2.NormalGraphic=105;}
if (gFaganMenu.Visible==false){fmu1.NormalGraphic=105; fmu2.NormalGraphic=105;}
if (gMachine.Visible==false){gmu1.NormalGraphic=105; gmu2.NormalGraphic=105;}
  
 if (GetGlobalInt(1) == 1) {
     int andyview; int andyloop;
     if (drunkenness<=6){andyview=16; 
           //longface
          if (vitality.Width>=55){andyloop=1;}
          else if ((vitality.Width<55)&&(vitality.Width>20)){andyloop=25;}
          else if (vitality.Width<=20){andyloop=27;}}
     else if (drunkenness>6){andyview=112; andyloop=0;}//drunkface
    //GO!
     if (gDialog.Visible==true){
     if (player.Room==29){DBG1.Animate(16, 14, 3, eRepeat);}
     if (player.Room!=29){DBG1.Animate(andyview, andyloop, 3, eRepeat);}}
else if (gRoastierry.Visible==true){rmu1.NormalGraphic=52; rmu1.Animate(andyview, andyloop, 3, eRepeat);}
else if (gFaganMenu.Visible==true){fmu1.NormalGraphic=52; fmu1.Animate(andyview, andyloop, 3, eRepeat);}
else if (gPawn.Visible==true){pwn1.NormalGraphic=52; pwn1.Animate(andyview, andyloop, 3, eRepeat);}
else if (gMachine.Visible==true){gmu1.NormalGraphic=52; gmu1.Animate(andyview, andyloop, 3, eRepeat);}
 else if (gBigbyMenu.Visible==true){bmu1.NormalGraphic=52; bmu1.Animate(andyview, andyloop, 3, eRepeat);}
                             //Dreamstate Override
                             if (player.Room==29){player.LockView(28); player.Animate(8, 3, eRepeat, eNoBlock);}
                             if ((player.Room!=29)&&(GetGlobalInt(52)==0)){player.LockView(71); player.Animate(0, 3, eRepeat, eNoBlock);}//Andrus!
                             if ((player.Room!=29)&&(GetGlobalInt(52)==1)){player.LockView(28); player.Animate(2, 3, eRepeat, eNoBlock);}
}//End Andrus                            
                             
  if (GetGlobalInt(1) == 2) {//Melanie!
        if (player.IdleView==81){//Dream State
        if (gDialog.Visible==true){DBG1.NormalGraphic=87; DBG1.Animate(24, 8, 3, eRepeat);}
        player.LockView(81); player.Animate(5, 3, eRepeat, eNoBlock);}//End Dream State
   else if (player.IdleView!=81){//Real Life / Not Dreaming
    int melloop; int melview;
         if (drunkenness<=3){melview=24;
              //longface_mel
              if (vitality.Width>=55){melloop=1;}
              else if ((vitality.Width<55)&&(vitality.Width>20)){melloop=10;}
              else if (vitality.Width<=20){melloop=12;}}
         else if (drunkenness>3){melview=24; melloop=4;}
    if (gDialog.Visible==true){DBG1.Animate(melview, melloop, 3, eRepeat);}
    if (gFaganMenu.Visible==true){fmu1.NormalGraphic=84; fmu1.Animate(melview, melloop, 3, eRepeat);}
    if (gPawn.Visible==true){pwn1.NormalGraphic=84; pwn1.Animate(melview, melloop, 3, eRepeat);}
    if (gRoastierry.Visible==true){rmu1.NormalGraphic=84; rmu1.Animate(melview, melloop, 3, eRepeat);}
    if (gBigbyMenu.Visible==true){bmu1.NormalGraphic=84; bmu1.Animate(melview, melloop, 3, eRepeat);}
    if (gMachine.Visible==true){gmu1.NormalGraphic=84; gmu1.Animate(melview, melloop, 3, eRepeat);}
                             //Body Animations
                             if (GetGlobalInt(52)==0){player.LockView(89); player.Animate(1, 3, eRepeat, eNoBlock);}
                             if (GetGlobalInt(52)==1){player.LockView(2); player.Animate(5, 3, eRepeat, eNoBlock);}
     if ((gameover==true)&&(gTruck.Visible==true)){DBG1.Animate(24, 14, 3, eRepeat);}//Special End-game listen anim
  }//End Real Life
  }//End Melanie
  
  if (GetGlobalInt(1) == 3) {//Vinny!
         int vinview=25; int vinloop;
         if (drunkenness<=4){//longface_vinny
               if (vitality.Width>=55){vinloop=1;}
          else if ((vitality.Width<55)&&(vitality.Width>20)){vinloop=11;}
          else if (vitality.Width<=20){vinloop=13;}}
    else if (drunkenness>4){vinloop=7;}
      
if (gDialog.Visible==true){DBG1.NormalGraphic=90; DBG1.Animate(vinview, vinloop, 3, eRepeat);}
if (gRoastierry.Visible==true){rmu1.NormalGraphic=90; rmu1.Animate(vinview, vinloop, 3, eRepeat);}
if (gFaganMenu.Visible==true){fmu1.NormalGraphic=90; fmu1.Animate(vinview, vinloop, 3, eRepeat);}
if (gPawn.Visible==true){pwn1.NormalGraphic=90; pwn1.Animate(vinview, vinloop, 3, eRepeat);}
if (gBigbyMenu.Visible==true){bmu1.NormalGraphic=90; bmu1.Animate(vinview, vinloop, 3, eRepeat);}
if (gMachine.Visible==true){gmu1.NormalGraphic=90; gmu1.Animate(vinview, vinloop, 3, eRepeat);}
player.LockView(14); player.Animate(6, 3, eRepeat, eNoBlock, eForwards);//Body Anims
                             }//End Vinny
                             
  if (GetGlobalInt(1) == 4) {//LOGAN!
         if (drunkenness<=3){
if (gDialog.Visible==true){DBG1.NormalGraphic=58; DBG1.Animate(17, 1, 3, eRepeat);}
if (gRoastierry.Visible==true){rmu1.NormalGraphic=58; rmu1.Animate(17, 1, 3, eRepeat);}
if (gFaganMenu.Visible==true){fmu1.NormalGraphic=58; fmu1.Animate(17, 1, 3, eRepeat);}
if (gPawn.Visible==true){pwn1.NormalGraphic=58; pwn1.Animate(17, 1, 3, eRepeat);}
if (gBigbyMenu.Visible==true){bmu1.NormalGraphic=58; bmu1.Animate(17, 1, 3, eRepeat);}
if (gMachine.Visible==true){gmu1.NormalGraphic=58; gmu1.Animate(17, 1, 3, eRepeat);}}
    else if (drunkenness>3){ 
if (gDialog.Visible==true){DBG1.NormalGraphic=2445; DBG1.Animate(17, 4, 3, eRepeat);}
if (gRoastierry.Visible==true){rmu1.NormalGraphic=2445; rmu1.Animate(17, 4, 3, eRepeat);}
if (gFaganMenu.Visible==true){fmu1.NormalGraphic=2445; fmu1.Animate(17, 4, 3, eRepeat);}
if (gPawn.Visible==true){pwn1.NormalGraphic=2445; pwn1.Animate(17, 4, 3, eRepeat);}
if (gBigbyMenu.Visible==true){bmu1.NormalGraphic=2445; bmu1.Animate(17, 4, 3, eRepeat);}
if (gMachine.Visible==true){gmu1.NormalGraphic=2445; gmu1.Animate(17, 4, 3, eRepeat);}}
                             player.LockView(22); player.Animate(8, 3, eRepeat, eNoBlock);}//Logan!
}
function PCListen2(){PCListen();}

function PCTalk()
{
if (gDialog.Visible==true){dpb.Visible=true; dpb.Animate(110, 0, (pbspeed), eOnce);}
if (gBigbyMenu.Visible==true){bigby_pb.Visible=true; bigby_pb.Animate(127, 0, (pbspeed), eOnce);}
if (gMachine.Visible==true){alice_pb.Visible=true; alice_pb.Animate(127, 3, (pbspeed), eOnce);}
if (gRoastierry.Visible==true){roast_pb.Visible=true; roast_pb.Animate(127, 1, (pbspeed), eOnce);}
if (gPawn.Visible==true){pwn_pb.Visible=true; pwn_pb.Animate(127, 1, (pbspeed), eOnce);}
if ((gFaganMenu.Visible==true)&&(player.Room==16)){fmu_pb.Visible=true; fmu_pb.Animate(127, 1, (pbspeed), eOnce);}
if ((gFaganMenu.Visible==true)&&(player.Room!=16)){fmu_pb.Visible=true; fmu_pb.Animate(127, 2, (pbspeed), eOnce);}

 
 int tks=Random(3);
 
 if (GetGlobalInt(1) == 1) {
                             if (tks==0) PlaySoundEx(10, 3); else if (tks==1) PlaySoundEx(11, 3); else if (tks==2) PlaySoundEx(12, 3);
rmu_label.Text=("Andrus: "); dName.Text=("Andrus: "); bmu_speaker.Text=("Andrus: "); fmu_speaker.Text=("Andrus: "); 
gmu_label.Text=("Andrus: "); pwnlabel.Text=("Andrus: ");
  int andyview; int andyloop;
        if (drunkenness<=6){andyview=16;
                if (vitality.Width>=55){andyloop=0;}
                else if ((vitality.Width<55)&&(vitality.Width>20)){andyloop=24;}
                else if (vitality.Width<=20){andyloop=26;}}
        else if (drunkenness>=6){andyview=112; andyloop=1;}
if (gRoastierry.Visible==true){rmu1.NormalGraphic=52; rmu1.Animate(andyview, andyloop, 3, eRepeat);}
if (gDialog.Visible==true){
  if (player.Room==29){DBG1.Animate(16, 2, 3, eRepeat);}
  if (player.Room!=29){DBG1.Animate(andyview, andyloop, 3, eRepeat);}}
if (gFaganMenu.Visible==true){fmu1.NormalGraphic=52; fmu1.Animate(andyview, andyloop, 3, eRepeat);}
if (gPawn.Visible==true){pwn1.NormalGraphic=52; pwn1.Animate(andyview, andyloop, 3, eRepeat);}
if (gBigbyMenu.Visible==true){bmu1.NormalGraphic=52; bmu1.Animate(andyview, andyloop, 3, eRepeat);}
if (gMachine.Visible==true){gmu1.NormalGraphic=52; gmu1.Animate(andyview, andyloop, 3, eRepeat);}
      //Dreamstate Override
                             if (player.Room==29){player.LockView(28); player.Animate(7, 3, eRepeat, eNoBlock);}
                             if ((player.Room!=29)&&(GetGlobalInt(52)==0)){player.LockView(71); player.Animate(1, 3, eRepeat, eNoBlock);}
                             if ((player.Room!=29)&&(GetGlobalInt(52)==1)){player.LockView(28); player.Animate(1, 3, eRepeat, eNoBlock);}
}//End Andrus
  
  if (GetGlobalInt(1) == 2) {//Melanie!
                             if (tks==0) PlaySoundEx(80, 3); else if (tks==1) PlaySoundEx(81, 3); else if (tks==2) PlaySoundEx(82, 3); else if (tks==3) PlaySoundEx(83, 3);
rmu_label.Text=("Melanie: "); dName.Text=("Melanie: "); fmu_speaker.Text=("Melanie: "); bmu_speaker.Text=("Melanie: "); 
gmu_label.Text=("Melanie: "); pwnlabel.Text=("Melanie: ");
                               int melview; int melloop;
    if (player.Room!=29){
    if (drunkenness<=3){//longface_mel2
          melview=24; 
          if (vitality.Width>=55){melloop=0;}
          else if ((vitality.Width<55)&&(vitality.Width>20)){melloop=9;}
          else if (vitality.Width<=20){melloop=11;}}
    else if (drunkenness>3){melview=24; melloop=3;}
if (gRoastierry.Visible==true){rmu1.NormalGraphic=84; rmu1.Animate(melview, melloop, 3, eRepeat);}
if (gDialog.Visible==true){DBG1.NormalGraphic=84; DBG1.Animate(melview, melloop, 3, eRepeat);}
if (gFaganMenu.Visible==true){fmu1.NormalGraphic=84; fmu1.Animate(melview, melloop, 3, eRepeat);}
if (gPawn.Visible==true){pwn1.NormalGraphic=84; pwn1.Animate(melview, melloop, 3, eRepeat);}
if (gBigbyMenu.Visible==true){bmu1.NormalGraphic=84; bmu1.Animate(melview, melloop, 3, eRepeat);}
if (gMachine.Visible==true){gmu1.NormalGraphic=84; gmu1.Animate(melview, melloop, 3, eRepeat);}
                             if (GetGlobalInt(52)==0){player.LockView(89); player.Animate(0, 3, eRepeat, eNoBlock);}
                             if (GetGlobalInt(52)==1){player.LockView(2); player.Animate(4, 3, eRepeat, eNoBlock);}
     if ((gameover==true)&&(gTruck.Visible==true)){DBG1.Animate(24, 13, 3, eRepeat);}//Special End-game listen 
  }//End Real Life
        else{//Dream State
        if (gDialog.Visible==true){DBG1.NormalGraphic=87; DBG1.Animate(24, 2, 3, eRepeat);}
        player.LockView(81); player.Animate(4, 3, eRepeat, eNoBlock);}//End Dream State
  }//End Melanie
  
  if (GetGlobalInt(1) == 3) {if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
rmu_label.Text=("Vinny: "); dName.Text=("Vinny: "); fmu_speaker.Text=("Vinny: "); bmu_speaker.Text=("Vinny: ");
gmu_label.Text=("Vinny: "); pwnlabel.Text=("Vinny: ");
         int vinview=25; int vinloop;
         if (drunkenness<=4){//longface_vinny
               if (vitality.Width>=55){vinloop=0;}
          else if ((vitality.Width<55)&&(vitality.Width>20)){vinloop=10;}
          else if (vitality.Width<=20){vinloop=12;}}
    else if (drunkenness>4){vinloop=7;}
      
if (gDialog.Visible==true){DBG1.NormalGraphic=90; DBG1.Animate(vinview, vinloop, 3, eRepeat);}
if (gRoastierry.Visible==true){rmu1.NormalGraphic=90; rmu1.Animate(vinview, vinloop, 3, eRepeat);}
if (gFaganMenu.Visible==true){fmu1.NormalGraphic=90; fmu1.Animate(vinview, vinloop, 3, eRepeat);}
if (gPawn.Visible==true){pwn1.NormalGraphic=90; pwn1.Animate(vinview, vinloop, 3, eRepeat);}
if (gBigbyMenu.Visible==true){bmu1.NormalGraphic=90; bmu1.Animate(vinview, vinloop, 3, eRepeat);}
if (gMachine.Visible==true){gmu1.NormalGraphic=90; gmu1.Animate(vinview, vinloop, 3, eRepeat);}
                             player.LockView(14); player.Animate(5, 3, eRepeat, eNoBlock);}//Vinny!
  
  if (GetGlobalInt(1) == 4) {if (tks==0) PlaySoundEx(84, 3); else if (tks==1) PlaySoundEx(85, 3); else if (tks==2) PlaySoundEx(86, 3);
rmu_label.Text=("Logan: "); dName.Text=("Logan: "); fmu_speaker.Text=("Logan: "); bmu_speaker.Text=("Logan: "); 
gmu_label.Text=("Logan: "); pwnlabel.Text=("Logan: "); 
         if (drunkenness<=3){
if (gRoastierry.Visible==true){rmu1.NormalGraphic=58; rmu1.Animate(17, 0, 3, eRepeat);}
if (gFaganMenu.Visible==true){fmu1.NormalGraphic=58; fmu1.Animate(17, 0, 3, eRepeat);}
if (gPawn.Visible==true){pwn1.NormalGraphic=58; pwn1.Animate(17, 0, 3, eRepeat);}
if (gMachine.Visible==true){gmu1.NormalGraphic=58; gmu1.Animate(17, 0, 3, eRepeat);}
if (gBigbyMenu.Visible==true){bmu1.NormalGraphic=58; bmu1.Animate(17, 0, 3, eRepeat);}
if (gDialog.Visible==true){DBG1.NormalGraphic=58; DBG1.Animate(17, 0, 3, eRepeat);}}
    else if (drunkenness>=4){
if (gRoastierry.Visible==true){rmu1.NormalGraphic=2445; rmu1.Animate(17, 3, 3, eRepeat);}
if (gFaganMenu.Visible==true){fmu1.NormalGraphic=2445; fmu1.Animate(17, 3, 3, eRepeat);}
if (gPawn.Visible==true){pwn1.NormalGraphic=2445; pwn1.Animate(17, 3, 3, eRepeat);}
if (gMachine.Visible==true){gmu1.NormalGraphic=2445; gmu1.Animate(17, 3, 3, eRepeat);}
if (gBigbyMenu.Visible==true){bmu1.NormalGraphic=2445; bmu1.Animate(17, 3, 3, eRepeat);}
if (gDialog.Visible==true){DBG1.NormalGraphic=2445; DBG1.Animate(17, 3, 3, eRepeat);}}
                             player.LockView(22); player.Animate(7, 3, eRepeat, eNoBlock);}//Logan!
}
function PCTalk2(){PCTalk();}
function PCTalk_m(){PCTalk();}
function PCListen_m(){PCListen();}


function PCDelivery_m(){
if (GetGlobalInt(1) == 1) {}//Andrus!
if (GetGlobalInt(1) == 2) {}//Melanie!
if (GetGlobalInt(1) == 3) {fmu1.NormalGraphic=90; fmu1.Animate(25, 3, 3, eOnce);}//Vinny!
if (GetGlobalInt(1) == 4) {}//Logan!
}

function PCBigeat_m(String foodstuff){
gPick.Centre(); close_pick.Visible=false; chowhand.Visible=true; 
//chowhand selections
int handmod;
if (GetGlobalInt(1)==1){handmod=0;}
if (GetGlobalInt(1)==2){handmod=2;}
if (GetGlobalInt(1)==3){handmod=3;}
if (GetGlobalInt(1)==4){handmod=1;}
if (foodstuff==("Pizza")){chowhand.NormalGraphic=handmod+7632;}
if (foodstuff==("Fork")){chowhand.NormalGraphic=handmod+7636;}
if (foodstuff==("Bagel")){chowhand.NormalGraphic=handmod+7640;}
if (foodstuff==("Gondola Bar")){chowhand.NormalGraphic=handmod+7644;}
if (foodstuff==("Sandwich")){chowhand.NormalGraphic=handmod+7648;}
if (foodstuff==("Hot Dog")){chowhand.NormalGraphic=handmod+7652;}
if (foodstuff==("Crisps")){chowhand.NormalGraphic=handmod+7656;}
//Go!
gPick.Visible=true; aSound66.Play();
if (GetGlobalInt(1) == 1) {pick.Animate(119, 4, 2, eRepeat);}//Andrus!
if (GetGlobalInt(1) == 2) {pick.Animate(120, 2, 2, eRepeat);}//Melanie!
if (GetGlobalInt(1) == 3) {pick.Animate(118, 0, 2, eOnce);}//Vinny!
if (GetGlobalInt(1) == 4) {pick.Animate(259, 0, 2, eRepeat);}//Logan!
Wait(60); gPick.Visible=false; chowhand.Visible=false;
}

function PCBigpill_m(int pilltype){
    int oldbg=gPick.BackgroundGraphic;
    if (pilltype){
    gPick.BackgroundGraphic=8401;
    gPick.Centre(); close_pick.Visible=false; gPick.Visible=true;
    if (pilltype==Painrelief.ID){pick.NormalGraphic=9655; pick.Animate(292, 0, 2, eOnce); Wait(40);}
    if (pilltype==Urinary.ID){pick.NormalGraphic=9669; pick.Animate(292, 1, 2, eOnce); Wait(40);}
    if (pilltype==Spelllemon.ID){pick.NormalGraphic=9681; pick.Animate(292, 2, 2, eOnce); Wait(40);}
    if (pilltype==Spellunflav.ID){pick.NormalGraphic=9681; pick.Animate(292, 2, 2, eOnce); Wait(40);}
    if (pilltype==Gelcaps.ID){pick.NormalGraphic=9693; pick.Animate(292, 3, 1, eOnce); Wait(40);}
    if (pilltype==Apaptol.ID){pick.NormalGraphic=9693; pick.Animate(292, 3, 1, eOnce); Wait(40);}
    if (pilltype==Sunroom.ID){pick.NormalGraphic=9711; pick.Animate(292, 4, 1, eOnce); Wait(40);}
    if (pilltype==Moonroom.ID){pick.NormalGraphic=9711; pick.Animate(292, 5, 1, eOnce); Wait(40);}
    if (pilltype==Multivitamin.ID){pick.NormalGraphic=9711; pick.Animate(292, 6, 1, eOnce); Wait(40);}

    }
if (GetGlobalInt(1) == 1) {//Andrus!
  gPick.Centre(); close_pick.Visible=false; gPick.Visible=true; pick.Animate(119, 5, 2, eOnce); Wait(40); gPick.Visible=false;}
if (GetGlobalInt(1) == 2) {//Melanie!
  gPick.Centre(); close_pick.Visible=false; gPick.Visible=true; pick.Animate(120, 3, 2, eOnce); Wait(40); gPick.Visible=false;}
if (GetGlobalInt(1) == 3) {//Vinny!
  gPick.Centre(); close_pick.Visible=false; gPick.Visible=true; pick.Animate(118, 3, 2, eOnce); Wait(40); gPick.Visible=false;}
if (GetGlobalInt(1) == 4) {}//Logan!
gPick.BackgroundGraphic=oldbg;
}

function PCBigsip_m()
{
if (GetGlobalInt(1) == 1) {//Andrus!
  if (drunkenness>6){gPick.Centre(); close_pick.Visible=false; gPick.Visible=true; pick.Animate(119, 2, 3, eOnce); Wait(110); gPick.Visible=false;}
  else{gPick.Centre(); close_pick.Visible=false; gPick.Visible=true; pick.Animate(119, 1, 2, eOnce); Wait(110); gPick.Visible=false;}}
if (GetGlobalInt(1) == 2) {//Melanie!
if (drunkenness>3){gPick.Centre(); close_pick.Visible=false; gPick.Visible=true; pick.Animate(120, 0, 3, eOnce); Wait(110); gPick.Visible=false;}
else{gPick.Centre(); close_pick.Visible=false; gPick.Visible=true; pick.Animate(120, 1, 2, eOnce); Wait(110); gPick.Visible=false;}}
if (GetGlobalInt(1) == 3) {//Vinny!
if (drunkenness>4){gPick.Centre(); close_pick.Visible=false; gPick.Visible=true; pick.Animate(118, 2, 3, eOnce); Wait(90); gPick.Visible=false;}
else {gPick.Centre(); close_pick.Visible=false; gPick.Visible=true; pick.Animate(118, 1, 2, eOnce); Wait(90); gPick.Visible=false;}}
if (GetGlobalInt(1) == 4) {}//Logan!
}

/////// --------------------Bonus Method
function Bonus(){
  if ((cheatbiking)&&(superd==99)){//Only bonusing for cheatbikers from now on.
mouse.Visible=true; TopUp("Get ready for a bonus question!","Answer the bonus question correctly for $10.00!");
Wait(5);
if (bonus_layover.Graphic==5569){//Bagels
slogBagel+=1;
if ((slogBagel==1)||(slogBagel>28)){
BonusAnswer=("B");
bonus_question.Text=("What makes bagels different from other bread products?");
bonus_A.Text=("They don't have sugar as an ingredient.");
bonus_B.Text=("They are boiled before they are baked.");
bonus_C.Text=("They don't have salt as an ingredient.");
bonus_D.Text=("They aren't sold in Canada.");}
if (slogBagel==2){
BonusAnswer=("B");
bonus_question.Text=("The average American eats an average of how many bagels per month?");
bonus_A.Text=("One.");
bonus_B.Text=("Two.");
bonus_C.Text=("Three.");
bonus_D.Text=("Four.");}
if (slogBagel==3){
BonusAnswer=("B");
bonus_question.Text=("An average large, plain bagel has how many calories?");
bonus_A.Text=("Two hundred fifty (250).");
bonus_B.Text=("Three hundred fifty (350).");
bonus_C.Text=("Five hundred (500).");
bonus_D.Text=("Seven hundred fifty (750).");}
if (slogBagel==4){
BonusAnswer=("C");
bonus_question.Text=("What makes Montreal-style bagels different from New York-style bagels?");
bonus_A.Text=("They are always topped with sesame seeds.");
bonus_B.Text=("They are always produced by hand.");
bonus_C.Text=("They are always baked in a wood-fire oven.");
bonus_D.Text=("They have a hole.");}
if (slogBagel==5){
BonusAnswer=("A");
bonus_question.Text=("What makes New York-style bagels different from Montreal-style bagels?");
bonus_A.Text=("They do not contain eggs.");
bonus_B.Text=("They are always topped with cheddar cheese.");
bonus_C.Text=("They always have a hole in the middle.");
bonus_D.Text=("They are always topped with poppy seeds.");}
if (slogBagel==6){
BonusAnswer=("D");
bonus_question.Text=("In which country are you most likely to find the largest bagel?");
bonus_A.Text=("The United States.");
bonus_B.Text=("Canada.");
bonus_C.Text=("Finland.");
bonus_D.Text=("Ukraine.");}
if (slogBagel==7){
BonusAnswer=("A");
bonus_question.Text=("In New York you might find a flat bagel called a...");
bonus_A.Text=("Flagel.");
bonus_B.Text=("Fagan.");
bonus_C.Text=("Flatbag.");
bonus_D.Text=("Flatbus.");}
if (slogBagel==8){
BonusAnswer=("D");
bonus_question.Text=("During which decade did bagel production skyrocket in the U.S.?");
bonus_A.Text=("The 1890's.");
bonus_B.Text=("The 1920's.");
bonus_C.Text=("The 1940's.");
bonus_D.Text=("The 1960's.");}
if (slogBagel==9){
BonusAnswer=("C");
bonus_question.Text=("Around the world, you'll find bagels called everything but this:");
bonus_A.Text=("Bublik.");
bonus_B.Text=("Girdeh Nan.");
bonus_C.Text=("Lacosha.");
bonus_D.Text=("Beugel.");}
if (slogBagel==10){
BonusAnswer=("B");
bonus_question.Text=("Which astronaut first brought bagels into outer space?");
bonus_A.Text=("Neil Armstrong.");
bonus_B.Text=("Gregory Chamitoff.");
bonus_C.Text=("Richard Lennahan.");
bonus_D.Text=("Buzz Aldrin.");}
if (slogBagel==11){
BonusAnswer=("C");
bonus_question.Text=("Which holiday often prompts the baking of green bagels in New York City?");
bonus_A.Text=("Mother's Day.");
bonus_B.Text=("All Saints Day.");
bonus_C.Text=("St. Patricks day.");
bonus_D.Text=("Father's Day.");}
if (slogBagel==12){
BonusAnswer=("D");
bonus_question.Text=("Maria Balinska recently wrote this book about bagels?");
bonus_A.Text=("Bagels: The Hole Story.");
bonus_B.Text=("Not Just Another Sandwich, Please.");
bonus_C.Text=("Bagels: The Global Phenomenon.");
bonus_D.Text=("Bagels: The surprising history of a modest bread.");}
if (slogBagel==13){
BonusAnswer=("B");
bonus_question.Text=("An average large, plain bagel has how many calories??");
bonus_A.Text=("Two hundred fifty (250).");
bonus_B.Text=("Three hundred fifty (350).");
bonus_C.Text=("Five hundred (500).");
bonus_D.Text=("Seven hundred fifty (750).");}
if (slogBagel==14){
BonusAnswer=("A");
bonus_question.Text=("In which decade did Family Circle first publish a recipe for bagels?");
bonus_A.Text=("The 1950's.");
bonus_B.Text=("The 1960's.");
bonus_C.Text=("The 1970's.");
bonus_D.Text=("The 1980's.");}
if (slogBagel==15){
BonusAnswer=("B");
bonus_question.Text=("The International Beigel Bakers' Union was formed in which year:?");
bonus_A.Text=("1899.");
bonus_B.Text=("1907.");
bonus_C.Text=("1925.");
bonus_D.Text=("1932.");}
if (slogBagel==16){
BonusAnswer=("B");
bonus_question.Text=("In 1951, the bagel made a big appearance in which Broadway comedy?");
bonus_A.Text=("Don't eat that bagel!");
bonus_B.Text=("Bagel and Yox.");
bonus_C.Text=("Alphie Bagel.");
bonus_D.Text=("Maybelle's Bagels.");}
if (slogBagel==17){
BonusAnswer=("A");
bonus_question.Text=("Webster's dictionary defines Bagels thusly.");
bonus_A.Text=("a firm doughnut-shaped roll traditionally made by boiling and then baking");
bonus_B.Text=("a type of bread most often made of wheat flour, boiled and then baked");
bonus_C.Text=("a small usually ring-shaped bread, boiled and then baked");
bonus_D.Text=("bread dough rolled and cut into rounds, boiled and baked, then split and toasted before serving");}
if (slogBagel==18){
BonusAnswer=("B");
bonus_question.Text=("Most New Yorkers will agree that a fresh bagel should never be:");
bonus_A.Text=("Cut in half.");
bonus_B.Text=("Toasted.");
bonus_C.Text=("Eaten after noon.");
bonus_D.Text=("Eaten with lox and cream cheese.");}
if (slogBagel==19){
BonusAnswer=("D");
bonus_question.Text=("A pilot was filmed for this show, which was never picked up by a network:");
bonus_A.Text=("Me, Jimmy and a Bagel");
bonus_B.Text=("Vincent's Bagels");
bonus_C.Text=("Gabel's Bagels");
bonus_D.Text=("The Fabulous Bagel Boys");}
if (slogBagel==20){
BonusAnswer=("A");
bonus_question.Text=("Who pioneered the frozen bagel in the 1960's?");
bonus_A.Text=("Harry Lender.");
bonus_B.Text=("Capel Green.");
bonus_C.Text=("Johnny Fitzsimmons.");
bonus_D.Text=("Noah Monroe.");}
if (slogBagel==21){
BonusAnswer=("B");
bonus_question.Text=("The 'Everything Bagel' is also known as what?");
bonus_A.Text=("The Garbage Bagel");
bonus_B.Text=("The Mish Mosh Bagel");
bonus_C.Text=("The 'every topping within reasonable conceivability' bagel.");
bonus_D.Text=("The Fully Dressed Bagel");}
if (slogBagel==22){
BonusAnswer=("D");
bonus_question.Text=("This not typically an ingredient topping an 'Everything Bagel.'");
bonus_A.Text=("Salt.");
bonus_B.Text=("Poppy Seeds.");
bonus_C.Text=("Sesame Seeds.");
bonus_D.Text=("Cinnamon.");}
if (slogBagel==23){
BonusAnswer=("B");
bonus_question.Text=("A 'Montreal Bagel' is usually boiled in this.");
bonus_A.Text=("Salted Water.");
bonus_B.Text=("Honey-Sweetened Water.");
bonus_C.Text=("Brown Sugar-sweetened water.");
bonus_D.Text=("Lake Montreal.");}
if (slogBagel==24){
BonusAnswer=("D");
bonus_question.Text=("Molecular scientist Robert Bohannon has developed caffeinated bagels. He calls them this.");
bonus_A.Text=("Coffee 'n A Bagel.");
bonus_B.Text=("Good Morning Bagels.");
bonus_C.Text=("Fresh Start Bagels.");
bonus_D.Text=("Buzzed Bagels.");}
if (slogBagel==25){
BonusAnswer=("A");
bonus_question.Text=("The first printed mention of bagels stated that bagels would be given as a gift to:");
bonus_A.Text=("Women in Childbirth.");
bonus_B.Text=("Elderly Men.");
bonus_C.Text=("The newly toothless.");
bonus_D.Text=("Newly married couples.");}
if (slogBagel==26){
BonusAnswer=("C");
bonus_question.Text=("The first printed mention of bagels is found in the Community Regulations of Kracow, Poland in this year.");
bonus_A.Text=("1523");
bonus_B.Text=("1619");
bonus_C.Text=("1610");
bonus_D.Text=("1732");}
if (slogBagel==27){
BonusAnswer=("B");
bonus_question.Text=("In what year did Polish baker Harry Lender opened up the first bagel factory in West Haven, Connecticut?");
bonus_A.Text=("1911");
bonus_B.Text=("1927");
bonus_C.Text=("1931");
bonus_D.Text=("1944");}
if (slogBagel==28){
BonusAnswer=("B");
bonus_question.Text=("Bagels were used by which school in a study of profit maximization?");
bonus_A.Text=("Gary Anderson School of Management, UC Riverside");
bonus_B.Text=("University of Chicago Graduate School of Business");
bonus_C.Text=("Columbia Business School");
bonus_D.Text=("George Washington School of Business");}
}
//End Bagels

if (bonus_layover.Graphic==5570){//Coffee
slogCoffee+=1;
if ((slogCoffee==1)||(slogCoffee>30)){
BonusAnswer=("A");
bonus_question.Text=("Coffee was first known in Europe as this.");
bonus_A.Text=("Arabian Wine");
bonus_B.Text=("Nectar of Arabia.");
bonus_C.Text=("Kola");
bonus_D.Text=("Kaffee");}
if (slogCoffee==2){
BonusAnswer=("D");
bonus_question.Text=("The scientific discovery of Caffeine is attributed to which German scientist?");
bonus_A.Text=("Rudolf Diesel  ");
bonus_B.Text=("Wilhelm Conrad Roentgen");
bonus_C.Text=("Heinrich Rudolf Hertz  ");
bonus_D.Text=("Friedrich Ferdinand Runge");}
if (slogCoffee==3){
BonusAnswer=("D");
bonus_question.Text=("Caffeine can act as a natural:");
bonus_A.Text=("Diuretic.");
bonus_B.Text=("Stimulant.");
bonus_C.Text=("Pesticide.");
bonus_D.Text=("All of these.");}
if (slogCoffee==4){
BonusAnswer=("B");
bonus_question.Text=("The first Parisian caf serving coffee opened in which century?");
bonus_A.Text=("The 16th Century.");
bonus_B.Text=("The 17th Century.");
bonus_C.Text=("The 18th Century.");
bonus_D.Text=("The 19th Century.");}
if (slogCoffee==5){
BonusAnswer=("B");
bonus_question.Text=("J.S. Bach wrote a coffee cantata in this year.");
bonus_A.Text=("1525");
bonus_B.Text=("1732");
bonus_C.Text=("1803");
bonus_D.Text=("1899");}
if (slogCoffee==6){
BonusAnswer=("B");
bonus_question.Text=("Vietnamese coffee is usually served with this type of diary product.");
bonus_A.Text=("Goat Milk");
bonus_B.Text=("Sweetened, Condensed Milk");
bonus_C.Text=("Coconut Milk");
bonus_D.Text=("Soy Milk");}
if (slogCoffee==7){
BonusAnswer=("A");
bonus_question.Text=("Mark Pendergrast wrote this well-reviewed book about coffee.");
bonus_A.Text=("Uncommon Grounds");
bonus_B.Text=("Caffe Arcano");
bonus_C.Text=("New Crop to Last Drop: Coffee from the Grounds Up");
bonus_D.Text=("Night Dark and Sin Bitter: A Caffeinated Century");}
if (slogCoffee==8){
BonusAnswer=("B");
bonus_question.Text=("The prototype for the first espresso machine was created here in this decade.");
bonus_A.Text=("Italy in the 1910's.");
bonus_B.Text=("France in the 1820's");
bonus_C.Text=("Great Britain in the 1850's.");
bonus_D.Text=("Spain in the 1780's.");}
if (slogCoffee==9){
BonusAnswer=("C");
bonus_question.Text=("What is the average age of an Italian barista?");
bonus_A.Text=("17.");
bonus_B.Text=("26.");
bonus_C.Text=("48.");
bonus_D.Text=("57.");}
if (slogCoffee==10){
BonusAnswer=("D");
bonus_question.Text=("The Italian word 'barista' translates as...");
bonus_A.Text=("\"Brewer.\"");
bonus_B.Text=("\"Boxer.\"");
bonus_C.Text=("\"Waiter.\"");
bonus_D.Text=("\"Bartender.\"");}
if (slogCoffee==11){
BonusAnswer=("B");
bonus_question.Text=("Himself a coffee-drinker, Murad IV forbade coffee consumption in his Ottoman Empire. How were offenders punished?");
bonus_A.Text=("Imprisoned and fed only beer.");
bonus_B.Text=("Sewn into a bag, then tossed into the Bosprus.");
bonus_C.Text=("Exiled to Iraq, where coffee was legal.");
bonus_D.Text=("Fines.");}
if (slogCoffee==12){
BonusAnswer=("A");
bonus_question.Text=("Which of the following is a Dutch proverb?");
bonus_A.Text=("'Coffee has two virtues. It is wet and warm.'");
bonus_B.Text=("'Coffee is a beverage that puts one to sleep when not drank.'");
bonus_C.Text=("'Conscience keeps more people awake than coffee.'");
bonus_D.Text=("'Coffee and tobacco are complete repose.'");}
if (slogCoffee==13){
BonusAnswer=("C");
bonus_question.Text=("T.S. Eliot said this about coffee:");
bonus_A.Text=("\"Retirement is one great big giant coffee break.\"");
bonus_B.Text=("\"Don't laugh at the coffee drinker. Some day you, too, may be old and weak.\"");
bonus_C.Text=("\"I have measured out my life with coffee spoons.\"");
bonus_D.Text=("\"Coffee makes us severe, and grave, and philosophical.\"");}
if (slogCoffee==14){
BonusAnswer=("C");
bonus_question.Text=("Turkish coffee is traditionally never served this way.");
bonus_A.Text=("With a spoon.");
bonus_B.Text=("With Sugar.");
bonus_C.Text=("With Cream.");
bonus_D.Text=("With Cardamom.");}
if (slogCoffee==15){
BonusAnswer=("B");
bonus_question.Text=("Coffee was first discovered here.");
bonus_A.Text=("Brazil");
bonus_B.Text=("Ethiopia");
bonus_C.Text=("Siberia");
bonus_D.Text=("Iran");}
if (slogCoffee==16){
BonusAnswer=("D");
bonus_question.Text=("Coffee plants are often intercropped with which of the following?");
bonus_A.Text=("Corn");
bonus_B.Text=("Beans");
bonus_C.Text=("Rice");
bonus_D.Text=("All of these.");}
if (slogCoffee==17){
BonusAnswer=("A");
bonus_question.Text=("Coffee can be decaffeinated by using which of the following?");
bonus_A.Text=("Methylene Chloride");
bonus_B.Text=("Hydrochloric Acid");
bonus_C.Text=("Cadmium");
bonus_D.Text=("Any of these");}
if (slogCoffee==18){
BonusAnswer=("A");
bonus_question.Text=("From what language did the word 'coffee' evolve?");
bonus_A.Text=("Arabic");
bonus_B.Text=("Hindi");
bonus_C.Text=("Spanish");
bonus_D.Text=("Italian");}
if (slogCoffee==19){
BonusAnswer=("D");
bonus_question.Text=("A ripe coffee bean is this color.");
bonus_A.Text=("Brown");
bonus_B.Text=("Green");
bonus_C.Text=("Grey");
bonus_D.Text=("Red");}
if (slogCoffee==20){
BonusAnswer=("D");
bonus_question.Text=("Where should one go, in order to harvest their own Kona coffee?");
bonus_A.Text=("Brazil");
bonus_B.Text=("Colombia");
bonus_C.Text=("Honduras");
bonus_D.Text=("Hawaii");}
if (slogCoffee==21){
BonusAnswer=("A");
bonus_question.Text=("Which nation exports the most coffee internationally?");
bonus_A.Text=("Brazil");
bonus_B.Text=("Colombia");
bonus_C.Text=("Ethiopia");
bonus_D.Text=("United States");}
if (slogCoffee==22){
BonusAnswer=("C");
bonus_question.Text=("The French philosopher Voltaire reportedly drank at least how many cups of coffee each day?");
bonus_A.Text=("10");
bonus_B.Text=("25");
bonus_C.Text=("50");
bonus_D.Text=("Voltaire only drank tea.");}
if (slogCoffee==23){
BonusAnswer=("D");
bonus_question.Text=("Instant coffee accounts for approximately this precentage of overall coffee consumption in the world.");
bonus_A.Text=("62%");
bonus_B.Text=("4%");
bonus_C.Text=("49%");
bonus_D.Text=("13%");}
if (slogCoffee==24){
BonusAnswer=("C");
bonus_question.Text=("Not including georgetown, this many cups of coffee are drank every day in the United States.");
bonus_A.Text=("1 Million");
bonus_B.Text=("10 Million");
bonus_C.Text=("350 Million");
bonus_D.Text=("500 Million");}
if (slogCoffee==25){
BonusAnswer=("C");
bonus_question.Text=("This country consumes the most coffee, annually.");
bonus_A.Text=("France.");
bonus_B.Text=("Italy.");
bonus_C.Text=("United States.");
bonus_D.Text=("Canada.");}
if (slogCoffee==26){
BonusAnswer=("A");
bonus_question.Text=("This artist first recorded 'The Coffee Song.'");
bonus_A.Text=("Frank Sinatra.");
bonus_B.Text=("Bing Crosby.");
bonus_C.Text=("Ella Fitzgerald.");
bonus_D.Text=("Elvis Presley.");}
if (slogCoffee==27){
BonusAnswer=("B");
bonus_question.Text=("British Band 'Blur' released this great song in 1999.");
bonus_A.Text=("\"Coffee & Cigarettes\"");
bonus_B.Text=("\"Coffee & TV\"");
bonus_C.Text=("\"Coffee & Delicious Pastries\"");
bonus_D.Text=("\"Coffee & Bromine\"");}
if (slogCoffee==28){
BonusAnswer=("C");
bonus_question.Text=("How does MI-6 agent James Bond take his coffee?");
bonus_A.Text=("\"Splash of Cream.\"");
bonus_B.Text=("\"Some honey, if you've got it.\"");
bonus_C.Text=("\"Black.\"");
bonus_D.Text=("Bond doesn't drink coffee - only tea.");}
if (slogCoffee==29){
BonusAnswer=("C");
bonus_question.Text=("Which of the following artists was a cast member in Jim Jarmusch's 'Coffee & Cigarettes?'");
bonus_A.Text=("Chet Baker");
bonus_B.Text=("James Brown");
bonus_C.Text=("Tom Waits");
bonus_D.Text=("Jeff Buckley");}
if (slogCoffee==30){
BonusAnswer=("D");
bonus_question.Text=("This was the name of the coffee shop in the TV show 'Friends.'");
bonus_A.Text=("Brewed Awakenings");
bonus_B.Text=("Common Ground");
bonus_C.Text=("Bean Me Up");
bonus_D.Text=("Central Perk");}}
//End Coffee

if (bonus_layover.Graphic==5572){//Hot Dog
slogHotdog+=1;
if ((slogHotdog==1)||(slogHotdog>28)){
BonusAnswer=("D");
bonus_question.Text=("Your non-Kosher hot dog may contain:");
bonus_A.Text=("Pork");
bonus_B.Text=("Chicken");
bonus_C.Text=("Turkey");
bonus_D.Text=("All or Any of these.");}
if (slogHotdog==2){
BonusAnswer=("B");
bonus_question.Text=("A Chicago-style hot dog usually has these toppings.");
bonus_A.Text=("Ketchup, mustard, and cheddar cheese.");
bonus_B.Text=("Mustard, sweet pickle relish, and celery salt.");
bonus_C.Text=("Mayonnaise and relish.");
bonus_D.Text=("Green onions and pepperoni.");}
if (slogHotdog==3){
BonusAnswer=("B");
bonus_question.Text=("What is the most popular hot dog condiment for adults?");
bonus_A.Text=("Ketchup.");
bonus_B.Text=("Mustard.");
bonus_C.Text=("Relish.");
bonus_D.Text=("Jalapenos.");}
if (slogHotdog==4){
BonusAnswer=("A");
bonus_question.Text=("What is the most popular hot dog condiment for children??");
bonus_A.Text=("Ketchup.");
bonus_B.Text=("Mustard.");
bonus_C.Text=("Relish.");
bonus_D.Text=("Jalapenos.");}
if (slogHotdog==5){
BonusAnswer=("A");
bonus_question.Text=("These two were among the regular customers at Nathans Coney Island hot dog stand.");
bonus_A.Text=("Al Capone and Cary Grant.");
bonus_B.Text=("Frank Sinatra and Audrey Hepburn.");
bonus_C.Text=("Humphrey Bogart and Sammy Davis, Jr.");
bonus_D.Text=("Dean Martin and John Gotti.");}
if (slogHotdog==6){
BonusAnswer=("C");
bonus_question.Text=("The average hot dog is consumed in this many bites.");
bonus_A.Text=("2");
bonus_B.Text=("4");
bonus_C.Text=("6");
bonus_D.Text=("12");}
if (slogHotdog==7){
BonusAnswer=("A");
bonus_question.Text=("This city's residents eat the most hot dogs, annually?");
bonus_A.Text=("New York City.");
bonus_B.Text=("Chicago.");
bonus_C.Text=("Los Angeles.");
bonus_D.Text=("Newark.");}
if (slogHotdog==8){
BonusAnswer=("B");
bonus_question.Text=("Which of these characters offered a hot dog to Ms. Rhode Island during a Yankee game?");
bonus_A.Text=("Homer Simpson.");
bonus_B.Text=("Jerry Seinfeld.");
bonus_C.Text=("Joey Tribiani.");
bonus_D.Text=("Norm Peterson.");}
if (slogHotdog==9){
BonusAnswer=("C");
bonus_question.Text=("This person is not a professional competetive hot dog eater?");
bonus_A.Text=("Joey Chestnutt.");
bonus_B.Text=("Takeru Kobayashi.");
bonus_C.Text=("Jeffrey Steingarten.");
bonus_D.Text=("Sonya Thomas.");}
if (slogHotdog==10){
BonusAnswer=("D");
bonus_question.Text=("This famous couple's marraige proposal took place in front of a hot dog stand.");
bonus_A.Text=("Tom Cruise and Katie Holmes.");
bonus_B.Text=("Tom Hanks and Rita Wilson.");
bonus_C.Text=("Gisele Bundchen and Tom Brady.");
bonus_D.Text=("Bruce Willis and Demi Moore.");}
if (slogHotdog==11){
BonusAnswer=("A");
bonus_question.Text=("The activity of eating hot dogs at baseball games began during this decade.");
bonus_A.Text=("1890's.");
bonus_B.Text=("1910's.");
bonus_C.Text=("1930's.");
bonus_D.Text=("1950's.");}
if (slogHotdog==12){
BonusAnswer=("D");
bonus_question.Text=("Hot dogs are commonly spiced with:");
bonus_A.Text=("Salt.");
bonus_B.Text=("Garlic.");
bonus_C.Text=("Paprika.");
bonus_D.Text=("All of these.");}
if (slogHotdog==13){
BonusAnswer=("B");
bonus_question.Text=("A coney island dog differs from a chicago-style dog in this way.");
bonus_A.Text=("A coney island dog is topped with mustard.");
bonus_B.Text=("A coney island dog is topped with chilli.");
bonus_C.Text=("A coney island dog is served on a bun.");
bonus_D.Text=("A coney island dog is served only in New York.");}
if (slogHotdog==14){
BonusAnswer=("A");
bonus_question.Text=("A Chicago-style hot dog is also reffered to in this way.");
bonus_A.Text=("A 'Dragged through the garden.'");
bonus_B.Text=("A 'bad dog'.");
bonus_C.Text=("A 'Foster Beach.'");
bonus_D.Text=("A 'Kitchen Sink' Dog");}
if (slogHotdog==15){
BonusAnswer=("D");
bonus_question.Text=("Hot dog vendors in New York City can pay up to this much for a permit around central park.");
bonus_A.Text=("$10,000.00");
bonus_B.Text=("$30,000.00");
bonus_C.Text=("$100,000.00");
bonus_D.Text=("$300,000.00");}
if (slogHotdog==16){
BonusAnswer=("B");
bonus_question.Text=("Actor Humphrey Bogart once said this about hot dogs.");
bonus_A.Text=("'Only in America - do we buy hot dogs in packages of ten and buns in packages of eight.'");
bonus_B.Text=("'A hot dog at the ball park is better than steak at the Ritz.'");
bonus_C.Text=("Me carrying a briefcase is like a hot dog wearing earrings.");
bonus_D.Text=("'A hot dog is a cartridge filled with the sweepings of abattoirs.'");}
if (slogHotdog==17){
BonusAnswer=("C");
bonus_question.Text=("Author Neil Gaiman made this remark about hot dogs.");
bonus_A.Text=("The hot dog, as the phrase runs, seems to have come to stay. Even the gastroenterologists have given up damning it.");
bonus_B.Text=("Some people wanted champagne and caviar when they should have had beer and hot dogs.");
bonus_C.Text=("'Is the chemical aftertaste the reason why people eat hot dogs, or is it some kind of bonus?'");
bonus_D.Text=("The noblest of all dogs is the hot dog; it feeds the hand that bites it.");}
if (slogHotdog==18){
BonusAnswer=("A");
bonus_question.Text=("Actress Marlene Dietrich once said this was her favorite meal.");
bonus_A.Text=("Hot dogs and Champagne.");
bonus_B.Text=("Hot dogs and Caviar.");
bonus_C.Text=("Hot dogs and a Stout Lagar.");
bonus_D.Text=("Hot Dogs wrapped in bacon.");}
if (slogHotdog==19){
BonusAnswer=("D");
bonus_question.Text=("Actress Jaybe Mansfield once held this title.");
bonus_A.Text=("Miss Oscar Meyer Weiner");
bonus_B.Text=("Miss Hot Dog USA");
bonus_C.Text=("Miss Cylindrical Encased Meat of Canada");
bonus_D.Text=("Miss Hot Dog Ambassador");}
if (slogHotdog==20){
BonusAnswer=("B");
bonus_question.Text=("The song 'Hot Dog' was on which 1979 album?");
bonus_A.Text=("'The Bob Seger Collection'");
bonus_B.Text=("Led Zepplin's 'In Through the Out Door.'");
bonus_C.Text=("Dianna Ross' 'The Boss.'");
bonus_D.Text=("Bonnie Tyler's 'Diamond Cut.'");}
if (slogHotdog==21){
BonusAnswer=("D");
bonus_question.Text=("Which major league baseball park sells more polish sausages than hot dogs?");
bonus_A.Text=("Boston's Fenway Park.");
bonus_B.Text=("Denver's Coors Field.");
bonus_C.Text=("Los Angeles' Dodger Stadium.");
bonus_D.Text=("Milwaukee's Miller Park.");}
if (slogHotdog==22){
BonusAnswer=("D");
bonus_question.Text=("Which of these characters uttered 'Hot Dogs' as their first ever on-screen words?");
bonus_A.Text=("Charlie Chaplin.");
bonus_B.Text=("Donald Duck.");
bonus_C.Text=("Peter Parker.");
bonus_D.Text=("Mickey Mouse.");}
if (slogHotdog==23){
BonusAnswer=("C");
bonus_question.Text=("What is the average weight of a fully loaded baseball park hot dog vendor's bin?");
bonus_A.Text=("10 lbs");
bonus_B.Text=("20 lbs");
bonus_C.Text=("40 lbs");
bonus_D.Text=("80 lbs");}
if (slogHotdog==24){
BonusAnswer=("B");
bonus_question.Text=("This famous movie character said the line, 'Nobody, I mean nobody, puts ketchup on a hot dog.'");
bonus_A.Text=("James Bond.");
bonus_B.Text=("DIrty Harry.");
bonus_C.Text=("Buzz Lightyear.");
bonus_D.Text=("Uncle Buck.");}
if (slogHotdog==25){
BonusAnswer=("C");
bonus_question.Text=("This is national hot dog month in the united states.");
bonus_A.Text=("May.");
bonus_B.Text=("June.");
bonus_C.Text=("July.");
bonus_D.Text=("August.");}
if (slogHotdog==26){
BonusAnswer=("C");
bonus_question.Text=("Which of these US Presidents served hot dogs at an official white house function?");
bonus_A.Text=("Harry S. Truman.");
bonus_B.Text=("Richard Nixon.");
bonus_C.Text=("Ronald Reagan.");
bonus_D.Text=("Bill Clinton.");}
if (slogHotdog==27){
BonusAnswer=("A");
bonus_question.Text=("Most americans prefer their hot dogs cooked this way.");
bonus_A.Text=("Grilled.");
bonus_B.Text=("Steamed.");
bonus_C.Text=("Pan Fried.");
bonus_D.Text=("Boiled.");}
if (slogHotdog==28){
BonusAnswer=("D");
bonus_question.Text=("Citizens of this city most commonly prefer their hot dogs with sauerkraut and swiss cheese.");
bonus_A.Text=("Berlin.");
bonus_B.Text=("San Francisco");
bonus_C.Text=("St. Petersberg.");
bonus_D.Text=("Kansas City.");}}

if (bonus_layover.Graphic==5571){//Misc
if (slogMisc==0){slogMisc+=1;
}}

if (bonus_layover.Graphic==5573){//Newspaper
slogPaper+=1;
if ((slogPaper==1)||(slogPaper>28)){
BonusAnswer=("C");
bonus_question.Text=("What was the name of the first published newspaper in North America?");
bonus_A.Text=("Colonial Inquiry.");
bonus_B.Text=("The New York Times.");
bonus_C.Text=("Publick Occurrences, Both Foreign and Domestick.");
bonus_D.Text=("The Daily Endorser.");}
if (slogPaper==2){
BonusAnswer=("B");
bonus_question.Text=("In which year did Joseph Pulitzer buy 'New York World' for $346,000?");
bonus_A.Text=("1861");
bonus_B.Text=("1883");
bonus_C.Text=("1920");
bonus_D.Text=("1945");}
if (slogPaper==3){
BonusAnswer=("D");
bonus_question.Text=("Which of the following headlines was actually published in a United States newspaper?");
bonus_A.Text=("Two convicts evade noose, jury hung");
bonus_B.Text=("War dims hope for peace");
bonus_C.Text=("Panda mating fails, veterinarian takes over");
bonus_D.Text=("All of these were published headlines.");}
if (slogPaper==4){
BonusAnswer=("A");
bonus_question.Text=("In which year was the wire service 'Associated Press' formed?");
bonus_A.Text=("1848");
bonus_B.Text=("1895");
bonus_C.Text=("1935");
bonus_D.Text=("1957");}
if (slogPaper==5){
BonusAnswer=("A");
bonus_question.Text=("In the United States, daily adult newspaper readership dropped by this amount between 1970 and 2005.");
bonus_A.Text=("27%");
bonus_B.Text=("35%");
bonus_C.Text=("51%");
bonus_D.Text=("77%");}
if (slogPaper==6){
BonusAnswer=("A");
bonus_question.Text=("This famously wrong headline was once printed in New Mexico?");
bonus_A.Text=("Dewey Defeats Truman");
bonus_B.Text=("Titanic Shot Down in the Atlantic");
bonus_C.Text=("Surgeon General Endorses Cigarette Smoking for Children");
bonus_D.Text=("All of these.");}
if (slogPaper==7){
BonusAnswer=("B");
bonus_question.Text=("This is generally credited as the first newspaper comic strip.");
bonus_A.Text=("The Little Bears");
bonus_B.Text=("The Yellow Kid");
bonus_C.Text=("Mutt and Jeff");
bonus_D.Text=("Pogo");}
if (slogPaper==8){
BonusAnswer=("D");
bonus_question.Text=("After censoring a 'Lil Abner' strip in 1947, Publisher Edward Leech said this.");
bonus_A.Text=("We find that abner shows the traits of a drug addict.");
bonus_B.Text=("Children read these strips. We cannot allow profanity to appear within them.");
bonus_C.Text=("I didn't see the humor, frankly.");
bonus_D.Text=("We don't think it is good editing or sound citizenship picture the senate as an assemblage of freaks and crooks.");}
if (slogPaper==9){
BonusAnswer=("A");
bonus_question.Text=("'Freedom of the press' is protected by which constitutional ammendment?");
bonus_A.Text=("The first ammendment.");
bonus_B.Text=("The second ammendment.");
bonus_C.Text=("The third ammendment.");
bonus_D.Text=("The fourth ammendment.");}
if (slogPaper==10){
BonusAnswer=("A");
bonus_question.Text=("Of the following movies, this one was not about a newpaper reporter.");
bonus_A.Text=("Coffee and Cigarettes");
bonus_B.Text=("His Girl Friday");
bonus_C.Text=("State of Play");
bonus_D.Text=("It Happened One Night");}
if (slogPaper==11){
BonusAnswer=("B");
bonus_question.Text=("These Washington Post reporters are credited with uncovering the 'watergate scandal.'");
bonus_A.Text=("Wiseman and Bischelli");
bonus_B.Text=("Woodward and Berstein");
bonus_C.Text=("Edmonds and Bernoski");
bonus_D.Text=("Glenda and Bramford");}
if (slogPaper==12){
BonusAnswer=("D");
bonus_question.Text=("Orson Welles' acclaimed movie 'Citizen Kane' is thought to be a portrayal of this man.");
bonus_A.Text=("Robert Smith McClatchy");
bonus_B.Text=("Stephen John Tate");
bonus_C.Text=("Brutus T. McGaow, CPA");
bonus_D.Text=("William Randolph Hearst");}
if (slogPaper==13){
BonusAnswer=("C");
bonus_question.Text=("The Paperboys are a band of folk musicians from this region.");
bonus_A.Text=("Australia");
bonus_B.Text=("Boston");
bonus_C.Text=("Canada");
bonus_D.Text=("Denmark");}
if (slogPaper==14){
BonusAnswer=("A");
bonus_question.Text=("This newspaper printed its last edition in 2008.");
bonus_A.Text=("Rocky Mountain News");
bonus_B.Text=("New York Times");
bonus_C.Text=("Denver Post");
bonus_D.Text=("Los Angeles Times");}
if (slogPaper==15){
BonusAnswer=("C");
bonus_question.Text=("Newspapers with movable type originated in this century.");
bonus_A.Text=("The 15th century.");
bonus_B.Text=("The 16th century.");
bonus_C.Text=("The 17th century.");
bonus_D.Text=("The 18th Century.");}
if (slogPaper==16){
BonusAnswer=("B");
bonus_question.Text=("This is the origin of the phrase 'Extra! Extra!'");
bonus_A.Text=("Comic strips, editorials, and coupons were originally only printed in 'extra editions.'");
bonus_B.Text=("Special 'extra' editions would be published mid-day when special events occurred.");
bonus_C.Text=("The original name of the New York Times was 'The New York Extra.'");
bonus_D.Text=("Originally, the best news stories were published seperately and cost extra.");}
if (slogPaper==17){
BonusAnswer=("A");
bonus_question.Text=("Early newsboys in Washington D.C. were forbidden to do this.");
bonus_A.Text=("Call out headlines on sundays.");
bonus_B.Text=("Make eye contact with buying customers.");
bonus_C.Text=("Handle newspapers without gloves.");
bonus_D.Text=("Whistle or sing.");}
if (slogPaper==18){
BonusAnswer=("D");
bonus_question.Text=("Which of the following was a real headline on September 11, 2001?");
bonus_A.Text=("Terror Hits Pentagon, World Trade Center");
bonus_B.Text=("Dia de Terror");
bonus_C.Text=("U.S. Under Attack");
bonus_D.Text=("All of these were printed.");}
if (slogPaper==19){
BonusAnswer=("B");
bonus_question.Text=("George Bernard Shaw said this of newspapers.");
bonus_A.Text=("Everything you read in newspapers is absolutely true, except for that rare story of which you happen to have firsthand knowledge.");
bonus_B.Text=("Newspapers are unable, seemingly, to discriminate between a bicycle accident and the collapse of civilization.");
bonus_C.Text=("All I know is what I read in the papers.");
bonus_D.Text=("I am unable to understand how a man of honor could take a newspaper in his hands without a shudder of disgust.");}
if (slogPaper==20){
BonusAnswer=("C");
bonus_question.Text=("What was the tagline of the 1995 movie 'The Paper?'");
bonus_A.Text=("The story of their lives is on the front page.");
bonus_B.Text=("Armed only with a clipboard and smile, she'll change the world forever.");
bonus_C.Text=("Never let the truth get in the way of a good story.");
bonus_D.Text=("It might cost them their jobs, their reputations, maybe even their lives!");}
if (slogPaper==21){
BonusAnswer=("A");
bonus_question.Text=("According to the New York Times, this reporter 'committed frequent acts of journalist fraud' while on their staff.");
bonus_A.Text=("Jayson Blair");
bonus_B.Text=("David Gayle");
bonus_C.Text=("Nikolai Lobachevsky");
bonus_D.Text=("Robert Louis Stevenson");}
if (slogPaper==22){
BonusAnswer=("D");
bonus_question.Text=("Before becoming famous later in life, this man's first job was delivering newspapers.");
bonus_A.Text=("John Wayne");
bonus_B.Text=("Martin Luther King, JR");
bonus_C.Text=("Warren Buffet");
bonus_D.Text=("All of the above");}
if (slogPaper==23){
BonusAnswer=("B");
bonus_question.Text=("The first known crossword puzzle appeared in a newspaper in this year.");
bonus_A.Text=("1888");
bonus_B.Text=("1913");
bonus_C.Text=("1935");
bonus_D.Text=("1959");}
if (slogPaper==24){
BonusAnswer=("A");
bonus_question.Text=("Name the newspaper. 'The Miami____'");
bonus_A.Text=("Herald");
bonus_B.Text=("News");
bonus_C.Text=("Times");
bonus_D.Text=("Star");}
if (slogPaper==25){
BonusAnswer=("B");
bonus_question.Text=("Name the newspaper. 'The ____ Globe'");
bonus_A.Text=("Albany");
bonus_B.Text=("Boston");
bonus_C.Text=("Cheyenne");
bonus_D.Text=("Denver");}
if (slogPaper==26){
BonusAnswer=("D");
bonus_question.Text=("Name the newspaper. 'The ____ Bee'");
bonus_A.Text=("Portland");
bonus_B.Text=("Columbus");
bonus_C.Text=("Knoxville");
bonus_D.Text=("Sacramento");}
if (slogPaper==27){
BonusAnswer=("A");
bonus_question.Text=("This newspaper published its last edition in 2009.");
bonus_A.Text=("The Seattle Post-Intelligencer");
bonus_B.Text=("The Missoulian");
bonus_C.Text=("The Oregonian");
bonus_D.Text=("The Los Angeles Times");}
if (slogPaper==28){
BonusAnswer=("C");
bonus_question.Text=("Yellow journalism is defined in this way.");
bonus_A.Text=("Libelous.");
bonus_B.Text=("Holding government officials accountable.");
bonus_C.Text=("Journalism that exploits, distorts, or exaggerates the news to attract readers.");
bonus_D.Text=("Newspapers printed in yellow ink.");}}

if (bonus_layover.Graphic==5574){//Soda
if (slogSoda==0){slogSoda+=1;
if ((slogSoda==1)||(slogSoda>10)){
  slogSoda=2;//just to start
BonusAnswer=("A");
bonus_question.Text=("Diet Coke hit the shelves in this year:");
bonus_A.Text=("1982");
bonus_B.Text=("1993");
bonus_C.Text=("1971");
bonus_D.Text=("1961");}
if (slogSoda==2){
  BonusAnswer=("B");
  bonus_question.Text=("Which popular soft drink was invented at \"The Old Corner Drug Store\" in Waco, Texas?");
  bonus_A.Text=("Pepsi Cola");
  bonus_B.Text=("Dr. Pepper");
  bonus_C.Text=("7-Up");
  bonus_D.Text=("Root Beer");}
if (slogSoda==3){
  BonusAnswer=("C");
  bonus_question.Text=("Which popular soft drink was invented by pharmacist John Pemberton?");
  bonus_A.Text=("Pepsi Cola");
  bonus_B.Text=("Dr. Pepper");
  bonus_C.Text=("Coca-Cola");
  bonus_D.Text=("Root Beer");}
if (slogSoda==4){
  BonusAnswer=("C");
  bonus_question.Text=("A commercial for this brand inspired the made-for-TV movie \"The Steeler and the Pittsburgh Kid\":");
  bonus_A.Text=("Pepsi Cola");
  bonus_B.Text=("Dr. Pepper");
  bonus_C.Text=("Coca-Cola");
  bonus_D.Text=("Root Beer");}
if (slogSoda==5){
  BonusAnswer=("A");
  bonus_question.Text=("Why was the name \"Tab\" chosen for the soft drink?");
  bonus_A.Text=("It helps people \"keep tabs\" on their nutrition.");
  bonus_B.Text=("The creator's daughter was named \"Tabatha\".");
  bonus_C.Text=("It invokes the fresh sound of the \"tab\" seal being broken.");
  bonus_D.Text=("It was named for its creators: Thomas, Andrew, and Bill.");}
if (slogSoda==6){
  BonusAnswer=("D");
  bonus_question.Text=("A Coke bottle tossed from a plan lands in a remote village of peaceful Bushmen in this movie:");
  bonus_A.Text=("The Lost Boys");
  bonus_B.Text=("Labyrinth");
  bonus_C.Text=("Snakes of Avalon");
  bonus_D.Text=("The Gods Must Be Crazy");}
if (slogSoda==7){
  BonusAnswer=("D");
  bonus_question.Text=("Soda induces \"burping\". Which of these animals also burps?");
  bonus_A.Text=("Dairy Cows");
  bonus_B.Text=("Dogs");
  bonus_C.Text=("Sheep");
  bonus_D.Text=("All of these");}
if (slogSoda==8){
  BonusAnswer=("B");
  bonus_question.Text=("Which of these pop artists recorded a song called \"Soda Pop\"?");
  bonus_A.Text=("Christina Aguilera");
  bonus_B.Text=("Britney Spears");
  bonus_C.Text=("Jessica Simpson");
  bonus_D.Text=("Justin Beiber");}
if (slogSoda==9){
  BonusAnswer=("C");
  bonus_question.Text=("This is a line from singer Tommy Sands' song \"Soda Pop Pop\":");
  bonus_A.Text=("He sings the doo wop while telling her to drop the mop and drink pop at the soda shop...");
  bonus_B.Text=("She called the cops to the soda shop shop shop...");
  bonus_C.Text=("He's got a shop on the corner where the kids go to bop");
  bonus_D.Text=("There aren't lyrics - it's an instrumental.");}
if (slogSoda==10){
  BonusAnswer=("A");
  bonus_question.Text=("Pepsi was first known by this name:");
  bonus_A.Text=("Brad's Drink");
  bonus_B.Text=("Pep-Elixer");
  bonus_C.Text=("Soothe and Pep");
  bonus_D.Text=("Brown Fountain");}
}

}

//Font Resolution:
if (bonus_A.Text.Length<=22){bonus_A.Font=3;}
if ((bonus_A.Text.Length>=23)&&(bonus_A.Text.Length<=40)){bonus_A.Font=0;}
if ((bonus_A.Text.Length>=41)&&(bonus_A.Text.Length<=60)){bonus_A.Font=1;}
if (bonus_A.Text.Length>=61){bonus_A.Font=4;}
//B
if (bonus_B.Text.Length<=22){bonus_B.Font=3;}
if ((bonus_B.Text.Length>=23)&&(bonus_B.Text.Length<=40)){bonus_B.Font=0;}
if ((bonus_B.Text.Length>=41)&&(bonus_B.Text.Length<=60)){bonus_B.Font=1;}
if (bonus_B.Text.Length>=61){bonus_B.Font=4;}
//C
if (bonus_C.Text.Length<=22){bonus_C.Font=3;}
if ((bonus_C.Text.Length>=23)&&(bonus_C.Text.Length<=40)){bonus_C.Font=0;}
if ((bonus_C.Text.Length>=41)&&(bonus_C.Text.Length<=60)){bonus_C.Font=1;}
if (bonus_C.Text.Length>=61){bonus_C.Font=4;}
//D
if (bonus_D.Text.Length<=22){bonus_D.Font=3;}
if ((bonus_D.Text.Length>=23)&&(bonus_D.Text.Length<=40)){bonus_D.Font=0;}
if ((bonus_D.Text.Length>=41)&&(bonus_D.Text.Length<=60)){bonus_D.Font=1;}
if (bonus_D.Text.Length>=61){bonus_D.Font=4;}
//Go!
gBonus.Visible=true;
PlayAmbientSound(1, 111, ((music_slider.Value+1)), 0, 0); musicfallback=music_slider.Value; music_slider.Value=10;}
}


function customerbreakaway(){//==//Let my people go!//==//
if (salebuyer==("Tim")){if (player.Room!=15){Tim2.breakaway();}}
else if (salebuyer==("Stephen")){Stephen.UnlockView(); Stephen.breakaway();}
else if (salebuyer==("Toney")){Toney.UnlockView(); Toney.breakaway();}
else if (salebuyer==("Jenny")){Jenny.UnlockView(); Jenny.breakaway();}
else if (salebuyer==("Richard")){Richard.UnlockView(); Richard.breakaway();}
else if (salebuyer==("Troy")){Troy.UnlockView(); Troy.breakaway();}
else if (salebuyer==("George")){George.UnlockView(); George.breakaway();}
else if (salebuyer==("Marcus")){Marcus.UnlockView(); Marcus.breakaway();}
else if (salebuyer==("Faith")){if (player.Room!=31){Faith.breakaway();}}
else if (salebuyer==("Eddie")){if (player.Room!=31){Eddie.breakaway();}}
else if (salebuyer==("Betsy")){if (player.Room!=30){Betsy.breakaway();}}
else if (salebuyer==("Matts")){if (player.Room!=7){Matts.breakaway();}}
else if (salebuyer==("Clarence")){if (player.Room!=36){Clarence.breakaway();}}
else if (salebuyer==("Thales")){Thales.UnlockView(); Thales.breakaway();}
else if (salebuyer==("Johns")){Johns.UnlockView(); Johns.breakaway();}
else if (salebuyer==("DC")){DC.UnlockView(); DC.breakaway();}
else if (salebuyer==("Suchin")){Suchin.UnlockView(); Suchin.breakaway();}
else if (salebuyer==("Kyam")){Kyam.UnlockView(); Kyam.breakaway();}
else if (salebuyer==("Meadow")){if (player.Room!=32){Meadow.breakaway();}}
else if (salebuyer==("TJ")){if (player.Room!=33){TJ.breakaway();}}
else if (salebuyer==("Chris")){Chris.UnlockView(); Chris.breakaway();}
else if (salebuyer==("Sebastian")){Sebastian.UnlockView(); Sebastian.breakaway();}
else if (salebuyer==("Bramford")){Bramford.breakaway();}
else if (salebuyer==("Ward")){Ward.UnlockView(); Ward.breakaway();}
else if (salebuyer==("Stephanie")){Stephanie.UnlockView(); Stephanie.breakaway();}
else if (salebuyer==("Dick")){Dick.UnlockView(); Dick.breakaway();}
else if (salebuyer==("Christin")){Christin.UnlockView(); Christin.breakaway();}
else if (salebuyer==("Dwayne")){if (player.Room!=35){Dwayne.breakaway();}}
else if (salebuyer==("Jessi")){Jessi.UnlockView(); Jessi.breakaway();}
else if (salebuyer==("Julian")){Julian.UnlockView(); Julian.breakaway();}
else if (salebuyer==("Nelly")){Nelly.UnlockView(); Nelly.breakaway();}
else if (salebuyer==("Ward")){Ward.UnlockView(); Ward.breakaway();}
else if (salebuyer==("Winston")){Winston.UnlockView(); Winston.breakaway();}
//Special Accounts
else if (salebuyer==("Seanny")){}//No Floating Away!
else if (salebuyer==("Seany")){}//No Floating Away!
else if (salebuyer==("Laura")){if ((player.Room!=38)&&(player.Room!=2)){Laura.breakaway();}}//Not at home or school
else if (salebuyer==("Rebecca")){if ((player.Room!=38)&&(player.Room!=2)){Rebecca.breakaway();}}//Not at home or school
else if ((salebuyer==("Alice"))&&(player.Room==12)){return;}////Not at the shop.
else if ((salebuyer==("Alice"))&&(player.Room!=12)){Alice_2.UnlockView(); Alice_2.breakaway();}////Not at the shop.
else if (salebuyer==("Omar")){if (player.Room!=34){Omar.breakaway();}if (player.Room==34){}}//Not in the park.
else if (salebuyer==("Basinski")){Basinski.UnlockView(); Basinski.breakaway(); SetGlobalInt(343, 0);}//Won't come back 'til tomorrow.
else if (salebuyer==("The Three")){TheThree.breakaway(); SetGlobalInt(313, 1);}//Won't come back 'til tomorrow.
else if (salebuyer==("Glenda")){if (player.Room!=18){Glenda.breakaway();}}//Not in the courthouse.
else if (salebuyer==("Melody")){if (player.Room!=15){Melody.breakaway();}}//Not at work.
else if (salebuyer==("Barneys")){}//No!!!
//if (salebuyer==("Vinny")){if (player.Room!=npcVinny_location)Vinny.breakaway();}//Only if he's not selling/at home
else if (salebuyer==("Vinny")){Vinny.breakaway();}//Only if he's not selling/at home
else if (salebuyer==("Harry")){if (player.Room!=12)Harry.breakaway(); else{return;}}//Do nothing.
else if (salebuyer==("Logan")){if (player.Room!=npcLogan_location)Logan.breakaway();}//Only if he's not selling/at home
else if (salebuyer==("Andrus")){if (player.Room!=npcAndrus_location)Andrus.breakaway();}//Only if he's not selling/at home
else if (salebuyer==("Melanie")){if (player.Room!=npcMelanie_location)Melanie.breakaway();}//Only if she's not selling/at home
//Final fuckit command for anybody who isn't included:
else{Customer.UnlockView(); Customer.breakaway();}
}

function litmus(){

int menace=Random(4);
if (salebuyer==("Thales")){
PCListen(); Thalestalk(); //Thales talks first.
if (menace==0){dText.Text=("If you don't have one, I'll have to ask you to stop selling your products."); blab5();
PCListen(); Thalestalk(); dText.Text=("Also, I'll have to issue you a fine."); blab3();}
if (menace==1){dText.Text=("I'm Deputy Thales. I'm with GPD, and need to verify your vendor's permit."); blab5();}
if (menace==2){dText.Text=("I need to verify your vendor's permit in order to allow you to sell here."); blab5();}
if (menace==3){dText.Text=("A vendor's permit is required to operate in this area."); blab4();}
boxadd("Permits"); boxadd("Fines"); 
if (menace==4){dText.Text=("If you're operating without a vendor's permit, I'll have to issue a fine."); blab5();}}
if (salebuyer==("Johns")){
PCListen(); Johnstalk(); //Johns talks first.
if (menace==0){dText.Text=("If you don't have one, I'll have to ask you to stop selling your products."); blab5();
PCListen(); Johnstalk(); dText.Text=("Also, I'll have to issue you a fine."); blab3();}
if (menace==1){dText.Text=("I'm Officer Johns. I'm with GPD, and need to verify your vendor's permit."); blab5();}
if (menace==2){dText.Text=("I need to verify your vendor's permit in order to allow you to sell here."); blab5();}
if (menace==3){dText.Text=("A vendor's permit is required to operate in this area."); blab4();}
boxadd("Permits"); boxadd("Fines"); 
if (menace==4){dText.Text=("If you're operating without a vendor's permit, I'll have to issue a fine."); blab5();}}

if (GetGlobalInt(1)==1){//Andrus!!
if (permitted==0){
PCTalk(); customerlisten(); dText.Text=("Permit?"); blab1();
PCListen(); customertalk(); dText.Text=("Yes, you need a permit to operate this stand."); blab4();
dThales_plead.SetOptionState(4, eOptionOn); dThales_plead.SetOptionState(1, eOptionOff); //No Permit
PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); dThales_plead.Start();
}
else if (permitted==1){
PCTalk(); customerlisten(); dText.Text=("Permit?"); blab1();
PCListen(); customertalk(); dText.Text=("Yes, you need a permit to operate this stand."); blab4();
dThales_plead.SetOptionState(1, eOptionOn); dThales_plead.SetOptionState(4, eOptionOff); // Has Permit
PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); dThales_plead.Start();}
}

  if (GetGlobalInt(1)==3){//Vinny!!
dThales_plead.SetOptionState(2, eOptionOn); //Passing Through
     if (permitted==0){
//Display("Litmus dialog!");
PCTalk(); customerlisten(); dText.Text=("Permit?"); blab1();
PCListen(); customertalk(); dText.Text=("Yes, you need a permit to operate this stand."); blab4();
dThales_plead.SetOptionState(4, eOptionOn); dThales_plead.SetOptionState(1, eOptionOff); //No Permit
PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); 
//Display("dThales_plead.Start()!");
dThales_plead.Start();
}
else if (permitted==1){
PCTalk(); customerlisten(); dText.Text=("My permit?"); blab1();
PCListen(); customertalk(); dText.Text=("Yes, you need a permit to operate this stand."); blab4();
dThales_plead.SetOptionState(1, eOptionOn); dThales_plead.SetOptionState(4, eOptionOff); // Has Permit
PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); dThales_plead.Start();}
}


  if (GetGlobalInt(1)==4){//Logan!!
dThales_plead.SetOptionState(2, eOptionOn); //Passing Through
     if (permitted==0){
PCTalk(); customerlisten(); dText.Text=("My permit?"); blab1();
PCListen(); customertalk(); dText.Text=("Yes, you need a permit to operate this stand."); blab4();
dThales_plead.SetOptionState(4, eOptionOn); dThales_plead.SetOptionState(1, eOptionOff); //No Permit
PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); dThales_plead.Start();}
else if (permitted==1){
PCTalk(); customerlisten(); dText.Text=("My permit?"); blab1();
PCListen(); customertalk(); dText.Text=("Yes, you need a permit to operate this stand."); blab4();
dThales_plead.SetOptionState(1, eOptionOn); dThales_plead.SetOptionState(4, eOptionOff); // Has Permit
PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); dThales_plead.Start();}}
}

  function Permitcheck(){
if (player.Room==5){//Franklin!
  if (cSlot2.InventoryQuantity[Permit_franklin.ID]==0){permitted=0;}
  else if (cSlot2.InventoryQuantity[Permit_franklin.ID]!=0){permitted=1;}}

if (player.Room==13){//Brennan!!
  if (cSlot2.InventoryQuantity[Permit_brennan.ID]==0){permitted=0;}
  else if (cSlot2.InventoryQuantity[Permit_brennan.ID]!=0){permitted=1;}}

if (player.Room==14){//Downtown!!
  if (cSlot2.InventoryQuantity[Permit_downtown.ID]==0){permitted=0;}
  else if (cSlot2.InventoryQuantity[Permit_downtown.ID]!=0){permitted=1;}}

if (player.Room==19){//Notgeld!!
  if (cSlot2.InventoryQuantity[Permit_notgeld.ID]==0){permitted=0;}
  else if (cSlot2.InventoryQuantity[Permit_notgeld.ID]!=0){permitted=1;}}

if (player.Room==20){//Florin!!
  if (cSlot2.InventoryQuantity[Permit_florin.ID]==0){permitted=0;}
  else if (cSlot2.InventoryQuantity[Permit_florin.ID]!=0){permitted=1;}}
    
    if (player.Room==22){//13th!
  if (cSlot2.InventoryQuantity[Permit_13.ID]==0){permitted=0;}
  else if (cSlot2.InventoryQuantity[Permit_13.ID]!=0){permitted=1;}}

if (player.Room==26){//Collins!!
  if (cSlot2.InventoryQuantity[Permit_Collins.ID]==0){permitted=0;}
  else if (cSlot2.InventoryQuantity[Permit_Collins.ID]!=0){permitted=1;}}

if (player.Room==34){//Park!!
    permitted=1;}

if (player.Room==17){//Downtown(2)!!
  if (cSlot2.InventoryQuantity[Permit_downtown.ID]==0){permitted=0;}
  else if (cSlot2.InventoryQuantity[Permit_downtown.ID]!=0){permitted=1;}}
    
litmus();
}

function priceisright(){ SaleInProgress=0;
if (((salebuyer=="Thales"))||((salebuyer=="Johns"))){
if (GetGlobalInt(325)!=0){//No Check
customertalk(); PCListen(); dText.Text=("Yeah, thanks.");blab2();
PCListen(); customerlisten();
dText.Text=(" "); dName.Text=(" ");
StopPop(); WaitMouseKey(5); customerbreakaway(); 
//Bonus Check: Bagels
if (bagel_bonus_countdown<=0){
if (bonussed==0){bonus_layover.NormalGraphic=5569; bonussed=1; bagel_bonus_countdown=10; Bonus();}}
//Bonus Check: Coffee
if (coffee_bonus_countdown<=0){
if (bonussed==0){bonus_layover.NormalGraphic=5570; bonussed=1; coffee_bonus_countdown=10; Bonus();}}
//Bonus Check: Hotdogs
if (hotdog_bonus_countdown<=0){
if (bonussed==0){bonus_layover.NormalGraphic=5572; bonussed=1; hotdog_bonus_countdown=10; Bonus();}}
//Bonus Check: Misc
if (misc_bonus_countdown<=0){}
//if (bonussed==0){bonus_layover.NormalGraphic=5571; bonussed=1; misc_bonus_countdown=10; Bonus();}}//Taking it out.
//Bonus Check: Papers
if (paper_bonus_countdown<=0){
if (bonussed==0){bonus_layover.NormalGraphic=5573; bonussed=1; paper_bonus_countdown=10; Bonus();}}
//Bonus Check: Soda
if (soda_bonus_countdown<=0){
if (bonussed==0){bonus_layover.NormalGraphic=5574; bonussed=1; soda_bonus_countdown=10; Bonus();}}}
//End No-Check
if (GetGlobalInt(325)==0){//Permitcheck
if (GetGlobalInt(1)==1){//Andrus
Thalestalk(); PCListen (); dText.Text=("Alright."); blab1();
Thaleslisten();  PCTalk(); dText.Text=("Yes, have a nice day."); blab1();
boxadd("Permits"); 
Thalestalk(); PCListen (); dText.Text=("Before I go, I'd like to see a permit, please."); blab1();
Thaleslisten();  PCListen(); dText.Text=("..."); blab1();
Permitcheck(); SetGlobalInt(425, 1); SetGlobalInt(25, 0);}
if (GetGlobalInt(1)==3){//Vinny
Thalestalk(); PCListen (); dText.Text=("Alright."); blab1();
Thaleslisten();  PCTalk(); dText.Text=("Have a nice day, officer!"); blab1();
boxadd("Permits"); 
Thalestalk(); PCListen (); dText.Text=("Before I go, I'd like to see a permit, please."); blab1();
Thaleslisten();  PCListen(); dText.Text=("..."); blab1();
Permitcheck(); SetGlobalInt(425, 1); SetGlobalInt(25, 0);}
if (GetGlobalInt(1)==4){//Logan
Thalestalk(); PCListen (); dText.Text=("Alright."); blab1();
Thaleslisten();  PCTalk(); dText.Text=("Thanks. Is that it?"); blab1();
boxadd("Permits"); 
Thalestalk(); PCListen (); dText.Text=("Before I go, I'd like to see a permit, please."); blab2();
Thaleslisten();  PCTalk(); dText.Text=("I knew it."); blab1();
Permitcheck(); SetGlobalInt(425, 1); SetGlobalInt(25, 0);}
if (GetGlobalInt(1)==2){//Mel
customertalk(); PCListen(); dText.Text=("Thank you!");blab2();
PCListen(); customerlisten();
dText.Text=(" "); dName.Text=(" ");
StopPop(); WaitMouseKey(5); customerbreakaway();}
}}
else if (((salebuyer!="Thales"))&&((salebuyer!="Johns"))){
int vdr=Random(3);
int piw=Random(2);
customertalk(); PCListen(); 

//The Customer Thanks!
if (salebuyer==("Richard")){
if (piw==0){dText.Text=String.Format("Thanks, %s!", player.Name); blab1();}
if (piw==1){dText.Text=String.Format("Thanks!", player.Name);blab1();}
if (piw==2){dText.Text=String.Format("Thanks, %s! Have a good one!", player.Name);blab2();}}

if (salebuyer==("Toney")){
if (piw==0){dText.Text=String.Format("Thanks, %s. I gotta run.", player.Name);blab2();}
if (piw==1){dText.Text=String.Format("Alright, thanks.", player.Name);blab1();}
if (piw==2){dText.Text=("Alright, cool beans. I gotta run!");blab2();}}

if (salebuyer==("Basinski")){
PCListen(); customertalk(); dText.Text=("Thanks. I'll be back tomorrow morning!"); blab3();
if (cSlot2.InventoryQuantity[Card_Bas.ID]==1){
PCTalk(); customerlisten();
if (GetGlobalInt(1)==1){dText.Text=("Yes. Good. Okay."); blab3();}
if (GetGlobalInt(1)==2){dText.Text=("Looking forward to it!"); blab3();}
if (GetGlobalInt(1)==3){dText.Text=("That would be my suggestion."); blab3();}
if (GetGlobalInt(1)==4){dText.Text=("Great. See you then."); blab3();}
PCListen(); customertalk(); dText.Text=("OK. See you then!"); blab2();}
if (cSlot2.InventoryQuantity[Card_Bas.ID]==0){
PCListen(); customertalk(); dText.Text=("Actually, I'll be back about every morning - I work right up the street."); blab5();
PCListen(); customertalk(); dText.Text=("Here's my card - call or stop by if you need to."); blab5(); cSlot2.AddInventory(Card_Bas);}}

if (salebuyer==("The Three")){PCListen(); customertalk(); dText.Text=("We will return again."); blab3();}

if ((salebuyer!=("Toney"))&&(salebuyer!=("Richard"))&&(salebuyer!=("Basinski"))&&(salebuyer!=("The Three"))){PCListen(); customertalk(); dText.Text=("Thank you!");blab2();}

customerlisten(); PCTalk();
//The Vendor Replies!
if (GetGlobalInt(1)==1){//Andrus
if (vdr==0){dText.Text=("Please have a good day - Okay?");blab2();}
if (vdr==1){dText.Text=("Thank you for coming to be stopping by here.");blab1();}
if (vdr==2){dText.Text=("Yes - Thank you.");blab2();}
if (vdr==3){dText.Text=("Yes - Come back soon, Okay?");blab2();}}
if (GetGlobalInt(1)==2){//Melanie
if (vdr==0){dText.Text=("Have a good day!");blab2();}
if (vdr==1){dText.Text=("Thank you!");blab1();}
if (vdr==2){dText.Text=("Thank you for coming!");blab2();}
if (vdr==3){dText.Text=("See you again soon!");blab2();}}
if (GetGlobalInt(1)==3){//Vinny
if (vdr==0){dText.Text=("Have a good day!");blab2();}
if (vdr==1){dText.Text=("Thank you!");blab1();}
if (vdr==2){dText.Text=("Thank you for coming!");blab2();}
if (vdr==3){dText.Text=("See you again soon!");blab2();}}
if (GetGlobalInt(1)==4){//Logan
if (vdr==0){dText.Text=("Yep!");blab2();}
if (vdr==1){dText.Text=("Tell your friends to come by!");blab1();}
if (vdr==2){dText.Text=("Yeah, okay.");blab2();}
if (vdr==3){dText.Text=("See you again soon, okay?");blab2();}}

PCListen(); customerlisten();
dText.Text=(" "); dName.Text=(" ");
StopPop(); WaitMouseKey(5); customerbreakaway(); 

//Bonus Check: Bagels
if (bagel_bonus_countdown<=0){
if (bonussed==0){bonus_layover.NormalGraphic=5569; bonussed=1; bagel_bonus_countdown=10; Bonus();}}
//Bonus Check: Coffee
if (coffee_bonus_countdown<=0){
if (bonussed==0){bonus_layover.NormalGraphic=5570; bonussed=1; coffee_bonus_countdown=10; Bonus();}}
//Bonus Check: Hotdogs
if (hotdog_bonus_countdown<=0){
if (bonussed==0){bonus_layover.NormalGraphic=5572; bonussed=1; hotdog_bonus_countdown=10; Bonus();}}
//Bonus Check: Misc
if (misc_bonus_countdown<=0){
if (bonussed==0){bonus_layover.NormalGraphic=5571; bonussed=1; misc_bonus_countdown=10; Bonus();}}
//Bonus Check: Papers
if (paper_bonus_countdown<=0){
if (bonussed==0){bonus_layover.NormalGraphic=5573; bonussed=1; paper_bonus_countdown=10; Bonus();}}
//Bonus Check: Soda
if (soda_bonus_countdown<=0){
if (bonussed==0){bonus_layover.NormalGraphic=5574; bonussed=1; soda_bonus_countdown=10; Bonus();}}
}
//Bitchcheck

//Line Moves Up
//if (queposition>=0)queposition-=1;//Moved this to customerbreakaway
//que[0]=que[1];
//que[1]=que[2];
//que[2]=que[3];
//que[3]=que[4];
//que[4]=que[5];//========Moved all of this to breakaway();
//que[5]=que[6];
//que[6]=que[7];
//que[7]=que[8];
//que[8]=que[9];
////que[9]=que[10];//Throwing a crash?

//Timer Expirado?
if (IsTimerExpired(2)==1){
  int streetlights;
if ((ampm==0)&&((hour<8)&&(hour>=1))){streetlights=200;}//Early Morning
if ((ampm==0)&&(hour>=8)&&(hour!=12)){streetlights=0;}//Morning
if ((ampm==1)&&(hour==12)){streetlights=0;}//NOON
if ((ampm==1)&&(hour<=8)&&(hour!=12)){streetlights=0;}//day
if ((ampm==1)&&(hour>=9)&&(hour!=12)){streetlights=200;}//Night
if ((ampm==0)&&(hour==12)){streetlights=200;}//Midnight

int roomytimemod;
if (player.Room==5){roomytimemod=0;}//Franklin
else if (player.Room==13){roomytimemod=10;}//Bridge
else if (player.Room==14){roomytimemod=-20;}//Downtown
else if (player.Room==20){roomytimemod=0;}//Florin
else if (player.Room==22){roomytimemod=-5;}//13th
else if (player.Room==26){roomytimemod=40;}//Collins

int timermath=(Random(200)+streetlights+roomytimemod);
if (timermath<5){SetTimer(2, 5);}
else if (timermath>5){SetTimer(2, timermath);}}

}

function priceiswrong(){
if (salebuyer==("Richard")){int piw=Random(2);
if (piw==0){
Richardtalk(); PCListen(); dText.Text=("Wait, wait...");blab1();
Richardtalk(); PCListen(); dText.Text=String.Format("$%.2f for %s?", saleprice, saleitem);blab1();
Richardlisten(); PCTalk(); dText.Text=("Um. Yep.");blab1();
Richardtalk(); PCListen(); dText.Text=String.Format("That's a little much for a %s. Don't you think?", saleitem);blab3();
Richardtalk(); PCListen(); dText.Text=("Thanks anyways.");blab1();
Richardlisten(); PCTalk(); dText.Text=("Okay.");blab1();}
if (piw==1){
Richardtalk(); PCListen(); dText.Text=("Wait, hold on...");blab1();
Richardtalk(); PCListen(); dText.Text=String.Format("This %s is $%.2f?", saleitem, saleprice);blab1();
Richardlisten(); PCTalk(); dText.Text=("Hmm. Yes it is.");blab1();
Richardtalk(); PCListen(); dText.Text=("Well, heh, I don't need it that badly.");blab3();
Richardtalk(); PCListen(); dText.Text=("Thanks anyways, though.");blab1();
Richardlisten(); PCTalk(); dText.Text=("Okay. Thanks.");blab1();}
if (piw==2){
Richardtalk(); PCListen(); dText.Text=("Just a second. I'm sorry.");blab1();
Richardtalk(); PCListen(); dText.Text=String.Format("Your %s is $%.2f?", saleitem, saleprice);blab1();
Richardlisten(); PCTalk(); dText.Text=("That's correct.");blab1();
Richardtalk(); PCListen(); dText.Text=("Wow. That's high.");blab1();
Richardtalk(); PCListen(); dText.Text=("I think I'm going to pass.");blab1();
Richardlisten(); PCTalk(); dText.Text=("Okay. Thanks.");blab1();}}

else if (salebuyer==("Toney")){
if (saleitem == ("Coffee: Grade D")){
Toneytalk(); PCListen(); dText.Text=("Wait, wait...");blab1();
Toneytalk(); PCListen(); dText.Text=String.Format("$%.2f for this stuff?", saleprice);blab1();
Toneylisten(); PCTalk(); dText.Text=("Um. Yep.");blab1();
Toneytalk(); PCListen(); dText.Text=String.Format("I'd love me some coffee, but this is cheap coffee. $%.2f is too high.", saleprice);blab5();
Toneytalk(); PCListen(); dText.Text=("Yeah. There's no way I'm paying that.");blab3();
Toneylisten(); PCTalk(); dText.Text=("Okay.");blab1();}
else {
int piw=Random(2);
if (piw==0){
Toneytalk(); PCListen(); dText.Text=("Wait, wait...");blab1();
Toneytalk(); PCListen(); dText.Text=String.Format("$%.2f for %s?", saleprice, saleitem);blab1();
Toneylisten(); PCTalk(); dText.Text=("Um. Yep.");blab1();
Toneytalk(); PCListen(); dText.Text=String.Format("Whoa that's... A little much for a %s.", saleitem);blab3();
Toneytalk(); PCListen(); dText.Text=("Yeah. There's no way I'm paying that.");blab3();
Toneylisten(); PCTalk(); dText.Text=("Okay.");blab1();}
if (piw==1){
Toneytalk(); PCListen(); dText.Text=("Wait, hold on...");blab1();
Toneytalk(); PCListen(); dText.Text=String.Format("This %s is $%.2f?", saleitem, saleprice);blab1();
Toneylisten(); PCTalk(); dText.Text=("Yes it is.");blab1();
Toneytalk(); PCListen(); dText.Text=("Sorry, but it doesn't look -that- good.");blab3();
Toneytalk(); PCListen(); dText.Text=("Thanks anyways, though.");blab1();
Toneylisten(); PCTalk(); dText.Text=("Okay. Thanks.");blab1();}
if (piw==2){
Toneytalk(); PCListen(); dText.Text=("Wait, hold on...");blab1();
Toneytalk(); PCListen(); dText.Text=String.Format("Your %s is $%.2f?", saleitem, saleprice);blab1();
Toneylisten(); PCTalk(); dText.Text=("That's correct.");blab1();
Toneytalk(); PCListen(); dText.Text=("Wow.");blab1();
Toneytalk(); PCListen(); dText.Text=String.Format("Sorry, but that's ridiculous for a %s.", saleitem);blab3();
Toneylisten(); PCTalk(); dText.Text=("Okay. Thanks.");blab1();}}}

else if (salebuyer==("Troy")){
Troytalk(); PCListen(); dText.Text=("Whoa... Hey, man.");blab1();
Troytalk(); PCListen(); dText.Text=String.Format("$%.2f for %s?", saleprice, saleitem);blab1();
Troylisten(); PCTalk(); dText.Text=("Um. Yep.");blab1();
Troylisten(); PCListen(); dText.Text=("...?!"); dName.Text=("Troy: "); blab1(); 
Troylisten(); PCListen(); dText.Text=("..."); dName.Text=String.Format("%s: ", player.Name); blab1(); 
Troytalk(); PCListen(); dText.Text=("Thanks anyways.");blab1();
Troylisten(); PCTalk(); dText.Text=("Okay.");blab1();}

else if (salebuyer==("Dick")){int piw=Random(2);if (piw==0){
Dicktalk(); PCListen(); dText.Text=("Wait a sec...");blab1();
Dicktalk(); PCListen(); dText.Text=String.Format("$%.2f for cofee?", saleprice);blab1();
Dicklisten(); PCTalk(); dText.Text=("Um. Yes.");blab1();
Dicktalk(); PCListen(); dText.Text=("That's a bit much for a cup of coffee - Don't you think?");blab3();
Dicklisten(); PCTalk(); dText.Text=("Okay."); blab1();rep-=1;
Dicktalk(); PCListen(); dText.Text=("Thanks anyways!");}
if (piw==1){
Dicktalk(); PCListen(); dText.Text=("Wait, hold on...");blab1();
Dicktalk(); PCListen(); dText.Text=String.Format("This is $%.2f?", saleprice);blab1();
Dicklisten(); PCTalk(); dText.Text=("Hmm. Yes it is.");blab1();
Dicktalk(); PCListen(); dText.Text=("Well, heh, I don't need it that bad.");blab3();
Dicktalk(); PCListen(); dText.Text=("Thanks anyways, though.");blab1();
Dicklisten(); PCTalk(); dText.Text=("Okay. Thanks."); blab1();
Dicktalk(); PCListen(); dText.Text=("Good luck!"); blab1();}
if (piw==2){
Dicktalk(); PCListen(); dText.Text=("Just a second...");blab1();
Dicktalk(); PCListen(); dText.Text=String.Format("Your %s is $%.2f?", saleitem, saleprice);blab2();
Dicklisten(); PCTalk(); dText.Text=("That's correct.");blab1();
Dicktalk(); PCListen(); dText.Text=("Well...");blab1();
Dicktalk(); PCListen(); dText.Text=("That's outrageous...");blab1();
Dicktalk(); PCListen(); dText.Text=("I mean, that's unbelievable for one cup of coffee."); blab4();
Dicklisten(); PCTalk(); dText.Text=("Okay. Thanks.");blab1();}}

else if (salebuyer==("Clarence")){int piw=Random(2);if (piw==0){
customertalk(); PCListen(); dText.Text=("Wait a sec...");blab1();
customertalk(); PCListen(); dText.Text=String.Format("$%.2f for this little thing?", saleprice);blab1();
customerlisten(); PCTalk(); dText.Text=("Um. Yes.");blab1();
customertalk(); PCListen(); dText.Text=("You outta your mind, or what, here?");blab3();
customerlisten(); PCTalk(); dText.Text=("Okay."); blab1();
customertalk(); PCListen(); dText.Text=("...could go just about any place else in the country and pay less than...");}
if (piw==1){
customertalk(); PCListen(); dText.Text=("Whoa, now.");blab1();
customertalk(); PCListen(); dText.Text=String.Format("Jeez, Louise! You're asking $%.2f for this?", saleprice);blab1();
customerlisten(); PCTalk(); dText.Text=("Yes, that's the price.");blab1();
customertalk(); PCListen(); dText.Text=("...sweet pete on a cracker.");blab3();
customertalk(); PCListen(); dText.Text=("...damn economy's going to hell in a handbasket...");blab1();
customerlisten(); PCTalk(); dText.Text=("...Have a nice day?"); blab1();
}
if (piw==2){
customertalk(); PCListen(); dText.Text=("Whoa, hold your horses for just a second...");blab1();
customertalk(); PCListen(); dText.Text=String.Format("The %s costs $%.2f?", saleitem, saleprice);blab2();
customerlisten(); PCTalk(); dText.Text=("That's correct.");blab1();
customertalk(); PCListen(); dText.Text=("Well...");blab1();
customertalk(); PCListen(); dText.Text=("That's outrageous...");blab1();
customertalk(); PCListen(); dText.Text=("I mean, that's just unbelievable. You kiddin' me?"); blab4();
customerlisten(); PCTalk(); dText.Text=("Okay. Thanks anyway.");blab1();
customertalk(); PCListen(); dText.Text=("Honestly, I mean you've got to be joking, asking that much."); blab4();
customerlisten(); PCTalk(); dText.Text=("Have a nice day, sir.");blab1();
customertalk(); PCListen(); dText.Text=String.Format("I'm serious. $%.2f? Jeez, Louise....", saleprice);blab2();
}
}

else if (salebuyer==("George")){int piw=Random(2);if (piw==0){
customertalk(); PCListen(); dText.Text=("No, no...");blab1();
customertalk(); PCListen(); dText.Text=String.Format("It $%.2f? For this...?", saleprice);blab1();
customerlisten(); PCTalk(); dText.Text=("Um. Yes.");blab1();
customertalk(); PCListen(); dText.Text=("That silly price.");blab3();
customerlisten(); PCTalk(); dText.Text=("Okay."); blab1();
customertalk(); PCListen(); dText.Text=("You not gonna sell any for that much.");
customerlisten(); PCTalk(); dText.Text=("Thank you, sir."); blab1();
}
if (piw==1){
customertalk(); PCListen(); dText.Text=String.Format("If it $%.2f, I not paying full price.", saleprice);blab1();
customertalk(); PCListen(); dText.Text=String.Format("$%.2f is too much.", saleprice);blab1();
customerlisten(); PCTalk(); dText.Text=("Well, that's the price.");blab1();
customertalk(); PCListen(); dText.Text=("...that price like a funny joke.");blab3();
customerlisten(); PCTalk(); dText.Text=("...Have a nice day?"); blab1();
}
if (piw==2){
customertalk(); PCListen(); dText.Text=("But...");blab1();
customertalk(); PCListen(); dText.Text=String.Format("The %s cost $%.2f?", saleitem, saleprice);blab2();
customerlisten(); PCTalk(); dText.Text=("That's correct.");blab1();
customertalk(); PCListen(); dText.Text=("Well...");blab1();
customertalk(); PCListen(); dText.Text=("I not paying, then...");blab1();
customertalk(); PCListen(); dText.Text=("I not buying this anymore, okay?"); blab4();
customerlisten(); PCTalk(); dText.Text=("Okay. Thanks anyway.");blab1();
customertalk(); PCListen(); dText.Text=("That too much."); blab4();
customerlisten(); PCTalk(); dText.Text=("Have a nice day, sir.");blab1();
customertalk(); PCListen(); dText.Text=String.Format("$%.2f... Okay, bye-bye.", saleprice);blab2();
}
}

else if (salebuyer==("Kyam")){
Kyamtalk(); PCListen(); dText.Text=("Wait wait...");blab1();
Kyamtalk(); PCListen(); dText.Text=String.Format("It's $%.2f?", saleprice);blab1();
Kyamlisten(); PCTalk(); dText.Text=("Um. Yep.");blab1();
Kyamtalk(); PCListen(); dText.Text=("Oh, O.K.");blab1();
Kyamlisten(); PCListen(); dText.Text=("...");blab1(); dName.Text=String.Format("%s: ", player.Name);blab1();
Kyamtalk(); PCListen(); dText.Text=("I can't afford that.");blab1();
Kyamtalk(); PCListen(); dText.Text=("Thanks anyways.");blab1();
Kyamlisten(); PCTalk(); dText.Text=("Okay.");blab1();}

else if (salebuyer==("Chris")){
Christalk(); PCListen(); dText.Text=("Oh - hold up...");blab1();
Christalk(); PCListen(); dText.Text=String.Format("It's $%.2f?", saleprice);blab1();
Chrislisten(); PCTalk(); dText.Text=("Um. Yep.");blab1();
Christalk(); PCListen(); dText.Text=("Yeah...?");blab1();
Chrislisten(); PCListen(); dText.Text=("...");blab1(); dName.Text=String.Format("%s: ", player.Name);blab1();
Christalk(); PCListen(); dText.Text=("Well, that's too much.");blab1();
Christalk(); PCListen(); dText.Text=("Thanks though.");blab1();
Chrislisten(); PCTalk(); dText.Text=("Okay.");blab1();}

else if (salebuyer==("Christin")){
Christintalk(); PCListen(); dText.Text=("Wait wait...");blab1();
Christintalk(); PCListen(); dText.Text=String.Format("It's $%.2f?", saleprice);blab1();
Christinlisten(); PCTalk(); dText.Text=("Um. Yep.");blab1();
Christintalk(); PCListen(); dText.Text=("Yeah...?");blab1();
Christinlisten(); PCListen(); dText.Text=("...");blab1(); dName.Text=String.Format("%s: ", player.Name);blab1();
Christintalk(); PCListen(); dText.Text=("Well, that's too much.");blab1();
Christintalk(); PCListen(); dText.Text=("Thanks though.");blab1();
Christinlisten(); PCTalk(); dText.Text=("Okay.");blab1();}

else if ((salebuyer==("Eddie"))||(salebuyer==("Omar"))||(salebuyer==("TJ"))||(salebuyer==("Bramford"))||(salebuyer==("Dwayne"))||(salebuyer==("Betsy"))||(salebuyer==("Stephanie"))||(salebuyer==("Glenda"))||(salebuyer==("Meadow"))||(salebuyer==("Ward"))){
customertalk(); PCListen(); dText.Text=("Umm... I'm sorry?");blab1();
customertalk(); PCListen(); dText.Text=String.Format("It's $%.2f?", saleprice);blab1();
customerlisten(); PCTalk(); dText.Text=("Um. Yep.");blab1();
customertalk(); PCListen(); dText.Text=("It is...?");blab1();
customerlisten(); PCListen(); dText.Text=("...");blab1(); dName.Text=String.Format("%s: ", player.Name); blab1();
customertalk(); PCListen(); dText.Text=("Well, that's too much.");blab1();
customertalk(); PCListen(); dText.Text=("Thanks though.");blab1();
customerlisten(); PCTalk(); dText.Text=("Okay.");blab1();}


else if (salebuyer==("Jessi")){
Jessitalk(); PCListen(); dText.Text=("Umm... I'm sorry?");blab1();
Jessitalk(); PCListen(); dText.Text=String.Format("It's $%.2f?", saleprice);blab1();
Jessilisten(); PCTalk(); dText.Text=("Um. Yep.");blab1();
Jessitalk(); PCListen(); dText.Text=("It is...?");blab1();
Jessilisten(); PCListen(); dText.Text=("...");blab1(); dName.Text=String.Format("%s: ", player.Name); blab1();
Jessitalk(); PCListen(); dText.Text=("Well, that's too much.");blab1();
Jessitalk(); PCListen(); dText.Text=("Thanks though.");blab1();
Jessilisten(); PCTalk(); dText.Text=("Okay.");blab1();}

else if (salebuyer==("Julian")){
Juliantalk(); PCListen(); dText.Text=("Wait wait...");blab1();
Juliantalk(); PCListen(); dText.Text=String.Format("It's $%.2f?", saleprice);blab1();
Julianlisten(); PCTalk(); dText.Text=("Um. Yep.");blab1();
Juliantalk(); PCListen(); dText.Text=("It is...?");blab1();
Julianlisten(); PCListen(); dText.Text=("...");blab1(); dName.Text=String.Format("%s: ", player.Name); blab1();
Juliantalk(); PCListen(); dText.Text=("I see - that's quite a lot...");blab2();
Juliantalk(); PCListen(); dText.Text=("What I mean to say is that it's more than I expected.");blab4();
Juliantalk(); PCListen(); dText.Text=("Thanks though.");blab1();
Julianlisten(); PCTalk(); dText.Text=("Okay.");blab1();}

else if (salebuyer==("Marcus")){
Marcustalk(); PCListen(); dText.Text=("Whoa... wait.");blab1();
Marcustalk(); PCListen(); dText.Text=("Hold on.");blab1();
Marcustalk(); PCListen(); dText.Text=("Stop the presses.");blab1();
Marcustalk(); PCListen(); dText.Text=("Just a second.");blab1();
Marcuslisten(); PCListen(); dText.Text=("...");blab1(); dName.Text=String.Format("%s: ", player.Name);blab1();
Marcustalk(); PCListen(); dText.Text=String.Format("$%.2f for %s?", saleprice, saleitem);blab1();
Marcuslisten(); PCTalk(); dText.Text=("Um. Yep.");blab1();
Marcustalk(); PCListen(); dText.Text=("That is just unacceptable.");blab2();
Marcustalk(); PCListen(); dText.Text=("You're wearing crazy pants.");blab2();
Marcuslisten(); PCListen(); dText.Text=("...");blab1(); dName.Text=String.Format("%s: ", player.Name);blab1();
Marcustalk(); PCListen(); dText.Text=("Thanks anyways.");blab1();
Marcuslisten(); PCTalk(); dText.Text=("Okay.");blab1();}

else if (salebuyer==("Jenny")){
Jennytalk(); PCListen(); dText.Text=("Wait, can you...");blab1();
Jennytalk(); PCListen(); dText.Text=("I'm sorry.");blab1();
Jennylisten(); PCTalk(); dText.Text=("Yes?");blab1();
Jennytalk(); PCListen(); dText.Text=String.Format("This %s is $%.2f?", saleitem, saleprice);blab1();
Jennylisten(); PCTalk(); dText.Text=("Um. Yep.");blab1();
Jennytalk(); PCListen(); dText.Text=("That's umm...");blab1();
Jennytalk(); PCListen(); dText.Text=("It's more than I was expecting.");blab2();
Jennylisten(); PCListen(); dText.Text=("...");blab1(); dName.Text=String.Format("%s: ", player.Name);blab1();
Jennytalk(); PCListen(); dText.Text=("I think I'll have to pass this time. Thanks anyways.");blab3();
Jennylisten(); PCTalk(); dText.Text=("Okay.");blab1();}

else if (salebuyer==("Stephen")){
customertalk(); PCListen(); dText.Text=("Whoa, wait...");blab1();
customertalk(); PCListen(); dText.Text=String.Format("It's $%.2f?", saleprice);blab1();
customerlisten(); PCTalk(); dText.Text=("Um. Yep.");blab1();
customertalk(); PCListen(); dText.Text=("Really...?");blab1();
customerlisten(); PCListen(); dText.Text=("...");blab1(); dName.Text=String.Format("%s: ", player.Name); blab1();
customertalk(); PCListen(); dText.Text=("That's too expensive.");blab1();
customerlisten(); PCTalk(); dText.Text=("Okay.");blab1();}

else if (salebuyer==("Sebastian")){
Sebtalk(); PCListen(); dText.Text=("There might be a problem.");blab2();
Sebtalk(); PCListen(); dText.Text=String.Format("This item is $%.2f?", saleprice);blab2();
Seblisten(); PCTalk(); dText.Text=("Um. Yep.");blab1();
Sebtalk(); PCListen(); dText.Text=("I understand.");blab1();
Sebtalk(); PCListen(); dText.Text=("That's quite a lot...");blab2();
Sebtalk(); PCListen(); dText.Text=("It's more than I expected.");blab2();
Sebtalk(); PCListen(); dText.Text=("Thank you for the offer, but I'll decline.");blab4();
Seblisten(); PCTalk(); dText.Text=("Okay.");blab1();}

if (salebuyer!=("Clarence")){rep-=2;}
dText.Text=(" "); dName.Text=(" "); StopPop(); customerbreakaway();}

function dickscup(){
      customerlisten(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
    customertalk(); PCListen(); dText.Text=("Umm... What's up?");blab1();
    customerlisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
    customertalk(); PCListen(); dText.Text=("Wait, hold on...!");blab1();
    customertalk(); PCListen(); dText.Text=("I brought my own!");blab1();
    customerlisten(); PCTalk(); 
    if (GetGlobalInt(1)==1){dText.Text=("That is being... very good.");blab1();}//Andrus
    if (GetGlobalInt(1)==2){dText.Text=("Oh, hey! Great!");blab1();}//Melanie
    if (GetGlobalInt(1)==3){dText.Text=("Good man!");blab1();}//Vinny
    if (GetGlobalInt(1)==4){dText.Text=("Yeah, great.");blab1();}//Logan
    cups_remaining+=1; 
    if (cSlot1.InventoryQuantity[Cups.ID]==0){cSlot1.AddInventory(Cups);}
    customertalk(); PCListen(); dText.Text=("So, that means it's free, right?");blab3();
    customerlisten(); PCTalk();
    if (GetGlobalInt(1)==1){dText.Text=("That is not being... heh, heh.");blab1();}//Andrus
    if (GetGlobalInt(1)==2){dText.Text=("Pff, yeah right.");blab1();}//Melanie
    if (GetGlobalInt(1)==3){dText.Text=("It's only fair to deduct the cost of one paper cup, which is $0.00001.");blab1();}//Vinny
    if (GetGlobalInt(1)==4){dText.Text=("No."); blab1();}//Logan
    customertalk(); PCListen(); dText.Text=("Okay, well... didn't hurt to ask, I guess!");blab1();
    customerlisten(); PCListen(); dText.Text=(" ");
    }

function nocups(){
  
  if (salebuyer==("Richard")){
Richardlisten(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
Richardtalk(); PCListen(); dText.Text=("Umm... What's up?");blab1();
Richardlisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
Richardtalk(); PCListen(); dText.Text=("Wait, really?");blab1();
Richardlisten(); PCTalk(); dText.Text=("Yep. No cups. Sorry.");blab1();
Richardtalk(); PCListen(); dText.Text=("That's okay... I'll be back sooner or later.");blab3();}

else if (salebuyer==("The Three")){
Threelisten(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
Threetalk_P(); PCListen(); dText.Text=("What's wrong?");blab1();
Threelisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
Threelisten(); PCListen(); dName.Text=("The Three: "); dText.Text=("...");blab4();
Threelisten(); PCTalk(); dText.Text=("Sorry!");blab1();
orderremaining=0;
SetGlobalInt(37, 0);}

else if (salebuyer==("Sebastian")){
Seblisten(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
Sebtalk(); PCListen(); dText.Text=("What is it?");blab1();
Seblisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
Seblisten(); PCListen(); dName.Text=("Sebastian: "); dText.Text=("...?");blab2();
Sebtalk(); PCListen(); dText.Text=("Maybe it would be best to get some cups?"); blab4();
Sebtalk(); PCListen(); dText.Text=("That probably makes the most sense."); blab3();
Seblisten(); PCTalk(); dText.Text=("Sorry!");blab1();}

else if (salebuyer==("Toney")){
Toneylisten(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
Toneytalk(); PCListen(); dText.Text=("What's up?");blab1();
Toneylisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
Toneytalk(); PCListen(); dText.Text=("Seriously?");blab1();
Toneylisten(); PCTalk(); dText.Text=("Yep. No cups. Sorry.");blab1();
Toneytalk(); PCListen(); dText.Text=("For real.");blab1();
Toneylisten(); PCTalk(); dText.Text=("Yeah, sorry.");blab1();}

else if (salebuyer==("Troy")){
Troylisten(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
Troytalk(); PCListen(); dText.Text=("Yes?");blab1();
Troylisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
Troytalk(); PCListen(); dText.Text=("You don't?!");blab1();
Troylisten(); PCTalk(); dText.Text=("Yep. No cups. Sorry.");blab1();
Troytalk(); PCListen(); dText.Text=("YOU DON'T HAVE ANY CUPS?!");blab1();
Troylisten(); PCTalk(); dText.Text=("Yeah, sorry.");blab1();}

else if (salebuyer==("Kyam")){
Kyamlisten(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
Kyamtalk(); PCListen(); dText.Text=("Yes?");blab1();
Kyamlisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
Kyamtalk(); PCListen(); dText.Text=("You don't?!");blab1();
Kyamlisten(); PCTalk(); dText.Text=("Yep. No cups. Sorry.");blab1();
Kyamtalk(); PCListen(); dText.Text=("YOU DON'T HAVE ANY CUPS?!");blab1();
Kyamlisten(); PCTalk(); dText.Text=("Yeah, sorry.");blab1();}

else if (salebuyer==("Chris")){
Chrislisten(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
Christalk(); PCListen(); dText.Text=("Yes?");blab1();
Chrislisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
Christalk(); PCListen(); dText.Text=("Aw, what?");blab1();
Chrislisten(); PCTalk(); dText.Text=("Yep. No cups. Sorry.");blab1();
Christalk(); PCListen(); dText.Text=("Damn, man. I was looking forward to that. ");blab2();
Chrislisten(); PCTalk(); dText.Text=("Yeah, sorry.");blab1();}

else if (salebuyer==("Christin")){
Christinlisten(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
Christintalk(); PCListen(); dText.Text=("Yes?");blab1();
Christinlisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
Christintalk(); PCListen(); dText.Text=("Oh for real?");blab1();
Christinlisten(); PCTalk(); dText.Text=("Yep. No cups. Sorry.");blab1();
Christintalk(); PCListen(); dText.Text=("Seriously? ... ");blab1();
Christintalk(); PCListen(); dText.Text=("That's OK. I guess I'll just...");blab2();
Christintalk(); PCListen(); dText.Text=("Go somewhere else.");blab1();
Christinlisten(); PCTalk(); dText.Text=("Yeah, sorry.");blab1();}

else if (salebuyer==("Marcus")){
Marcuslisten(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
Marcustalk(); PCListen(); dText.Text=("...Mmkay?");blab1();
Marcuslisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
Marcustalk(); PCListen(); dText.Text=("Say what now?");blab1();
Marcuslisten(); PCTalk(); dText.Text=("Yep. No cups. Sorry.");blab1();
Marcustalk(); PCListen(); dText.Text=("For crying out loud.");blab1();
Marcuslisten(); PCTalk(); dText.Text=("Yeah, sorry.");blab1();}

else if (salebuyer==("Jenny")){
Jennylisten(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
Jennylisten(); PCListen(); dName.Text=("Jenny: "); dText.Text=("...?");blab1();
Jennylisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
Jennytalk(); PCListen(); dText.Text=("You don't? ...really?");blab1();
Jennylisten(); PCTalk(); dText.Text=("Yep. No cups. Sorry.");blab1();
Jennytalk(); PCListen(); dText.Text=("Hmm...");blab1();
Jennytalk(); PCListen(); dText.Text=("You know - that's okay.");blab1();
Jennytalk(); PCListen(); dText.Text=("I'll just come back.");blab1();
Jennylisten(); PCTalk(); dText.Text=("Yeah, sorry.");blab1();}

else if ((salebuyer==("Eddie"))||(salebuyer==("Omar"))||(salebuyer==("TJ"))||(salebuyer==("Bramford"))||(salebuyer==("Dwayne"))||(salebuyer==("Betsy"))||(salebuyer==("Stephanie"))||(salebuyer==("Glenda"))||(salebuyer==("Meadow"))||(salebuyer==("Ward"))||(salebuyer==("Stephen"))){
customertalk(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
customerlisten(); PCListen(); dName.Text=("Alice: "); dText.Text=("...?");blab1();
customerlisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
customertalk(); PCListen(); dText.Text=("You don't? ...really?");blab1();
customerlisten(); PCTalk(); dText.Text=("Yep. No cups. Sorry.");blab1();
customertalk(); PCListen(); dText.Text=("Hmm...");blab1();
customertalk(); PCListen(); dText.Text=("You know - that's okay.");blab1();
customertalk(); PCListen(); dText.Text=("I'll just come back.");blab1();
customerlisten(); PCTalk(); dText.Text=("Yeah, sorry.");blab1();}

else if (salebuyer==("Alice")){
Ccalicetalk(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
Ccalicelisten(); PCListen(); dName.Text=("Alice: "); dText.Text=("...?");blab1();
Ccalicelisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
Ccalicetalk(); PCListen(); dText.Text=("You don't? ...really?");blab1();
Ccalicelisten(); PCTalk(); dText.Text=("Yep. No cups. Sorry.");blab1();
Ccalicetalk(); PCListen(); dText.Text=("Hmm...");blab1();
Ccalicetalk(); PCListen(); dText.Text=("You know - that's okay.");blab1();
Ccalicetalk(); PCListen(); dText.Text=("I'll just come back.");blab1();
Ccalicelisten(); PCTalk(); dText.Text=("Yeah, sorry.");blab1();}

else if (salebuyer==("Thales")){
Thaleslisten(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
Thaleslisten(); PCListen(); dName.Text=("Thales: "); dText.Text=("...?");blab1();
Thaleslisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
Thalestalk(); PCListen(); dText.Text=("You don't? ...really?");blab1();
Thaleslisten(); PCTalk(); dText.Text=("Yep. No cups. Sorry.");blab1();
Thalestalk(); PCListen(); dText.Text=("You know - that's okay.");blab1();
Thalestalk(); PCListen(); dText.Text=("I'll just come back.");blab1();
Thaleslisten(); PCTalk(); dText.Text=("Yeah, sorry.");blab1();}

else if (salebuyer==("Johns")){
Johnslisten(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
Johnslisten(); PCListen(); dName.Text=("Johns: "); dText.Text=("...?");blab1();
Johnslisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
Johnstalk(); PCListen(); dText.Text=("You don't? ...really?");blab1();
Johnslisten(); PCTalk(); dText.Text=("Yep. No cups. Sorry.");blab1();
Johnstalk(); PCListen(); dText.Text=("You know - that's okay.");blab1();
Johnstalk(); PCListen(); dText.Text=("I'll just come back.");blab1();
Johnslisten(); PCTalk(); dText.Text=("Yeah, sorry.");blab1();}

else {//was originally "if (salebuyer==("Jessi")){
customerlisten(); PCTalk(); dText.Text=("Oh, wait. Hold on...");blab1();
customerlisten(); PCListen(); dName.Text=String.Format("%s: ",Customer.Name); dText.Text=("...?");blab1();
customerlisten(); PCTalk(); dText.Text=("I'm, uhh... I don't have any cups to put your drink in.");blab4();
customertalk(); PCListen(); dText.Text=("You don't? ...really?");blab1();
customerlisten(); PCTalk(); dText.Text=("Yep. No cups. Sorry.");blab1();
customertalk(); PCListen(); dText.Text=("Hmm...");blab1();
customertalk(); PCListen(); dText.Text=("You know - that's okay.");blab1();
customertalk(); PCListen(); dText.Text=("I'll just come back.");blab1();
customerlisten(); PCTalk(); dText.Text=("Sorry.");blab1();}

rep-=2; dText.Text=(" "); dName.Text=(" "); StopPop(); customerbreakaway();}

function nomeat(){
if (salebuyer==("Richard")){
if (rveggie==0){
Richardtalk(); PCListen(); dText.Text=("Do you have veggie dogs?");blab2();
Richardlisten(); PCTalk(); dText.Text=("Um. What?");blab1();
Richardtalk(); PCListen(); dText.Text=("I know it probably sounds like a dumb question...");blab3();
Richardtalk(); PCListen(); dText.Text=("But do you have hot dogs made without meat?");blab3();
Richardlisten(); PCTalk(); dText.Text=("Are you kidding?");blab1();
Richardtalk(); PCListen(); dText.Text=("Okay... All right. I'll pass.");blab2();
Richardlisten(); PCTalk(); dText.Text=("Weirdo.");blab1();
rveggie=1;}
else if (rveggie==1){
Richardtalk(); PCListen(); dText.Text=("I don't suppose you got any veggie dogs since we did this last time?");blab5();
Richardlisten(); PCTalk(); dText.Text=("Um. What?");blab1();
Richardtalk(); PCListen(); dText.Text=("I know it probably sounds silly...");blab3();
Richardtalk(); PCListen(); dText.Text=("But hot dogs made without meat aren't too bad.");blab4();
Richardlisten(); PCTalk(); dText.Text=("Are you kidding?");blab1();
Richardtalk(); PCListen(); dText.Text=("I'm telling you... They're pretty good.");blab2();
Richardlisten(); PCTalk(); dText.Text=("Weirdo.");blab1();
rveggie=2;}
else if (rveggie==2){
Richardlisten(); PCTalk(); dText.Text=("I thought you didn't eat meat?");blab2();
Richardtalk(); PCListen(); dText.Text=("You're right. I don't eat meat. ");blab2();
Richardtalk(); PCListen(); dText.Text=("But I was hoping you got some veggie dogs.");blab2();
Richardlisten(); PCTalk(); dText.Text=("Not this again...");blab1();
Richardtalk(); PCListen(); dText.Text=("OK - OK.");blab1();
Richardtalk(); PCListen(); dText.Text=("I'll leave you alone.");blab1();
Richardlisten(); PCTalk(); dText.Text=("I'd appreciate it.");blab1();
rveggie=3;}}

if (salebuyer==("Jenny")){
  if (jveggie==0){
Jennytalk(); PCListen(); dText.Text=("Do you have veggie dogs?");blab2();
Jennylisten(); PCTalk(); dText.Text=("Um. What?");blab1();
Jennytalk(); PCListen(); dText.Text=("Oh.");blab1();
Jennytalk(); PCListen(); dText.Text=("Well...");blab1();
Jennytalk(); PCListen(); dText.Text=("I'm a vegetarian...");blab1();
Jennytalk(); PCListen(); dText.Text=("I was hoping you had vegetarian hot dogs?");blab3();
Jennylisten(); PCTalk(); dText.Text=("Are you kidding?");blab1();
Jennytalk(); PCListen(); dText.Text=("Okay... All right. I'll pass.");blab2();
Jennylisten(); PCTalk(); dText.Text=("Weirdo.");blab1();
jveggie=1;}
else if (jveggie==1){
Jennytalk(); PCListen(); dText.Text=("Oh... Wait..");blab1();
Jennylisten(); PCTalk(); dText.Text=("Um. What?");blab1();
Jennytalk(); PCListen(); dText.Text=("I forgot - you don't sell veggie dogs.");blab3();
Jennylisten(); PCTalk(); dText.Text=("Oh for crying out loud...");blab2();
Jennytalk(); PCListen(); dText.Text=("Sorry.");blab1();
Jennylisten(); PCTalk(); dText.Text=("Weirdo.");blab1();
jveggie=2;}}

if (salebuyer==("Jessi")){
  if (oveggie==0){
Jessitalk(); PCListen(); dText.Text=("Do you have veggie dogs?");blab2();
Jessilisten(); PCTalk(); dText.Text=("Um. What?");blab1();
Jessitalk(); PCListen(); dText.Text=("Vegetarian hot dogs are kinda good...");blab3();
Jessitalk(); PCListen(); dText.Text=("Conventional hot dogs are pretty gross.");blab3();
Jessitalk(); PCListen(); dText.Text=("...and honestly? They're pretty outdated.");blab3();
Jessilisten(); PCTalk(); dName.Text=String.Format("%s: ",player.Name);  dText.Text=("...?");blab1();
Jessitalk(); PCListen(); dText.Text=("That's cool. Whatever.");blab2();
oveggie=1;}
else if (oveggie==1){
Jessitalk(); PCListen(); dText.Text=("Oh... Wait..");blab1();
Jessilisten(); PCTalk(); dText.Text=("Um. What?");blab1();
Jessitalk(); PCListen(); dText.Text=("I forgot - you don't sell veggie dogs.");blab3();
Jessilisten(); PCTalk(); dText.Text=("Oh for crying out loud...");blab2();
Jessitalk(); PCListen(); dText.Text=("Whatever, man.");blab1();
Jessilisten(); PCTalk(); dText.Text=("Weirdo.");blab1();
oveggie=2;}}

dText.Text=(" "); dName.Text=(" "); StopPop(); customerbreakaway();}


function daily_paper(){
PlaySound(40); sgw.Visible=false; smoke_button.Visible=false; remaining_label.Text=(" "); 
prev_button.Visible=false; next_button.Visible=false;  price_blackout.Visible=false; itemprice.Visible=false;  
if (dayofweek==1){gItemDesc.BackgroundGraphic=2261;}//Monday
if (dayofweek==2){gItemDesc.BackgroundGraphic=2262;}//Tuesday
if (dayofweek==3){gItemDesc.BackgroundGraphic=2263;}//Wednesday
if (dayofweek==4){gItemDesc.BackgroundGraphic=2264;}//Thursday
if (dayofweek==5){gItemDesc.BackgroundGraphic=2265;}//Friday
if (dayofweek==6){gItemDesc.BackgroundGraphic=2266;}//Saturday
if (dayofweek==7){gItemDesc.BackgroundGraphic=2267;}//Sunday
gItemDesc.Visible = true;}

function zLox(){}
function zPBJ(){}
//Morefunctions

function coffeemake(){
  String averagetime;
  String recordtime;
  int make_sold=0;
  if (avg_seconds>50){averagetime=("N/A");}
  else{averagetime=String.Format("%02d:%02d",avg_seconds, avg_miliseconds);}
  if (bt_seconds>50){recordtime=("N/A");}
  else{recordtime=String.Format("%02d:%02d",bt_seconds, bt_miliseconds);}
  makestats.Text=String.Format("%s[%s[%s[00:00[00:00[%d[%d",saleitem, recordtime, averagetime, make_sold, total_botched);//Tentative, obviously.
  //Reset Values...
  patience.Width=320;
  cd_miliseconds=0;
  cd_seconds=0;
  cd_minutes=0;
  happiness=0;
  happymeter.NormalGraphic=5522;
  happymeter.Height=57;
  happymeter.Y=9;
  confirmbox.Text=("");
  typebox.Text=("");
  gMake.Centre();
  ///Go!
  mouse.Visible=true;
  step1.Visible=true; step2.Visible=true; step3.Visible=true;
  countingdown=1;//Starting countdown and customer patience immediately!
  gm_changeamt.Visible=false;
  gMake.Visible=true;
  

  gBarista.Centre(); 
  gBarista.Y-=10;//Just a hair above center
  pour_coco.Visible=false;
  pour_foam.Visible=false;
  pour_milk.Visible=false;
  pour_syrp.Visible=false;
  pour_watr.Visible=false;
  barlist.NormalGraphic=7846;
  baraction.NormalGraphic=7855;
  //gBarista.Visible=true; //Not yet - only display during "step1_onclick" in Globalscript
}

/////////////MAKEIT don't BREAKIT/////////////////////////
function Make(){
if (gDialog.Visible==false){}
else{
relationshipcheck();
getTemperence();
makercheer.Visible=false; makercheer.NormalGraphic=3276;

if (small_customer>0){make_customer.Text=String.Format("%s",salebuyer);}
if (small_customer<=0){make_customer.Text=("New Customer");}

int make_sold=0;
int phrasalvaria=Random(5);

if ((saleitem==("Americano"))||(saleitem==("Cappuccino"))||(saleitem==("Mocha"))||(saleitem==("Latte"))){
  if(saleitem==("Americano")){make_sold=AmericanoSold;
  //if (phrasalvaria==0)Phrase=("Hot water over espresso!");
  //if (phrasalvaria==1)Phrase=("The water diffuses the flavor.");
  //if (phrasalvaria==2)Phrase=("Still black despite dillution.");
  //if (phrasalvaria==3)Phrase=("The Americano is aromatic.");
  //if (phrasalvaria==4)Phrase=("The espresso is strong and dark.");
  //if (phrasalvaria==5)Phrase=("Be careful because it is hot.");
  coffeemake();}
  
  if(saleitem==("Cappuccino")){make_sold=CappuccinoSold;
  //if (phrasalvaria==0)Phrase=("Steamed milk, espresso, and milk foam.");
  //if (phrasalvaria==1)Phrase=("This drink goes well with brioche.");
  //if (phrasalvaria==2)Phrase=("The foam on top keeps the heat in.");
  //if (phrasalvaria==3)Phrase=("It is the hudson hawk's favorite drink.");
  //if (phrasalvaria==4)Phrase=("Part of a complete italian breakfast.");
  //if (phrasalvaria==5)Phrase=("Give it a moment to cool down.");
  coffeemake();}
  
  if(saleitem==("Mocha")){make_sold=MochaSold;
  //if (phrasalvaria==0)Phrase=("A creamy, chocolatey coffee drink!");
  //if (phrasalvaria==1)Phrase=("Coffee and chocolate are a fine pair.");
  //if (phrasalvaria==2)Phrase=("The beverage is quite rich.");
  //if (phrasalvaria==3)Phrase=("It has more caffeine than a latte.");
  //if (phrasalvaria==4)Phrase=("The taste is sweet and a little bitter.");
  //if (phrasalvaria==5)Phrase=("The mocha flavor is potent and smooth.");
  coffeemake();}
  
  if(saleitem==("Latte")){make_sold=LatteSold;
  //if (phrasalvaria==0)Phrase=("The full name is Caffe Latte.");
  //if (phrasalvaria==1)Phrase=("Espresso and milk are coming together.");
  //if (phrasalvaria==2)Phrase=("A popular beverage in the united states.");
  //if (phrasalvaria==3)Phrase=("It is delicious whether cold or hot.");
  //if (phrasalvaria==4)Phrase=("It's a terrific way to enjoy coffee.");
  //if (phrasalvaria==5)Phrase=("In italian, the word latte means milk.");
  coffeemake();}
  }
else{

if (saleitem==("Plain Bagel")){make_sold=Bagel_PlainSold;
if (phrasalvaria==0)Phrase=("One Bagel coming up!");
if (phrasalvaria==1)Phrase=("Two sliced bagel halves.");
if (phrasalvaria==2)Phrase=("A round circle of boiled bread.");
if (phrasalvaria==3)Phrase=("Fresh bagels made by hand.");
if (phrasalvaria==4)Phrase=("The recipe is centuries old.");
if (phrasalvaria==5)Phrase=("Tell your friends about vinny.");}

if (saleitem==("Bagel with Cream Cheese")){make_sold=Bagel_PlainSold;
if (phrasalvaria==0)Phrase=("One shmear coming up!");
if (phrasalvaria==1)Phrase=("Ahh, yes. Bread and cheese.");
if (phrasalvaria==2)Phrase=("The acme of culinary evolution.");
if (phrasalvaria==3)Phrase=("Fresh bagels made by hand.");
if (phrasalvaria==4)Phrase=("The recipe is centuries old.");
if (phrasalvaria==5)Phrase=("Tell your friends about vinny.");}

if ((saleitem==spcBagels1.Name)||(saleitem==spcBagels2.Name)||(saleitem==spcBagels3.Name)||(saleitem==spcBagels4.Name)){
make_sold=spcbagels_sold;
if (phrasalvaria==0)Phrase=String.Format("One %s!",saleitem);
if (phrasalvaria==1)Phrase=("Two sliced bagel halves.");
if (phrasalvaria==2)Phrase=("A round circle of boiled bread.");
if (phrasalvaria==3)Phrase=("Fresh bagels made by hand.");
if (phrasalvaria==4)Phrase=("This recipe is an experiment.");
if (phrasalvaria==5)Phrase=("Tell your friends about vinny.");}

if(saleitem==("Coffee")){make_sold=coffeeSoldTotal;
if (phrasalvaria==0)Phrase=("Hot Coffee coming up!");
if (phrasalvaria==1)Phrase=("Caffeine is a stimulant.");
if (phrasalvaria==2)Phrase=("This coffee wakes you up.");
if (phrasalvaria==3)Phrase=("The coffee smells rich.");
if (phrasalvaria==4)Phrase=("Coffee brewed strong and dark.");
if (phrasalvaria==5)Phrase=("Be careful because it is hot.");}

if(saleitem==("Georgetonian")){make_sold=PaperSold;
if (phrasalvaria==0)Phrase=("Got the daily news here.");
if (phrasalvaria==1)Phrase=("Printed on recycled paper.");
if (phrasalvaria==2)Phrase=("Print journalism by the slice.");
if (phrasalvaria==3)Phrase=("Extra! Extra!");
if (phrasalvaria==4)Phrase=("Read all about it!");
if (phrasalvaria==5)Phrase=("It will get ink on your fingers.");}

if(saleitem==("Chai Tea")){make_sold=ChaiSold;
if (phrasalvaria==0)Phrase=("Hot masala chai tea in a cup!");
if (phrasalvaria==1)Phrase=("This tea will help you feel calm.");
if (phrasalvaria==2)Phrase=("The chai blend is a little spicy.");
if (phrasalvaria==3)Phrase=("The tea smells delicious.");
if (phrasalvaria==4)Phrase=("Wow, this smells really nice.");
if (phrasalvaria==5)Phrase=("This is very hot, so be careful.");}

if(saleitem==("Pipeline Crest")){make_sold=CrestSold;
if (phrasalvaria==0)Phrase=("Pipeline Crest is pretty popular.");
if (phrasalvaria==1)Phrase=("Crest is a nice sounding word.");
if (phrasalvaria==2)Phrase=("The soda tastes best when cold.");
if (phrasalvaria==3)Phrase=("A nice cold soda on a hot day.");
if (phrasalvaria==4)Phrase=("A good day to drink cold soda.");
if (phrasalvaria==5)Phrase=("A complex flavor to describe.");}

if(saleitem==("Pipeline Rinse")){make_sold=RinseSold;
if (phrasalvaria==0)Phrase=("It is very effervescent!");
if (phrasalvaria==1)Phrase=("This soda has caffeine.");
if (phrasalvaria==2)Phrase=("Rinse is the diet brand for pipeline.");
if (phrasalvaria==3)Phrase=("The soda in the silver can.");
if (phrasalvaria==4)Phrase=("Have you seen the pipeline factory?");
if (phrasalvaria==5)Phrase=("Enjoy it while it is still cold.");}

if(saleitem==("Hot Cocoa")){make_sold=CocoaSold;
if (phrasalvaria==0)Phrase=("It goes by both hot chocolate and cocoa.");
if (phrasalvaria==1)Phrase=("It is both bitter and very sweet.");
if (phrasalvaria==2)Phrase=("Be careful because it is so hot.");
if (phrasalvaria==3)Phrase=("Chocolate always smells so nice.");
if (phrasalvaria==4)Phrase=("It reminds one of childhood.");
if (phrasalvaria==5)Phrase=("Sorry, but no marshmallows.");}

if(saleitem==("Milk")){make_sold=MilkSold;
if (phrasalvaria==0)Phrase=("Dairy milk is from dairy cows.");
if (phrasalvaria==1)Phrase=("Goat milk is more common, worldwide.");
if (phrasalvaria==2)Phrase=("Dairy cows are black and white.");
if (phrasalvaria==3)Phrase=("Milk contains protein and calcium.");
if (phrasalvaria==4)Phrase=("Milk is best when served cold.");
if (phrasalvaria==5)Phrase=("Be careful not to spill any.");}

if(saleitem==("Chai Latte")){make_sold=ChailatteSold;
if (phrasalvaria==0)Phrase=("A delicious and creamy combination.");
if (phrasalvaria==1)Phrase=("It uses tea and milk in combination.");
if (phrasalvaria==2)Phrase=("What a delightfully fragrant drink.");
if (phrasalvaria==3)Phrase=("The chai latte provides a calm energy.");
if (phrasalvaria==4)Phrase=("The flavor is sweet and a little spicy.");
if (phrasalvaria==5)Phrase=("It is very hot so be careful with it.");}

if((saleitem==("Hot Dog"))||(saleitem==("Red Dog"))||(saleitem==("Yellow Dog"))||(saleitem==("Orange Dog"))||(saleitem==("Chili Dog"))||(saleitem==("Kraut Dog"))||(saleitem==("Everything Dog"))){
make_sold=HotdogSold;
if (phrasalvaria==0)Phrase=("One hot dog is coming right up!");
if (phrasalvaria==1)Phrase=("This type of bun is called a side loader.");
if (phrasalvaria==2)Phrase=("These babies are famous worldwide.");
if (phrasalvaria==3)Phrase=("No better street food around here.");
if (phrasalvaria==4)Phrase=("What a good day to eat one of these.");
if (phrasalvaria==5)Phrase=("Hot dogs should not be gray.");}

//Assemble StatSheet....
String averagetime;
String recordtime;
if (avg_seconds>50){averagetime=("N/A");}
else{averagetime=String.Format("%02d:%02d",avg_seconds, avg_miliseconds);}
if (bt_seconds>50){recordtime=("N/A");}
else{recordtime=String.Format("%02d:%02d",bt_seconds, bt_miliseconds);}
makestats.Text=String.Format("%s[%s[%s[00:00[00:00[%d[%d",saleitem, recordtime, averagetime, make_sold, total_botched);//Tentative, obviously.
//Reset Values...
patience.Width=320;
cd_miliseconds=0;
cd_seconds=0;
cd_minutes=0;
happiness=0;
happymeter.NormalGraphic=5522;
happymeter.Height=57;
happymeter.Y=9;
confirmbox.Text=("");
typebox.Text=("");
gMake.Centre();
///Go!
mouse.Visible=true;
step1.Visible=true; step2.Visible=true; step3.Visible=true;
gm_changeamt.Visible=false;
gMake.Visible=true;
countingdown=1;//Starting countdown and customer patience immediately!
}}}

function Botch(){
  happiness=0;
  countingdown=0;
  PlaySound(60);
  total_botched+=1;
  orderbotched=1;
  //makercheer.NormalGraphic=375;
  //TopUp("BOTCH!","Try Again!");
  pour_coco.Visible=false;
  pour_foam.Visible=false;
  pour_milk.Visible=false;
  pour_syrp.Visible=false;
  pour_watr.Visible=false;


  if (gCashRegister.Visible==true){makercheer.Y=countdown.Y+10;}
  makercheer.Visible=true;
  makercheer.NormalGraphic=3276;
  int botchery=Random(2);
  if (botchery==0){makercheer.Animate(26, 7, 0, eOnce);}
  if (botchery==1){makercheer.Animate(26, 8, 0, eOnce);}
  if (botchery==2){makercheer.Animate(26, 9, 0, eOnce);}
  
  if (gAssemble.Visible==true){
    gPick.Centre(); 
    pick.NormalGraphic=9001; 
    pick.X=0; pick.Y=0; close_pick.Visible=false;//Prepare Animation
    gPick.Visible=true;  
    FadeIn(64); 
    


    int product_remaining=99;//high by default
    bool cupreq=false;//false by default
    if ((saleitem==("Coffee"))||(saleitem==("Americano"))||(saleitem==("Mocha"))||(saleitem==("Latte"))||(saleitem==("Cappuccino"))){
      if (upCoffee==("S")){coffee_s_remaining-=1; product_remaining=coffee_s_remaining;}
      if (upCoffee==("A")){coffee_a_remaining-=1; product_remaining=coffee_a_remaining;}
      if (upCoffee==("B")){coffee_b_remaining-=1; product_remaining=coffee_b_remaining;}
      if (upCoffee==("C")){coffee_c_remaining-=1; product_remaining=coffee_c_remaining;}
      if (upCoffee==("D")){coffee_d_remaining-=1; product_remaining=coffee_d_remaining;}
      cups_remaining-=1; cupreq=true;
      pick.Animate(295, 0, 1, eOnce);//Run Anim
      }
    if ((saleitem==("Chai Tea"))||(saleitem==("Chai Latte"))){
      chai_remaining-=1;
      product_remaining=chai_remaining;
      cups_remaining-=1; cupreq=true;
      pick.Animate(295, 0, 1, eOnce);//Spill!
      }
    if (saleitem==("Hot Cocoa")){
      cocoa_remaining-=1;
      product_remaining=cocoa_remaining;
      cups_remaining-=1; cupreq=true;
      pick.Animate(295, 0, 1, eOnce);//Spill!
      }
    if (saleitem==("Pipeline Crest")){
      crest_remaining-=1; 
      product_remaining=crest_remaining;
      pick.Animate(295, 1, 1, eOnce);//Popcan Spill!
      }
    if (saleitem==("Pipeline Rinse")){
      rinse_remaining-=1;
      product_remaining=rinse_remaining;
      pick.Animate(295, 1, 1, eOnce);//Popcan Spill!
      }
    if (saleitem==("Milk")){
      milk_remaining-=1;
      product_remaining=milk_remaining;
      pick.Animate(295, 2, 1, eOnce);//Milk Spill!
      }
    if (saleitem==("Plain Bagel")){
      bagel_plain_remaining-=1;
      product_remaining=bagel_plain_remaining;
      pick.Animate(295, 3, 1, eOnce);//Bagel Drop!
      }
    if (saleitem==("Bagel with Cream Cheese")){
      bagel_plain_remaining-=1;
      product_remaining=bagel_plain_remaining;
      pick.Animate(295, 3, 1, eOnce);//Bagel Drop!
      }
    if (saleitem==("Toasted Bagel")){
      bagel_plain_remaining-=1;
      product_remaining=bagel_plain_remaining;
      pick.Animate(295, 3, 1, eOnce);//Bagel Drop!
      }
    if (saleitem==spcBagels1.Name){
      spcbagels1_remaining-=1;
      product_remaining=spcbagels1_remaining;
      pick.Animate(295, 3, 1, eOnce);//Bagel Drop!
      }
    if (saleitem==spcBagels2.Name){
      spcbagels2_remaining-=1;
      product_remaining=spcbagels2_remaining;
      pick.Animate(295, 3, 1, eOnce);//Bagel Drop!
      }
    if (saleitem==spcBagels3.Name){
      spcbagels3_remaining-=1;
      product_remaining=spcbagels3_remaining;
      pick.Animate(295, 3, 1, eOnce);//Bagel Drop!
      }
    if (saleitem==spcBagels4.Name){
      spcbagels4_remaining-=1;
      product_remaining=spcbagels4_remaining;
      pick.Animate(295, 3, 1, eOnce);//Bagel Drop!
      }
    if (saleitem==("Georgetonian")){
      paper_remaining-=1;
      product_remaining=paper_remaining;
      pick.Animate(231, 1, 2, eOnce);//Paper Drop!
      }
    
    Wait(40);//Animation
    gPick.Visible=false; pick.X=38; pick.Y=16;
    close_pick.Visible=true;

    bool bailing=false;
    if (product_remaining<=0){
      bailing=true;
      TopUp(String.Format("Out of %s!",saleitem),String.Format("That was your last %s!",saleitem));
      countingdown=false;
      }
    if ((cupreq==true)&&(cups_remaining<=0)){
      TopUp(String.Format("Out of cups!",saleitem),String.Format("That was your last cup!",saleitem));
      countingdown=false;
      bailing=true;}
    if (bailing==true){
        PlaySound(60);
        rep-=5; countingdown=0; 
        gMake.Visible=false;
        gChange.Visible=false;
        gAssemble.Visible=false;
        gConfirm.Visible=false;
        gBarista.Visible=false;
        gCashRegister.Visible=false;
        mouse.Mode=eModeLookat;
        mouse.UseDefaultGraphic();
        mouse.Visible=false;
        emble_anim.NormalGraphic=5536;
        typebox.Text=(""); changebox.Text=(""); confirmbox.Text=("");
        step1.NormalGraphic=5517; step1.MouseOverGraphic=5519;
        step2.NormalGraphic=5518; step2.MouseOverGraphic=5518;
        step3.NormalGraphic=5518; step3.MouseOverGraphic=5518;
        infolocker.NormalGraphic=5558; orderbotched=0; 
        SaleInProgress=0;
        StopPop(); 
        customerbreakaway();//Que advancement takes place here
    }
  }//End Waste Loss
    
      //Start Over...
      confirmbox.Text=(""); typebox.Text=(""); changebox.Text=("");
      step1.NormalGraphic=5517; step1.MouseOverGraphic=5519;
      step2.NormalGraphic=5518; step2.MouseOverGraphic=5518;
      step3.NormalGraphic=5518; step3.MouseOverGraphic=5518;
      patience.Width-=10;
      if (gBarista.Visible==true){baraction.NormalGraphic=7855; barlist.NormalGraphic=7846; baristarrow.Animate(264, 2, 1, eRepeat);}//grinderman
    //  gCashRegister.Visible=false;
  //}
      //WaitMouseKey(10);
      countingdown=1;
  //}
}

function zCreamcheese(){
  //float fullprice;
  float bottomline=(Bagel_PlainPrice + Creamcheese_Price);//just using this for now
  float pricelimit = ((IntToFloat (Customer.GetProperty("limitBagel_p"))) / (IntToFloat (100)))+(repmod)+1.00;
        if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}

//CREAM CHEESE WANTED AND AVAILABLE
  if ((creamcheese_remaining!=0)||(vcheese_remaining!=0)) {
  customertalk(); PCListen(); dText.Text=("Can I get that with cream cheese?");blab3();
  customerlisten(); PCTalk(); dText.Text=("Sure can. ");blab1();
  if (vcheese_remaining!=0){
                          int braggo=Random(2);
                          if (braggo==0){
                          customerlisten(); PCTalk(); dText.Text=("Made it myself, even.");blab1();
                          customertalk(); PCListen(); dText.Text=("Oh yeah? I've heard it's pretty good...");blab3();
                          customerlisten(); PCTalk(); dText.Text=("Now you can judge for yourself.");blab2();
                          customertalk(); PCListen(); dText.Text=("Hm. Can't wait to try it.");blab2();}
                          if (braggo==1){
                          customerlisten(); PCTalk(); dText.Text=("My own recipe.");blab1();
                          customertalk(); PCListen(); dText.Text=("Oh yeah? I've heard about this stuff...");blab2();
                          customerlisten(); PCTalk(); dText.Text=("Good things, I hope.");blab1();
                          customertalk(); PCListen(); dText.Text=("Definitely good things. I can't wait to try it.");blab2();
                          }
                          if (braggo==2){
                          customerlisten(); PCTalk(); dText.Text=("My own recipe.");blab1();
                          customertalk(); PCListen(); dText.Text=("Oh that sounds good.");blab1();}
                          PCTalk(); customerlisten(); 
                               if (Creamcheese_Price==0.00){dText.Text=("Cream cheese is free around here, by the way.");}
                               else{dText.Text=String.Format("It's $%.2f extra.",Creamcheese_Price);}
                               blab3();
                          if (bottomline>=(pricelimit)){
                                                  if (rep>=10){//rep dependent
                                                  customertalk(); PCListen(); dText.Text=("Wow! That's... That's quite a lot!");blab2();
                                                  customertalk(); PCListen(); dText.Text=("I hope it's worth it!");blab1();
                                                  customerlisten(); PCTalk(); dText.Text=("Let me know if you think so.");blab2();
                                                  customertalk(); PCListen(); dText.Text=("I will.");blab1();
                                                  customerlisten(); PCListen();
                                                  saleitem=("Bagel with Cream Cheese");
                                                  Make();
                                                  }
                                                  else if (rep<=9){//not yet
                                                  customertalk(); PCListen(); dText.Text=("Whoa... that's...");blab2();
                                                  customertalk(); PCListen(); dText.Text=("I'll just have a plain one, I think.");blab2();
                                                  customerlisten(); PCTalk(); dText.Text=("Too expensive?");blab2();
                                                  customertalk(); PCListen(); dText.Text=("Yeah - but plain is fine.");blab1();
                                                  customerlisten(); PCListen();
                                                  saleitem=("Plain Bagel");
                                                  Make();
                          }}//End "Too Expensive"
                          else if (bottomline<(pricelimit)){
                          customertalk(); PCListen(); dText.Text=("Sure.");blab1();
                          customerlisten(); PCTalk(); dText.Text=("Here we go. One bagel with cream cheese.");blab3();
                          customertalk(); PCListen(); dText.Text=("Great!");blab1();
                          customerlisten(); PCListen(); dText.Text=(" "); 
                          saleitem=("Bagel with Cream Cheese");
                          vcheese_remaining-=1; 
                          rep+=2;//special rep bonus
                          Make();
                          }
  }//end Vinny's own
  else if ((vcheese_remaining==0)&&(creamcheese_remaining!=0)){
                               int objecto=Random(10);
                               if (objecto==0){//1 in 10 objects
                               customertalk(); PCListen(); dText.Text=("I thought you made your own cream cheese.");blab3();
                               customerlisten(); PCTalk(); dText.Text=("Not today.");blab1();
                               customertalk(); PCListen(); dText.Text=("Oh, okay.");blab1();
                               }
                               customerlisten(); PCTalk(); 
                               if (Creamcheese_Price==0.00){dText.Text=("Cream cheese is free around here, by the way.");}
                               else{dText.Text=String.Format("It's $%.2f extra.",Creamcheese_Price);}
                               blab1();
                               if (bottomline>=(pricelimit)){
                                                       customertalk(); PCListen(); dText.Text=("That's a bit much....");blab2();
                                                       customertalk(); PCListen(); dText.Text=("I'll just have a plain one.");blab2();
                                                       customerlisten(); PCTalk(); dText.Text=("Plain? You sure?");blab1(); 
                                                       customertalk(); PCListen(); dText.Text=("Yeah, plain is fine.");blab1();
                                                       customerlisten(); PCTalk(); dText.Text=("Sure, okay. One plain bagel, coming up.");blab3();
                                                       customerlisten(); PCListen(); dText.Text=(" "); 
                                                       rep-=1; 
                                                       saleitem=("Plain Bagel");
                                                       Make();
                                                       }
                               if (bottomline<(pricelimit)){ customertalk(); PCListen(); dText.Text=("Sure, okay.");blab1();
                                                       customerlisten(); PCTalk(); dText.Text=("Here we go. One bagel with cream cheese.");blab3();
                                                       customerlisten(); PCListen(); dText.Text=(" "); 
                                                       Make();
                                                       }}//end storebought
        }//End "Cream cheese wanted and available"
if ((creamcheese_remaining==0)&&(vcheese_remaining==0)){//CREAM CHEESE WANTED AND NOT AVAILABLE
    customertalk(); PCListen(); dText.Text=("Can I get that with cream cheese?");blab2();
    customerlisten(); PCTalk(); dText.Text=("Hmm. Actually, I'm out of cream cheese just now. ");blab4();
    customertalk(); PCListen(); dText.Text=("Oh! NO kidding?");blab1();
    customerlisten(); PCTalk(); dText.Text=("No kidding. No cream cheese. ");blab2();
    if (loxx!=0){customerlisten(); PCTalk(); dText.Text=("I've got lox and capers... ");blab2();}
    if (pbjx!=0){customerlisten(); PCTalk(); dText.Text=("You could get it with peanut butter and jelly...");blab3();}
    customertalk(); PCListen(); dText.Text=("That's okay. Just plain is fine.");blab2();
    customerlisten(); PCTalk(); dText.Text=("Sure, okay. One plain bagel, coming up.");blab3();
                                                       customerlisten(); PCListen(); dText.Text=(" "); 
                                                       rep-=1; 
                                                       saleitem=("Plain Bagel");
                                                       Make();
                                                       }
}

function zToasted(){
  float bottomline=(Bagel_PlainPrice + Toasted_Price);//just using this for now
  float pricelimit = ((IntToFloat (Customer.GetProperty("limitBagel_p"))) / (IntToFloat (100)))+(repmod);
        if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}

  customertalk(); PCListen(); 
  int prefslave=Random(9);
  if (prefslave==0){dText.Text=("Can I get it toasted?");}
  if (prefslave==1){dText.Text=("Can you toast it for me?");}
  if (prefslave==2){dText.Text=("How about a toasted bagel?");}
  if (prefslave==3){dText.Text=("Can you toast it, first?");}
  if (prefslave==4){dText.Text=("Do you have a toaster?");}
  if (prefslave==5){dText.Text=("Can you put it in the toaster, first?");}
  if (prefslave==6){dText.Text=("How about getting it toasted?");}
  if (prefslave==7){dText.Text=("Mmm... How about toasting it?");}
  if (prefslave==8){dText.Text=("Can you toast it?");}
  if (prefslave==9){dText.Text=("How about toasting it, first?");}
  blab3();
  

  if (upgrade_2.NormalGraphic==1325){//TOASTED WANTED AND TOASTER AVAILABLE
  customerlisten(); PCTalk(); dText.Text=("Sure can. ");blab1();
  if (Toasted_Price==0.00){customerlisten(); PCListen(); dText.Text=(" ");}
  else{customerlisten(); PCTalk(); dText.Text=String.Format("It's $%.2f extra.",Toasted_Price);blab3();}//charge money
       if (bottomline>=(pricelimit)){
        customertalk(); PCListen(); dText.Text=("Whoa... that's...");blab2();
        customertalk(); PCListen(); dText.Text=("I'll just have it plain, I think.");blab2();
        customerlisten(); PCTalk(); dText.Text=("Too expensive?");blab2();
        customertalk(); PCListen(); dText.Text=("Yeah - but untoasted is fine.");blab1();
        customerlisten(); PCListen();
        saleitem=("Plain Bagel");
        Make();
        }//End "Too Expensive"
        else if (bottomline<(pricelimit)){
        customertalk(); PCListen(); dText.Text=("Sure.");blab1();
        customerlisten(); PCTalk(); dText.Text=("Here we go. One bagel, toasted up.");blab3();
        customertalk(); PCListen(); dText.Text=("Great!");blab1();
        customerlisten(); PCListen(); dText.Text=(" "); 
        saleitem=("Toasted Bagel");
        vcheese_remaining-=1;
        rep+=2;//special rep bonus
        Make();
  }}//End "Toasted wanted and Toaster available"
if (upgrade_2.NormalGraphic!=1325){//TOASTER NOT AVAILABLE
    customerlisten(); PCTalk(); 
    int fritz=Random(9);
    if (fritz==0){dText.Text=("Hmm. Actually, the toaster's on the fritz. ");}
    if (fritz==1){dText.Text=("Nope. Toaster's on the fritz. ");}
    if (fritz==2){dText.Text=("Not today - I don't have a toaster. ");}
    if (fritz==3){dText.Text=("Actually, no. My toaster's not working.");}
    if (fritz==4){dText.Text=("Not right now. I don't have a toaster. ");}
    if (fritz==5){dText.Text=("You know, I can't do that. No toaster.");}
    if (fritz==6){dText.Text=("Hmm. Actually, the toaster's on the fritz. ");}
    if (fritz==7){dText.Text=("Hmm. Actually, the toaster's on the fritz. ");}
    if (fritz==8){dText.Text=("Hmm. Actually, the toaster's on the fritz. ");}
    if (fritz==9){dText.Text=("Hmm. Actually, the toaster's on the fritz. ");}
    blab4();
    customertalk(); PCListen(); dText.Text=("Aw, really?");blab1();
    customerlisten(); PCTalk(); dText.Text=("Yeah, sorry. ");blab2();
    if (creamcheese_remaining!=0){customerlisten(); PCTalk(); dText.Text=("I've got a nice cream cheese... ");blab2();}
    if ((lox_remaining!=0)&&(capers_remaining!=0)){customerlisten(); PCTalk(); dText.Text=("There's lox and capers... ");blab2();}
    if ((peanutbutter_remaining!=0)&&(jelly_remaining!=0)){customerlisten(); PCTalk(); dText.Text=("You could get it with peanut butter and jelly...");blab3();}
    customertalk(); PCListen(); dText.Text=("That's okay. Just plain is fine.");blab2();
    customerlisten(); PCTalk(); dText.Text=("Sure, okay. One plain bagel, coming up.");blab3();
    customerlisten(); PCListen(); dText.Text=(" "); 
    rep-=1; 
    saleitem=("Plain Bagel");
    Make();
    }
}

function zBagelToppings(){
//1cc
//2lox
//3pbj
//4plain
//5toasted

if (Customer.GetProperty("prefBagel_p")==2){//Looking for Lox.
  
  float bottomline=(Bagel_PlainPrice + Lox_Price);
  float pricelimit = ((IntToFloat (Customer.GetProperty("limitBagel_p"))) / (IntToFloat (100)))+(repmod)+3.00;
        if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
  if ((lox_remaining!=0)&&(capers_remaining!=0)){//Looking for lox in all the right places.
  customerlisten(); PCTalk(); dText.Text=("Ooo... Lox and capers? That sounds great.");blab1();
  customerlisten(); PCTalk(); dText.Text=("Sure! ");blab1();
  if (Lox_Price==0.00){customerlisten(); PCListen(); dText.Text=(" ");}
  else{customerlisten(); PCTalk(); dText.Text=String.Format("It's $%.2f extra.",Lox_Price);blab3();}//charge money
       if (bottomline>=(pricelimit)){
        customertalk(); PCListen(); dText.Text=("Whoa... that's...");blab2();
        customertalk(); PCListen(); dText.Text=("I'll just have it plain, I think.");blab2();
        customerlisten(); PCTalk(); dText.Text=("Too expensive?");blab2();
        customertalk(); PCListen(); dText.Text=("Yeah - but plain is fine.");blab1();
        customerlisten(); PCListen();
        saleitem=("Plain Bagel");
        Make();
        }//End "Too Expensive"
        else if (bottomline<(pricelimit)){
        customertalk(); PCListen(); dText.Text=("Sure.");blab1();
        customerlisten(); PCTalk(); dText.Text=("Here we go. One bagel with lox and capers, coming up.");blab3();
        customertalk(); PCListen(); dText.Text=("Great!");blab1();
        customerlisten(); PCListen(); dText.Text=(" "); 
        saleitem=("Bagel with Lox and Capers");
        lox_remaining-=1; capers_remaining-=1;
        rep+=1;//special rep bonus
        Make();
  }}//End "Lox wanted and available"
else {//Looking for Lox in all the wrong places
saleitem=("Plain Bagel"); Make();
}
}

if (Customer.GetProperty("prefBagel_p")==3){//Looking for PBJ.
  
  float bottomline=(Bagel_PlainPrice + PBJ_Price);
  float pricelimit = ((IntToFloat (Customer.GetProperty("limitBagel_p"))) / (IntToFloat (100)))+(repmod)+1.00;
        if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
  if ((peanutbutter_remaining!=0)&&(jelly_remaining!=0)){//Looking for lox in all the right places.
  customerlisten(); PCTalk(); dText.Text=("Oh, hey - peanut butter and jelly!");blab1();
  customerlisten(); PCTalk(); dText.Text=("Sure. ");blab1();
  if (PBJ_Price==0.00){customerlisten(); PCListen(); dText.Text=(" ");}
  else{customerlisten(); PCTalk(); dText.Text=String.Format("It's $%.2f extra.",PBJ_Price);blab3();}//charge money
       if (bottomline>=(pricelimit)){
        customertalk(); PCListen(); dText.Text=("Whoa... that's...");blab2();
        customertalk(); PCListen(); dText.Text=("I'll just have it plain, I think.");blab2();
        customerlisten(); PCTalk(); dText.Text=("Too expensive?");blab2();
        customertalk(); PCListen(); dText.Text=("Yeah - but plain is fine.");blab1();
        customerlisten(); PCListen();
        saleitem=("Plain Bagel");
        Make();
        }//End "Too Expensive"
        else if (bottomline<(pricelimit)){
        customertalk(); PCListen(); dText.Text=("Sure.");blab1();
        customerlisten(); PCTalk(); dText.Text=("Here we go. One pbj, coming up.");blab3();
        customertalk(); PCListen(); dText.Text=("Great!");blab1();
        customerlisten(); PCListen(); dText.Text=(" "); 
        saleitem=("Bagel with Peanut Butter and Jelly");
        peanutbutter_remaining-=1; jelly_remaining-=1;
        rep+=1;//special rep bonus
        Make();
  }}//End "PBJ wanted and available"
else {//Looking for PBJ in all the wrong places
saleitem=("Plain Bagel"); Make();
}}

}//end bagel toppings

function Toppins(this Character*){
int switchhit=Random(1);//Calls a Fifty/Fifty on unmet preferences.

if (saleitem==("Hot Dog")){
//1:Red+Yellow 2:Chilli 3:Everything 4:Plain 5:Kraut 6:VEG
customerlisten(); PCTalk(); dText.Text=("How do you want your dog?"); blab2();

if (this.GetProperty("prefHotdog")==1){//1:Red+Yellow
customertalk(); PCListen(); dText.Text=("Ketchup and mustard?"); blab1();
if (((mustard_remaining!=0)&&(player.InventoryQuantity[Mustard.ID]!=0))&&((ketchup_remaining!=0)&&(player.InventoryQuantity[Ketchup.ID]!=0))){//GotBoth!
customerlisten(); PCTalk(); dText.Text=("Sure!"); blab1();
float orange=(KetchupPrice + MustardPrice);
if (orange<0.01){//FREE KETCHUP+MUSTARD!
saleitem=("Orange Dog");
//Money +=(bottomline); Areatick(); total_solditems+=1; income_total+=(bottomline); income_today+=(bottomline);
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a Hot dog with ketchup+mustard!",String.Format("Made $%.2f!", bottomline),5216);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
//ketchup_remaining-=1; KetchupSold+=1;
//mustard_remaining-=1; MustardSold+=1;
}
if (orange>0.01){//It's extra.
customerlisten(); PCTalk(); dText.Text=String.Format("It's $%.2f extra...",orange); blab1();
if ((HotdogPrice+orange)<=((IntToFloat(this.GetProperty("limitHotdog"))/100.00)+ repmod)){//pricecheck:Good
customertalk(); PCListen(); dText.Text=("Sure - OK."); blab1();
PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" ");
saleitem=("Orange Dog");
saleprice+=(orange);
//float bottomline=(HotdogPrice+orange);
//Money +=(bottomline); Areatick(); total_solditems+=1; income_total+=(bottomline); income_today+=(bottomline);
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a Hot dog with ketchup+mustard!",String.Format("Made $%.2f!", bottomline),5216);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
//ketchup_remaining-=1; KetchupSold+=1;
//mustard_remaining-=1; MustardSold+=1;
}
if ((HotdogPrice+orange)>((IntToFloat(this.GetProperty("limitHotdog"))/100.00)+ repmod)){//pricecheck:Bad
customertalk(); PCListen(); dText.Text=("I didn't know you charged for it..."); blab1();
customerlisten(); PCTalk(); dText.Text=String.Format("Yeah, but It's only $%.2f.",orange); blab1();
if (switchhit==0){customertalk(); PCListen(); dText.Text=("No thanks - that changes my mind."); blab2();
customerlisten(); PCTalk(); dText.Text=("Your loss."); blab1();
//Nosale
StopPop(); customerbreakaway(); customerlisten(); PCListen(); dName.Text=(" "); dText.Text=(" ");//Nosale
}
if (switchhit==1){customertalk(); PCListen(); dText.Text=("Just plain, then."); blab1();
customerlisten(); PCTalk(); dText.Text=("Sure - one plain dog, comin' up."); blab3();
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a plain Hot dog!",String.Format("Made $%.2f!", HotdogPrice),5216);
//Money +=(HotdogPrice); Areatick(); total_solditems+=1; income_total+=(HotdogPrice); income_today+=(HotdogPrice);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
}}}}

else if (((ketchup_remaining!=0)&&(player.InventoryQuantity[Ketchup.ID]!=0))&&((mustard_remaining==0)||(player.InventoryQuantity[Mustard.ID]==0))){//No Mustard?!
customerlisten(); PCTalk(); dText.Text=("Got ketchup but no mustard."); blab1();
customertalk(); PCListen(); dText.Text=("Really?"); blab1();
if (switchhit==0){  
customertalk(); PCListen(); dText.Text=("Just plain then."); blab1();
customerlisten(); PCTalk(); dText.Text=("One plain dog - comin' up."); blab2();
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a plain Hot dog!",String.Format("Made $%.2f!", HotdogPrice),5216);
//Money +=(HotdogPrice); Areatick(); total_solditems+=1; income_total+=(HotdogPrice); income_today+=(HotdogPrice);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
}
if (switchhit==1){  
customertalk(); PCListen(); dText.Text=("Just ketchup then."); blab1();
customerlisten(); PCTalk(); dText.Text=("One red dog - comin' up."); blab2();
if ((HotdogPrice+KetchupPrice)>((IntToFloat(this.GetProperty("limitHotdog"))/100.00)+ repmod)){//pricecheck:Bad
float reddog=(HotdogPrice+KetchupPrice);
customertalk(); PCListen(); dText.Text=String.Format("Wait... You charge $%.2f for ketchup?",KetchupPrice); blab3();
customerlisten(); PCTalk(); dText.Text=String.Format("Yeah. It's $%.2f total.",reddog); blab1();
customertalk(); PCListen(); dText.Text=("Wow - No thanks."); blab2();
customerlisten(); PCTalk(); dText.Text=("Your loss."); blab1();
//Nosale
StopPop(); customerbreakaway(); customerlisten(); PCListen(); dName.Text=(" "); dText.Text=(" ");//Nosale
}
if ((HotdogPrice+KetchupPrice)<=((IntToFloat(this.GetProperty("limitHotdog"))/100.00)+ repmod)){//pricecheck:good
saleitem=("Red Dog");
saleprice+=(KetchupPrice);
//float bottomline=(HotdogPrice+KetchupPrice);
//Money +=(bottomline); Areatick(); total_solditems+=1; income_total+=(bottomline); income_today+=(bottomline);
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a Hot dog with ketchup!",String.Format("Made $%.2f!", bottomline),5216);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
//ketchup_remaining-=1; KetchupSold+=1;
}}}
else if (((ketchup_remaining==0)&&(player.InventoryQuantity[Ketchup.ID]==0))&&((mustard_remaining!=0)||(player.InventoryQuantity[Mustard.ID]!=0))){//No Ketchup?!
customerlisten(); PCTalk(); dText.Text=("Got mustard but no ketchup."); blab1();
customertalk(); PCListen(); dText.Text=("Really?"); blab1();
if (switchhit==0){  
customertalk(); PCListen(); dText.Text=("Just plain then."); blab1();
customerlisten(); PCTalk(); dText.Text=("One plain dog - comin' up."); blab2();
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a plain Hot dog!",String.Format("Made $%.2f!", HotdogPrice),5216);
//Money +=(HotdogPrice); Areatick(); total_solditems+=1; income_total+=(HotdogPrice); income_today+=(HotdogPrice);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
}
if (switchhit==1){  
customertalk(); PCListen(); dText.Text=("Just mustard then."); blab1();
customerlisten(); PCTalk(); dText.Text=("One yellow dog - comin' up."); blab2();
if ((HotdogPrice+MustardPrice)>((IntToFloat(this.GetProperty("limitHotdog"))/100.00)+ repmod)){//pricecheck:Bad
float reddog=(HotdogPrice+MustardPrice);
customertalk(); PCListen(); dText.Text=String.Format("Wait... You charge $%.2f for Mustard?",MustardPrice); blab3();
customerlisten(); PCTalk(); dText.Text=String.Format("Yeah, but it's still only $%.2f total.",reddog); blab1();
customertalk(); PCListen(); dText.Text=("Wow - No thanks."); blab2();
customerlisten(); PCTalk(); dText.Text=("Your loss."); blab1();
//Nosale
StopPop(); customerbreakaway(); customerlisten(); PCListen(); dName.Text=(" "); dText.Text=(" ");//Nosale
}
if ((HotdogPrice+MustardPrice)<=((IntToFloat(this.GetProperty("limitHotdog"))/100.00)+ repmod)){//pricecheck:good
saleitem=("Yellow Dog");
saleprice+=(MustardPrice);
//Money +=(bottomline); Areatick(); total_solditems+=1; income_total+=(bottomline); income_today+=(bottomline);
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a Hot dog with mustard!",String.Format("Made $%.2f!", bottomline),5216);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
//mustard_remaining-=1; MustardSold+=1;
}}}

else if (((ketchup_remaining==0)&&(player.InventoryQuantity[Ketchup.ID]==0))&&((mustard_remaining==0)||(player.InventoryQuantity[Mustard.ID]==0))){//Neither??!!
customerlisten(); PCTalk(); dText.Text=("Oh... I don't have either one right now."); blab3();
if (switchhit==0){
customertalk(); PCListen(); dText.Text=("No ketchup or mustard?"); blab2();
customertalk(); PCListen(); dText.Text=("I'll pass, then."); blab2();
customerlisten(); PCTalk(); dText.Text=("Your loss."); blab1();
//Nosale
StopPop(); customerbreakaway(); customerlisten(); PCListen(); dName.Text=(" "); dText.Text=(" ");//Nosale
}
if (switchhit==1){
customertalk(); PCListen(); dText.Text=("Just plain, then."); blab1();
customerlisten(); PCTalk(); dText.Text=("Sure - one plain dog, comin' up."); blab3();
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a plain Hot dog!",String.Format("Made $%.2f!", HotdogPrice),5216);
//Money +=(HotdogPrice); Areatick(); total_solditems+=1; income_total+=(HotdogPrice); income_today+=(HotdogPrice);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
}}
}//End Red+Yellow

if (this.GetProperty("prefHotdog")==2){//2:Chilli
float bottomline=(HotdogPrice+ChilliPrice);
customertalk(); PCListen(); dText.Text=("With Chili!"); blab1();
if ((chilli_remaining!=0)&&(player.InventoryQuantity[Chilli.ID]!=0)){//Got Chilli!
customerlisten(); PCTalk(); dText.Text=("Sure!"); blab1();
if (ChilliPrice<0.01){//Free Chili?!
saleitem=("Chili Dog");}

if (ChilliPrice>0.01){customerlisten(); PCTalk(); dText.Text=String.Format("It's $%.2f extra...",ChilliPrice); blab1();//It's extra.
if ((HotdogPrice+ChilliPrice)<=((IntToFloat(this.GetProperty("limitHotdog"))/100.00)+ repmod)){//pricecheck:Good
customertalk(); PCListen(); dText.Text=("Sure - OK."); blab1();
saleitem=("Chili Dog");
saleprice+=(ChilliPrice);
//Money +=(bottomline); Areatick(); total_solditems+=1; income_total+=(bottomline); income_today+=(bottomline);
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a Chilli Dog!",String.Format("Made $%.2f!", bottomline),5216);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
//chilli_remaining-=1; ChilliSold+=1;
}
if ((HotdogPrice+ChilliPrice)>((IntToFloat(this.GetProperty("limitHotdog"))/100.00)+ repmod)){//pricecheck:Bad
customertalk(); PCListen(); dText.Text=String.Format("So it's $%.2f, total?",bottomline); blab2();
customerlisten(); PCTalk(); dText.Text=String.Format("Yeah. It's $%.2f.",bottomline); blab1();
if (switchhit==0){customertalk(); PCListen(); dText.Text=("No thanks - that changes my mind."); blab2();
customerlisten(); PCTalk(); dText.Text=("Your loss."); blab1();
//Nosale
StopPop(); customerbreakaway(); customerlisten(); PCListen(); dName.Text=(" "); dText.Text=(" ");//Nosale
}
if (switchhit==1){customertalk(); PCListen(); dText.Text=("Just plain, then."); blab1();
customerlisten(); PCTalk(); dText.Text=("Sure - one plain dog, comin' up."); blab3();
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a plain Hot dog!",String.Format("Made $%.2f!", HotdogPrice),5216);
//Money +=(HotdogPrice); Areatick(); total_solditems+=1; income_total+=(HotdogPrice); income_today+=(HotdogPrice);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
}}}}
if ((chilli_remaining==0)&&(player.InventoryQuantity[Chilli.ID]==0)){//No Chilli?!
customerlisten(); PCTalk(); dText.Text=("Oh... I don't have any chilli right now."); blab3();
if (switchhit==0){
customertalk(); PCListen(); dText.Text=("No chilli?"); blab2();
customertalk(); PCListen(); dText.Text=("I'll pass, then."); blab2();
customerlisten(); PCTalk(); dText.Text=("Your loss."); blab1();
//Nosale
StopPop(); customerbreakaway(); customerlisten(); PCListen(); dName.Text=(" "); dText.Text=(" ");//Nosale
}
if (switchhit==1){
customertalk(); PCListen(); dText.Text=("Just plain, then."); blab1();
customerlisten(); PCTalk(); dText.Text=("Sure - one plain dog, comin' up."); blab3();
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a plain Hot dog!",String.Format("Made $%.2f!", HotdogPrice),5216);
//Money +=(HotdogPrice); Areatick(); total_solditems+=1; income_total+=(HotdogPrice); income_today+=(HotdogPrice);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
}}
}//End Chilli

/////everythingeverything
if (this.GetProperty("prefHotdog")==3){//3:Everything!
int aything=Random(3);
float dogpile=(HotdogPrice);
customertalk(); PCListen(); 
if (aything==0){dText.Text=("Everything!"); blab1();}
if (aything==1){dText.Text=("What've you got?"); blab1();}
if (aything==2){dText.Text=("Just pile it on!"); blab1();}
if (aything==3){dText.Text=("Gimme one with everything!"); blab1();}

if ((chilli_remaining!=0)&&(player.InventoryQuantity[Chilli.ID]!=0)){//Got Chili!
customerlisten(); PCTalk();
if (ChilliPrice>0.01){//It's Extra
dText.Text=String.Format("Chilli for $%.2f?",ChilliPrice); blab1();
dogpile+=(ChilliPrice);
customertalk(); PCListen(); 
if (aything==0){dText.Text=("Yep!"); blab1();}
if (aything==1){dText.Text=("Sure."); blab1();}
if (aything==2){dText.Text=("Yes sir."); blab1();}
if (aything==3){dText.Text=("Oh yes."); blab1();}}
if (ChilliPrice<0.01){//It's free.
dText.Text=("Chilli?"); blab1();
customertalk(); PCListen(); 
if (aything==0){dText.Text=("Yep!"); blab1();}
if (aything==1){dText.Text=("Sure."); blab1();}
if (aything==2){dText.Text=("Yes sir."); blab1();}
if (aything==3){dText.Text=("Oh yes."); blab1();}}}

if ((jalapenos_remaining!=0)&&(player.InventoryQuantity[Jalapenos.ID]!=0)){//Got Jalapenos!
customerlisten(); PCTalk();
if (JalapenoPrice>0.01){//It's Extra
dText.Text=String.Format("Jalapenos for $%.2f?",JalapenoPrice); blab1();
dogpile+=(JalapenoPrice);
customertalk(); PCListen(); 
if (aything==0){dText.Text=("Yep!"); blab1();}
if (aything==1){dText.Text=("Sure."); blab1();}
if (aything==2){dText.Text=("Yes sir."); blab1();}
if (aything==3){dText.Text=("Oh yes."); blab1();}}
if (JalapenoPrice<0.01){//It's free.
dText.Text=("Jalapenos?"); blab1();
customertalk(); PCListen(); 
if (aything==0){dText.Text=("Yep!"); blab1();}
if (aything==1){dText.Text=("Sure."); blab1();}
if (aything==2){dText.Text=("Yes sir."); blab1();}
if (aything==3){dText.Text=("Oh yes."); blab1();}}}

if ((ketchup_remaining!=0)&&(player.InventoryQuantity[Ketchup.ID]!=0)){//Got Ketchup!
customerlisten(); PCTalk();
if (KetchupPrice>0.01){//It's Extra
dText.Text=String.Format("Ketchup for $%.2f?",KetchupPrice); blab1();
dogpile+=(KetchupPrice);
customertalk(); PCListen(); 
if (aything==0){dText.Text=("Yep!"); blab1();}
if (aything==1){dText.Text=("Sure."); blab1();}
if (aything==2){dText.Text=("Yes sir."); blab1();}
if (aything==3){dText.Text=("Oh yes."); blab1();}}
if (KetchupPrice<0.01){//It's free.
dText.Text=("Ketchup?"); blab1();
customertalk(); PCListen(); 
if (aything==0){dText.Text=("Yep!"); blab1();}
if (aything==1){dText.Text=("Sure."); blab1();}
if (aything==2){dText.Text=("Yes sir."); blab1();}
if (aything==3){dText.Text=("Oh yes."); blab1();}}}

if ((mustard_remaining!=0)&&(player.InventoryQuantity[Mustard.ID]!=0)){//Got Mustard!
customerlisten(); PCTalk();
if (MustardPrice>0.01){//It's Extra
dText.Text=String.Format("Mustard for $%.2f?",MustardPrice); blab1();
dogpile+=(MustardPrice);
customertalk(); PCListen(); 
if (aything==0){dText.Text=("Yep!"); blab1();}
if (aything==1){dText.Text=("Sure."); blab1();}
if (aything==2){dText.Text=("Yes sir."); blab1();}
if (aything==3){dText.Text=("Oh yes."); blab1();}}
if (MustardPrice<0.01){//It's free.
dText.Text=("Mustard?"); blab1();
customertalk(); PCListen(); 
if (aything==0){dText.Text=("Yep!"); blab1();}
if (aything==1){dText.Text=("Sure."); blab1();}
if (aything==2){dText.Text=("Yes sir."); blab1();}
if (aything==3){dText.Text=("Oh yes."); blab1();}}}

if ((relish_remaining!=0)&&(player.InventoryQuantity[Relish.ID]!=0)){//Got Relish!
customerlisten(); PCTalk();
if (RelishPrice>0.01){//It's Extra
dText.Text=String.Format("Relish for $%.2f?",RelishPrice); blab1();
dogpile+=(RelishPrice);
customertalk(); PCListen(); 
if (aything==0){dText.Text=("Yep!"); blab1();}
if (aything==1){dText.Text=("Sure."); blab1();}
if (aything==2){dText.Text=("Yes sir."); blab1();}
if (aything==3){dText.Text=("Oh yes."); blab1();}}
if (RelishPrice<0.01){//It's free.
dText.Text=("Relish?"); blab1();
customertalk(); PCListen(); 
if (aything==0){dText.Text=("Yep!"); blab1();}
if (aything==1){dText.Text=("Sure."); blab1();}
if (aything==2){dText.Text=("Yes sir."); blab1();}
if (aything==3){dText.Text=("Oh yes."); blab1();}}}

if ((sauerkraut_remaining!=0)&&(player.InventoryQuantity[Sauerkraut.ID]!=0)){//Got Sauerkraut!
customerlisten(); PCTalk();
if (KrautPrice>0.01){//It's Extra
dText.Text=String.Format("Sauerkraut for $%.2f?",KrautPrice); blab1();
customertalk(); PCListen(); 
if (aything==0){dText.Text=("Nope!"); blab1();}
if (aything==1){dText.Text=("Nah."); blab1();}
if (aything==2){dText.Text=("No sir."); blab1();}
if (aything==3){dText.Text=("Oh yes."); blab1();}}
if (KrautPrice<0.01){//It's free.
PCTalk(); customerlisten(); dText.Text=("Sauerkraut?"); blab1();
customertalk(); PCListen(); 
if (aything==0){dText.Text=("Nope!"); blab1();}
if (aything==1){dText.Text=("Nah."); blab1();}
if (aything==2){dText.Text=("No sir."); blab1();}
if (aything==3){dText.Text=("Oh yes."); blab1();}}}

PCTalk(); customerlisten(); dText.Text=String.Format("One dog with everything! Looks like $%.2f.",dogpile); blab4();
if ((HotdogPrice+dogpile)<=((IntToFloat(this.GetProperty("limitHotdog"))/100.00)+ repmod)){//pricecheck:Good
PCListen(); customertalk(); 
if (aything==0){dText.Text=("Great!"); blab1();}
if (aything==1){dText.Text=("All right."); blab1();}
if (aything==2){dText.Text=("Terrific!"); blab1();}
if (aything==3){dText.Text=("Oh yes."); blab1();}
saleprice+=(dogpile);
saleitem=("Everything Dog");
//tickdowns
//if ((chilli_remaining!=0)&&(player.InventoryQuantity[Chilli.ID]!=0)){chilli_remaining-=1; ChilliSold+=1;}
//if ((jalapenos_remaining!=0)&&(player.InventoryQuantity[Jalapenos.ID]!=0)){jalapenos_remaining-=1; JalapenosSold+=1;}
//if ((ketchup_remaining!=0)&&(player.InventoryQuantity[Ketchup.ID]!=0)){ketchup_remaining-=1; KetchupSold+=1;}
//if ((mustard_remaining!=0)&&(player.InventoryQuantity[Mustard.ID]!=0)){mustard_remaining-=1; MustardSold+=1;}
//if ((relish_remaining!=0)&&(player.InventoryQuantity[Relish.ID]!=0)){relish_remaining-=1; RelishSold+=1;}
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a Hot dog with everything on it!",String.Format("Made $%.2f!", dogpile),5216);
//Money +=(dogpile); Areatick(); total_solditems+=1; income_total+=(dogpile); income_today+=(dogpile);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
}

if ((HotdogPrice+dogpile)>((IntToFloat(this.GetProperty("limitHotdog"))/100.00)+ repmod)){//pricecheck:BAD
float piledup=(HotdogPrice+dogpile);
PCListen(); customertalk(); dText.Text=("Oh..."); blab1();
PCListen(); customertalk(); 
if (aything==0){dText.Text=("That's too much."); blab1();}
if (aything==1){dText.Text=("That's more than I was expecting..."); blab1();}
if (aything==2){dText.Text=("Hmm..."); blab1();}
if (aything==3){dText.Text=("Wait, wait..."); blab1();}
if (switchhit==0){
PCListen(); customertalk(); 
if (aything==0){dText.Text=("I'll come back later."); blab1();}
if (aything==1){dText.Text=("I'm gonna pass, actually."); blab2();}
if (aything==2){dText.Text=("I didn't bring that much cash."); blab2();}
if (aything==3){dText.Text=String.Format("$%.f is pretty expensive for me...",piledup); blab1();}
customerlisten(); PCTalk(); dText.Text=("Your loss."); blab1();
//Nosale
StopPop(); customerbreakaway(); customerlisten(); PCListen(); dName.Text=(" "); dText.Text=(" ");//Nosale
}
if (switchhit==1){
PCListen(); customertalk(); 
if (aything==0){dText.Text=("How much for a plain one?"); blab1();}
if (aything==1){dText.Text=("How much do you charge for a plain hot dog?"); blab2();}
if (aything==2){dText.Text=("What does a plain one cost?"); blab2();}
if (aything==3){dText.Text=("How 'bout just a plain hot dog, with nothing on it?"); blab1();}
customerlisten(); PCTalk(); dText.Text=String.Format("$%.2f for a plain hot dog.",HotdogPrice); blab2();  
PCListen(); customertalk(); 
if (aything==0){dText.Text=("Great!"); blab1();}
if (aything==1){dText.Text=("All right."); blab1();}
if (aything==2){dText.Text=("Terrific!"); blab1();}
customerlisten(); PCListen(); dText.Text=(" "); dName.Text=(" ");
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a plain Hot dog!",String.Format("Made $%.2f!", HotdogPrice),5216);
//Money +=(HotdogPrice); Areatick(); total_solditems+=1; income_total+=(HotdogPrice); income_today+=(HotdogPrice);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
}
}
}//end everythingeverything

if (this.GetProperty("prefHotdog")==4){//4:Plain
customertalk(); PCListen(); dText.Text=("Just plain."); blab1();
customerlisten(); PCTalk(); dText.Text=("Sure - one plain dog, comin' up."); blab3();
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a plain Hot dog!",String.Format("Made $%.2f!", HotdogPrice),5216);
//Money +=(HotdogPrice); Areatick(); total_solditems+=1; income_total+=(HotdogPrice); income_today+=(HotdogPrice);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
}//End Plain

if (this.GetProperty("prefHotdog")==5){//5:Sauerkraut
float bottomline=(HotdogPrice+KrautPrice);
customertalk(); PCListen(); dText.Text=("Sauerkraut?"); blab1();
if ((sauerkraut_remaining!=0)&&(player.InventoryQuantity[Sauerkraut.ID]!=0)){//Got Kraut!
customerlisten(); PCTalk(); dText.Text=("Sure!"); blab1();
if (KrautPrice<0.01){//Free Kraut!
saleitem=("Kraut Dog");}
if (KrautPrice>0.01){customerlisten(); PCTalk(); dText.Text=String.Format("It's $%.2f extra...",KrautPrice); blab1();//It's extra.
if ((HotdogPrice+KrautPrice)<=((IntToFloat(this.GetProperty("limitHotdog"))/100.00)+ repmod)){//pricecheck:Good
customertalk(); PCListen(); dText.Text=("Sure - OK."); blab1();
saleitem=("Kraut Dog");
saleprice+=(KrautPrice);
//Money +=(bottomline); Areatick(); total_solditems+=1; income_total+=(bottomline); income_today+=(bottomline);
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a Hot Dog with Sauerkraut!",String.Format("Made $%.2f!", bottomline),5216);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
//sauerkraut_remaining-=1; KrautSold+=1;
}
if ((HotdogPrice+KrautPrice)>((IntToFloat(this.GetProperty("limitHotdog"))/100.00)+ repmod)){//pricecheck:Bad
customertalk(); PCListen(); dText.Text=String.Format("So it's $%.2f, total?",bottomline); blab2();
customerlisten(); PCTalk(); dText.Text=String.Format("Yeah. It's $%.2f.",bottomline); blab1();
if (switchhit==0){customertalk(); PCListen(); dText.Text=("No thanks - that changes my mind."); blab2();
customerlisten(); PCTalk(); dText.Text=("Your loss."); blab1();

//Nosale
StopPop(); customerbreakaway(); customerlisten(); PCListen(); dName.Text=(" "); dText.Text=(" ");//Nosale
}
if (switchhit==1){customertalk(); PCListen(); dText.Text=("Just plain, then."); blab1();
customerlisten(); PCTalk(); dText.Text=("Sure - one plain dog, comin' up."); blab3();
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a plain Hot dog!",String.Format("Made $%.2f!", HotdogPrice),5216);
//Money +=(HotdogPrice); Areatick(); total_solditems+=1; income_total+=(HotdogPrice); income_today+=(HotdogPrice);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
StopPop(); customerbreakaway(); customerlisten(); PCListen(); dName.Text=(" "); dText.Text=(" ");//Nosale
}}}}
if ((sauerkraut_remaining==0)&&(player.InventoryQuantity[Sauerkraut.ID]==0)){//No Kraut?!
customerlisten(); PCTalk(); dText.Text=("Oh... I don't have any right now."); blab3();
if (switchhit==0){
customertalk(); PCListen(); dText.Text=("You should get some!"); blab2();
customertalk(); PCListen(); dText.Text=("It's very good on a hot dog!"); blab2();
customertalk(); PCListen(); dText.Text=("It's just not the same without it."); blab2();
customerlisten(); PCTalk(); dText.Text=("Ahh, whatever."); blab1();

//Nosale
StopPop(); customerbreakaway(); customerlisten(); PCListen(); dName.Text=(" "); dText.Text=(" ");//Nosale
}
if (switchhit==1){
customertalk(); PCListen(); dText.Text=("Just plain, then."); blab1();
customerlisten(); PCTalk(); dText.Text=("Sure - one plain dog, comin' up."); blab3();
//PlaySound(4); vitality.Width-=1; rep+=1;
//TopSale("Sold a plain Hot dog!",String.Format("Made $%.2f!", HotdogPrice),5216);
//Money +=(HotdogPrice); Areatick(); total_solditems+=1; income_total+=(HotdogPrice); income_today+=(HotdogPrice);
//hotdogs_remaining-=1; HotdogSold+=1; HotdogNet+=(HotdogPrice); HotdogGross+=(HotdogPrice); priceisright();
}}
}//End Kraut
customerlisten(); PCListen(); dName.Text=(" "); dText.Text=(" ");//Blank

if (DBG0.Graphic==2184){hotdog_bonus_countdown-=1; Make();}//FIX THIS:: 
//The bug? Still getting the gMake screen, even if the price is too high and the customer declines.

}//End Hot Dogs


}//End Toppins


function priceis_toocheap(){
  int babblebox=Random(4);
  if (babblebox==0){  
    customertalk(); PCListen(); dText.Text=("Wait, wait...");blab1();
    customertalk(); PCListen(); 
        if (saleprice==0.00){dText.Text=String.Format("Is it the %s really \"free\"?", saleitem);blab1();}
        else if (saleprice>=0.00){dText.Text=String.Format("Is it the %s really $%.2f?", saleitem, saleprice);blab1();}
        PCTalk();  customerlisten(); 
        if  (GetGlobalInt(1)==1){dText.Text=("Yes, that is being right.");blab1();}//Andrus
        if  (GetGlobalInt(1)==2){dText.Text=("Yep, it is today.");blab1();}//Melanie
        if  (GetGlobalInt(1)==3){dText.Text=("Just for you.");blab1();}
    customertalk(); PCListen(); dText.Text=("Oh..."); blab3();
    customertalk(); PCListen(); dText.Text=("Well... Great!");blab1();
  }
  if (babblebox==1){  
    customertalk(); PCListen(); dText.Text=("Just a second.");blab1();
    PCTalk();  customerlisten(); dText.Text=("...Yes?"); blab1();
    customertalk(); PCListen(); dText.Text=("I think there's a mistake on your menu.");blab1();
    customertalk(); PCListen(); 
        if (saleprice==0.00){dText.Text=String.Format("It says your %s is \"free\".", saleitem);blab1();}
        else if (saleprice>=0.00){dText.Text=String.Format("It says your %s is $%.2f.", saleitem, saleprice);blab1();}
        PCTalk();  customerlisten(); 
        if  (GetGlobalInt(1)==1){dText.Text=("Yes, that is being right.");blab1();}//Andrus
        if  (GetGlobalInt(1)==2){dText.Text=("Yep, it is today.");blab1();}//Melanie
        if  (GetGlobalInt(1)==3){dText.Text=("Well, if that's what it says, that's what it is.");blab1();
        PCTalk(); customerlisten(); dText.Text=("We must all abide by the menu."); blab1();}
    customertalk(); PCListen(); dText.Text=("Okay!"); blab3();
  }
  if (babblebox==2){  
    customertalk(); PCListen(); 
        if (saleprice==0.00){dText.Text=String.Format("It's not really \"free\", is it?", saleitem);blab1();}
        else if (saleprice>=0.00){dText.Text=String.Format("It's not really $%.2f, is it?", saleprice);blab1();}
        PCTalk();  customerlisten(); 
        if  (GetGlobalInt(1)==1){dText.Text=("Yes, that is being right.");blab1();}//Andrus
        if  (GetGlobalInt(1)==2){dText.Text=("Yep, it is today.");blab1();}//Melanie
        if  (GetGlobalInt(1)==3){dText.Text=("Well, if that's what it says, that's what it is.");blab1();
        PCTalk(); customerlisten(); dText.Text=("We must all abide by the menu."); blab1();}
    customertalk(); PCListen(); dText.Text=("If you say so, then great."); blab3();
  }
  if (babblebox==3){  
    customertalk(); PCListen(); 
        if (saleprice==0.00){dText.Text=String.Format("Is it actually \"free\"?", saleitem);blab1();}
        else if (saleprice>=0.00){dText.Text=String.Format("Is it actually $%.2f?", saleprice);blab1();}
        PCTalk();  customerlisten(); 
        if  (GetGlobalInt(1)==1){dText.Text=("Yes, that is being right.");blab1();}//Andrus
        if  (GetGlobalInt(1)==2){dText.Text=("Yep, it is today.");blab1();}//Melanie
        if  (GetGlobalInt(1)==3){dText.Text=("Well, if that's what it says, that's what it is.");blab1();
        PCTalk(); customerlisten(); dText.Text=("We must all abide by the menu."); blab1();}
    customertalk(); PCListen(); dText.Text=("Wow, great!"); blab3();
  }
  if (babblebox==4){  
    customertalk(); PCListen(); dText.Text=("Wait, I have a question.");blab1();
    PCTalk();  customerlisten(); dText.Text=("...Yes?"); blab1();
    customertalk(); PCListen(); 
        if (saleprice==0.00){dText.Text=String.Format("Is it still \"free\" if I don't buy anything else?", saleitem);blab1();}
        else if (saleprice>=0.00){dText.Text=String.Format("Is it still $%.2f if I don't buy anything else?", saleprice);blab1();}
        PCTalk();  customerlisten(); 
        if  (GetGlobalInt(1)==1){dText.Text=("Yes, that is being right.");blab1();}//Andrus
        if  (GetGlobalInt(1)==2){dText.Text=("Yep, it is today.");blab1();}//Melanie
        if  (GetGlobalInt(1)==3){dText.Text=("Well, if that's what it says, that's what it is.");blab1();
        PCTalk(); customerlisten(); dText.Text=("We must all abide by the menu."); blab1();}
    customertalk(); PCListen(); dText.Text=("Wow, great!"); blab3();
  }
    rep+=2;
    customerlisten(); PCListen(); dText.Text=(" "); dName.Text=(" ");
    if (saleitem!=("Hot Dog")){Make();}//good reaction
    //else if (saleitem==("Hot Dog")){Character* Topper=Customer; Topper.toppins();}//good reaction //FUCK?!
    }
//else {dText.Text=(" "); dName.Text=(" "); StopPop(); customerbreakaway();}//Bad Reaction

function GameOver(){
//StopMusic(); 
//PlaySound(75);
FadeOut(3);Wait(80);
//PlayMusic(16);
Mouse.Visible=true; gGameover.Visible=true; Wait(10); FadeIn(3); Wait(5);
}


function stockit(){
if (georgeisnorthbound==false){
  gStock.Centre(); 
  Walkbies.Animate(232, 0, 3, eRepeat);
  putawayexample.Visible=false; putawayinput.Visible=false; 
  putawaytype.Visible=false; typeoverblock.Visible=false;
  
  podermover.NormalGraphic=6179;
  stocklevel.NormalGraphic=6209; stocklevel.Visible=false;
  cutbanding.NormalGraphic=6181; cutbanding.MouseOverGraphic=6182;
  foldpapers.NormalGraphic=6208; foldpapers.MouseOverGraphic=6208;
  stockbins.NormalGraphic=6208; stockbins.MouseOverGraphic=6208;
  depletor.NormalGraphic=6257; depletor.Visible=false;
  //Goforit!
  gStock.Visible=true; Mouse.Visible=true; putawaybg.Animate(228, 0, 4, eRepeat); 
  podermover.Animate(230, 0, 2, eRepeat);
  }
else{//The End is Near
  gStock.Centre();
  gStock.BackgroundGraphic=7806;
  music_slider.Value=100;
  aMusic42.Play();
  podermover.X=40; podermover.Y=16; 
  Walkbies.X=40; Walkbies.Y=16;  
  Walkbies.Animate(232, 1, 0, eRepeat);
  putawayexample.Visible=false; putawayinput.Visible=false; 
  putawaytype.Visible=false; typeoverblock.Visible=false;

  podermover.NormalGraphic=7700; //Crouched
  stocklevel.NormalGraphic=1275; stocklevel.Visible=false;
  cutbanding.NormalGraphic=7796; cutbanding.MouseOverGraphic=7797;
  foldpapers.NormalGraphic=6208; foldpapers.MouseOverGraphic=6208;
  stockbins.Visible=false;
  depletor.NormalGraphic=1275; depletor.Visible=false;
  //Goforit!
  gStock.Visible=true; Mouse.Visible=true; putawaybg.Animate(228, 1, 4, eRepeat); 
  podermover.Animate(230, 5, 2, eRepeat);

}
}

function genericspawn(){
int clawhand=Random(6);//Five Generic Characters Per Room.
Character* chewtoy;
  if (player.Room==5){//Franklin
    if (clawhand==0){chewtoy=Ward; if (rep>=20){SetGlobalInt(35, 1);}}
    if (clawhand==1){chewtoy=TJ; hungry_tj=1; TJ.UnlockView(); TJ.ChangeView(174);}
    if (clawhand==2){chewtoy=Matts; hungry_matts=1;}
    if (clawhand==3){chewtoy=Bramford; Bramford.LockView(148); hungry_bramford=1;}
    if (clawhand==4){chewtoy=DC; hungry_DC=1;}
    if (clawhand==5){chewtoy=Seth;}
    if (clawhand==6){chewtoy=Stephen;}
    }
  if ((player.Room==14)||(player.Room==17)){//Downtown
    if (clawhand==0){  if ((GetGlobalInt(423)!=2)&&(GetGlobalInt(423)!=4)){chewtoy=Eddie; hungry_eddie=1;}else {{chewtoy=Julian; hungry_julian=1;}}}//Eddie's mad, so Julian instead.
    if (clawhand==1){chewtoy=Omar; hungry_omar=1;}
    if (clawhand==2){chewtoy=Stephanie; hungry_stephanie=1; Stephanie.Baseline=0; Stephanie.Transparency=0;}
    if (clawhand==3){chewtoy=Julian; hungry_julian=1;}
    if (clawhand==4){chewtoy=Meadow; hungry_meadow=1; Meadow.LockView(241);}//Because her view needs to be locked.
    if (clawhand==5){chewtoy=Clarence; hungry_clarence=1;}
    if (clawhand==6){chewtoy=Stephen;}
  }
  else{//Everywhere Else
    if (clawhand==0){chewtoy=Ward; if (rep>=20){SetGlobalInt(35, 1);}}
    if (clawhand==1){chewtoy=Stephen;}
    if (clawhand==2){chewtoy=Stephanie; hungry_stephanie=1; Stephanie.Baseline=0; Stephanie.Transparency=0;}
    if (clawhand==3){chewtoy=Julian; hungry_julian=1;}
    if (clawhand==4){chewtoy=Meadow; hungry_meadow=1; Meadow.LockView(241);}//Because her view needs to be locked.
    if (clawhand==5){chewtoy=Clarence; hungry_clarence=1;}
    if (clawhand==6){chewtoy=Omar; hungry_omar=1;}
  }
//End Claw work
  
  int stopchance=Random(100)+rep;
  chewtoy.ManualScaling=false; 
  if (stopchance>60){hunger[chewtoy.ID]=1;}//new poetry compliant
  if (stopchance<=60){hunger[chewtoy.ID]=0;}
  if (chewtoy.Room!=player.Room){//Only do this if they're not in the room already.
  chewtoy.ChangeRoom(player.Room, ((GetViewportX()-20)), player.y); 
  chewtoy.Baseline=(Stand.y + 4); 
  if (chewtoy.Room==36){chewtoy.Baseline=0; chewtoy.ManualScaling=true; chewtoy.Scaling=42;}
  chewtoy.chasedown();}
}

function BuyorTalk(){
dBuyorTalk.SetOptionState(2, eOptionOff);//"Small Talk" off by default
relationshipcheck();
if (small_customer==0){dBuyorTalk.SetOptionState(1, eOptionOff); dBuyorTalk.SetOptionState(2, eOptionOn);}

  tbQuestion.NormalGraphic=6774;
  tbQuestion.MouseOverGraphic=6775;

//Smalltalk=1, Intros=2 (dialog #107)
if (dBuyorTalk.GetOptionState(1)==eOptionOn){tbNames.NormalGraphic=6780; tbNames.MouseOverGraphic=6781;}
if (dBuyorTalk.GetOptionState(2)==eOptionOn){tbNames.NormalGraphic=6772; tbNames.MouseOverGraphic=6773;}


if ((dBuyorTalk.GetOptionState(1)==eOptionOff)&&(dBuyorTalk.GetOptionState(2)==eOptionOff)){//Smalltalk==Off;
    tbNames.NormalGraphic=6779; tbNames.MouseOverGraphic=6779;}

if (dBuyorTalk.GetOptionState(3)==eOptionOn){tbSale.NormalGraphic=6777; tbSale.MouseOverGraphic=6778;}
if (dBuyorTalk.GetOptionState(3)==eOptionOff){tbSale.NormalGraphic=6779; tbSale.MouseOverGraphic=6779;}

if ((vitality.Width<=20)||(nutrition.Width<=20)){
  if (vitality.Width<=nutrition.Width){//Tired before Hungry
  tbQuestion.NormalGraphic=7485;
  tbQuestion.MouseOverGraphic=7484;
  tbNames.NormalGraphic=7487;
  tbNames.MouseOverGraphic=7486;}
  else{//Too Hungry for The Talking
  tbQuestion.NormalGraphic=7481;
  tbQuestion.MouseOverGraphic=7480;
  tbNames.NormalGraphic=7483;
  tbNames.MouseOverGraphic=7482;}
}

//dBuyorTalk.Start();
Mouse.Visible=true;
gBuyortalk.Centre(); gBuyortalk.Y+=33;
gBuyortalk.Visible=true;
PCListen(); customerlisten();
}//End buyortalk

//=================  Sell Functions ======================= Sell Functions ========================
function sellCoffee_S(this Character*){saleprice=CoffeePriceS; saleitem=("Coffee"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitCoffee_S"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
        if (cups_remaining==0){
          if (Customer==Dick){dickscup();}
          else {nocups();  return;}}
        if (cups_remaining!=0){
          if (pricelimit<saleprice){priceiswrong(); return;}
    else{
      coffee_bonus_countdown-=1;
         if (saleprice<=0.55){coffee_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){coffee_bonus_countdown-=1; Make();}
    }//End Good Price
}}


function sellCoffee_A(this Character*){saleprice=CoffeePriceA; saleitem=("Coffee"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitCoffee_A"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
        if (cups_remaining==0){
          if (Customer==Dick){dickscup();}
          else {nocups();  return;}}
        if (cups_remaining!=0){
          if (pricelimit<saleprice){priceiswrong(); return;}
        else{coffee_bonus_countdown-=1;
         if (saleprice<=0.55){coffee_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){coffee_bonus_countdown-=1; Make();}
    }//End Good Price
}}

function sellCoffee_B(this Character*){ saleprice=CoffeePriceB; saleitem=("Coffee"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitCoffee_B"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
        if (cups_remaining==0){
          if (Customer==Dick){dickscup();}
          else {nocups();  return;}}
        if (cups_remaining!=0){
          if (pricelimit<saleprice){priceiswrong(); return;}
            else{coffee_bonus_countdown-=1;
         if (saleprice<=0.55){coffee_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){coffee_bonus_countdown-=1; Make();}
    }//End Good Price
}}

function sellCoffee_C(this Character*){ saleprice=CoffeePriceC; saleitem=("Coffee"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitCoffee_C"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
        if (cups_remaining==0){
          if (Customer==Dick){dickscup();}
          else {nocups();  return;}}
        if (cups_remaining!=0){
          if (pricelimit<saleprice){priceiswrong(); return;}
            else{coffee_bonus_countdown-=1;
         if (saleprice<=0.55){coffee_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){coffee_bonus_countdown-=1; Make();}
    }//End Good Price
}}

function sellCoffee_D(this Character*){ saleprice=CoffeePriceD; saleitem=("Coffee"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitCoffee_D"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
        if (cups_remaining==0){
          if (Customer==Dick){dickscup();}
          else {nocups();  return;}}
        if (cups_remaining!=0){
          if (pricelimit<saleprice){priceiswrong(); return;}
            else{coffee_bonus_countdown-=1;
         if (saleprice<=0.55){coffee_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){coffee_bonus_countdown-=1; Make();}
    }//End Good Price
}}

function sellAmericano(this Character*){ saleprice=AmericanoPrice; saleitem=("Americano"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitCoffee_B"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
        if (cups_remaining==0){
          if (Customer==Dick){dickscup();}
          else {nocups();  return;}}
        if (cups_remaining!=0){
          if (pricelimit<saleprice){priceiswrong(); return;}
            else{coffee_bonus_countdown-=1;
         if (saleprice<=0.55){coffee_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){coffee_bonus_countdown-=1; Make();}
    }//End Good Price
}}

function sellCappuccino(this Character*){ saleprice=CappuccinoPrice; saleitem=("Cappuccino"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitCoffee_B"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
        if (cups_remaining==0){nocups();  return;}
        else if (cups_remaining!=0){
          if (pricelimit<saleprice){priceiswrong(); return;}
            else{coffee_bonus_countdown-=1;
         if (saleprice<=0.55){coffee_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){coffee_bonus_countdown-=1; Make();}
    }//End Good Price
}}

function sellLatte(this Character*){ saleprice=LattePrice; saleitem=("Latte"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitCoffee_B"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
        if (cups_remaining==0){nocups();  return;}
        else if (cups_remaining!=0){
          if (pricelimit<saleprice){priceiswrong(); return;}
            else{coffee_bonus_countdown-=1;
         if (saleprice<=0.55){coffee_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){coffee_bonus_countdown-=1; Make();}
    }//End Good Price
}}

function sellMocha(this Character*){ saleprice=MochaPrice; saleitem=("Mocha"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitCoffee_B"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
        if (cups_remaining==0){nocups();  return;}
        else if (cups_remaining!=0){
          if (pricelimit<saleprice){priceiswrong(); return;}
            else{coffee_bonus_countdown-=1;
         if (saleprice<=0.55){coffee_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){coffee_bonus_countdown-=1; Make();}
    }//End Good Price
}}

function sellChailatte(this Character*){ saleprice=ChailattePrice; saleitem=("Chai Latte"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitCoffee_B"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
        if (cups_remaining==0){nocups();  return;}
        else if (cups_remaining!=0){
          if (pricelimit<saleprice){priceiswrong(); return;}
            else{coffee_bonus_countdown-=1;
         if (saleprice<=0.55){coffee_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){coffee_bonus_countdown-=1; Make();}
    }//End Good Price
}}

function sellCoffee_Any(this Character*){
float pricelimit;
if (Menu.Contains("Coffee")){saleitem=("Coffee"); 
if (upCoffee == ("S")){this.sellCoffee_S(); saleprice=CoffeePriceS; pricelimit=((IntToFloat(this.GetProperty("limitCoffee_S")))/(IntToFloat (100)))+(repmod);}
if (upCoffee == ("A")){this.sellCoffee_A(); saleprice=CoffeePriceA; pricelimit=((IntToFloat(this.GetProperty("limitCoffee_A")))/(IntToFloat (100)))+(repmod);}
if (upCoffee == ("B")){this.sellCoffee_B(); saleprice=CoffeePriceB; pricelimit=((IntToFloat(this.GetProperty("limitCoffee_B")))/(IntToFloat (100)))+(repmod);}
if (upCoffee == ("C")){this.sellCoffee_C(); saleprice=CoffeePriceC; pricelimit=((IntToFloat(this.GetProperty("limitCoffee_C")))/(IntToFloat (100)))+(repmod);}
if (upCoffee == ("D")){this.sellCoffee_D(); saleprice=CoffeePriceD; pricelimit=((IntToFloat(this.GetProperty("limitCoffee_D")))/(IntToFloat (100)))+(repmod);}
}
else{//No coffee, but espresso we've got.
saleprice=AmericanoPrice; saleitem=("Americano"); 
pricelimit = ((IntToFloat (this.GetProperty("limitCoffee_B"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
        if (cups_remaining==0){
          if (Customer==Dick){dickscup();}
          else {nocups();  return;}}
        if (cups_remaining!=0){
          if (pricelimit<saleprice){priceiswrong(); return;}
            else{coffee_bonus_countdown-=1;
         if (saleprice<=0.55){coffee_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){coffee_bonus_countdown-=1; Make();}
    }//End Good Price
}
}}

function sellChai(this Character*){ saleprice=ChaiPrice; saleitem=("Chai Tea"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitChai"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
        if (cups_remaining==0){nocups();  return;}
        else if (cups_remaining!=0){
          if (pricelimit<saleprice){priceiswrong(); return;}
            else{misc_bonus_countdown-=1;
         if (saleprice<=0.55){misc_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){misc_bonus_countdown-=1; Make();}
    }//End Good Price
}}


function sellHotdog(this Character*){saleprice=HotdogPrice; saleitem=("Hot Dog"); 
if (this.GetProperty("prefHotdog")==6){nomeat();}
if (this.GetProperty("prefHotdog")!=6){
float pricelimit = ((IntToFloat (this.GetProperty("limitHotdog"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
          if (pricelimit<saleprice){priceiswrong(); return;}
                else{hotdog_bonus_countdown-=1;
         if (saleprice<=0.55){priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){this.Toppins();}//hotdog_bonus_countdown-=1; Make();
    }//End Good Price
}}


function sellCocoa(this Character*){saleprice=CocoaPrice; saleitem=("Hot Cocoa"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitCocoa"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
        if (cups_remaining==0){nocups();  return;}
        else if (cups_remaining!=0){
          if (pricelimit<saleprice){priceiswrong(); return;}
                else{misc_bonus_countdown-=1;
         if (saleprice<=0.55){coffee_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){misc_bonus_countdown-=1; Make();}
    }//End Good Price
}}

function sellCrest(this Character*){saleprice=CrestPrice; saleitem=("Pipeline Crest"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitSoda"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
          if (pricelimit<saleprice){priceiswrong(); return;}
                else{soda_bonus_countdown-=1;
         if (saleprice<=0.49){soda_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.49)){soda_bonus_countdown-=1; Make();}
}}//End Good Price

function sellRinse(this Character*){saleprice=RinsePrice; saleitem=("Pipeline Rinse"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitSoda"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
          if (pricelimit<saleprice){priceiswrong(); return;}
            else{soda_bonus_countdown-=1;
         if (saleprice<=0.49){soda_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.49)){soda_bonus_countdown-=1; Make();}
}}//End Good Price

function sellMilk(this Character*){saleprice=MilkPrice; saleitem=("Milk"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitMilk"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
if (pricelimit < MilkPrice){priceiswrong();  return;}
        if (cups_remaining==0){nocups();  return;}
        else if (cups_remaining!=0){
          if (pricelimit<saleprice){priceiswrong(); return;}
                else{misc_bonus_countdown-=1;
         if (saleprice<=0.55){coffee_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){misc_bonus_countdown-=1; Make();}
    }//End Good Price
}}
//cups_remaining-=1;
//Money +=(MilkPrice); Areatick(); total_solditems+=1; income_total+=(MilkPrice); income_today+=(MilkPrice);
//PlaySound(4); vitality.Width-=1;
//TopSale("Sold a cup of milk!",String.Format("Made $%.2f!", MilkPrice),411);
//milk_remaining-=1; MilkSold+=1; MilkNet+=(MilkPrice); MilkGross+=(MilkPrice); 
//}}}

function sellBagel_Plain(this Character*){saleprice=Bagel_PlainPrice; saleitem=("Plain Bagel"); 
float pricelimit = ((IntToFloat (this.GetProperty("limitBagel_p"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
         if (pricelimit<saleprice){priceiswrong(); return;}
    else if (saleprice<=0.55){bagel_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
    else if ((pricelimit>=saleprice)&&(saleprice>0.55)){
bagel_bonus_countdown-=1;
if (this.GetProperty("prefBagel_p")==1){zCreamcheese();}//Make();}
if (this.GetProperty("prefBagel_p")==2){zBagelToppings();}//zLox();}//Make();
if (this.GetProperty("prefBagel_p")==3){zBagelToppings();}//zPBJ();}//Make();
if (this.GetProperty("prefBagel_p")==5){zToasted();}//Make();}
if (this.GetProperty("prefBagel_p")==4){Make();}//plain
}}

function sellBagel_Spc1(this Character*){saleprice=spc1BagelPrice; saleitem=(String.Format("%s",spcBagels1.Name));
float pricelimit = ((IntToFloat (this.GetProperty("limitBagel_p"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
if (pricelimit < Bagel_PlainPrice){priceiswrong();  return;}
else if (pricelimit >= Bagel_PlainPrice){bagel_bonus_countdown-=1;
//////put preferences here//////////if (this.GetProperty("prefBagel_p")==1){........}
Make();}}
function sellBagel_Spc2(this Character*){saleprice=spc2BagelPrice; saleitem=(String.Format("%s",spcBagels2.Name));
float pricelimit = ((IntToFloat (this.GetProperty("limitBagel_p"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
if (pricelimit < Bagel_PlainPrice){priceiswrong();  return;}
else if (pricelimit >= Bagel_PlainPrice){bagel_bonus_countdown-=1;
//////put preferences here//////////if (this.GetProperty("prefBagel_p")==1){........}
Make();}}
function sellBagel_Spc3(this Character*){saleprice=spc3BagelPrice; saleitem=(String.Format("%s",spcBagels3.Name));
float pricelimit = ((IntToFloat (this.GetProperty("limitBagel_p"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
if (pricelimit < Bagel_PlainPrice){priceiswrong();  return;}
else if (pricelimit >= Bagel_PlainPrice){bagel_bonus_countdown-=1;
//////put preferences here//////////if (this.GetProperty("prefBagel_p")==1){........}
Make();}}
function sellBagel_Spc4(this Character*){saleprice=spc4BagelPrice; saleitem=(String.Format("%s",spcBagels4.Name));
float pricelimit = ((IntToFloat (this.GetProperty("limitBagel_p"))) / (IntToFloat (100)))+(repmod);
      if ((salebuyer!="George")&&(salebuyer!="Clarence")){pricelimit+=1.00;}
if (pricelimit < Bagel_PlainPrice){priceiswrong();  return;}
else if (pricelimit >= Bagel_PlainPrice){bagel_bonus_countdown-=1;
//////put preferences here//////////if (this.GetProperty("prefBagel_p")==1){........}
Make();}}


function sellGeorgetonian(this Character*){saleprice=PaperPrice; saleitem=("Georgetonian"); 
          if (1.51<saleprice){priceiswrong(); return;}
          else if (saleprice<=0.40){
            if (GetGlobalInt(101)==6)SetGlobalInt(101, 7);
            paper_bonus_countdown-=1; priceis_toocheap(); return;}//Too Cheap?
          else if ((1.51>=saleprice)&&(saleprice>0.40)){
              if (GetGlobalInt(101)==6)SetGlobalInt(101, 7);
            paper_bonus_countdown-=1; Make();}
}//End Good Price

function sellMenu14(this Character*){
if(Menu.Items[14] == ("Coffee")) {saleitem=("Coffee");
if (upCoffee == ("S")){this.sellCoffee_S();}
if (upCoffee == ("A")){this.sellCoffee_A();}
if (upCoffee == ("B")){this.sellCoffee_B();}
if (upCoffee == ("C")){this.sellCoffee_C();}
if (upCoffee == ("D")){this.sellCoffee_D();}}
if(Menu.Items[14] == ("Georgetonian")) {this.sellGeorgetonian();}
if(Menu.Items[14] == ("Chai Tea")) {this.sellChai();}
if(Menu.Items[14] == ("Pipeline Crest")) {this.sellCrest();}
if(Menu.Items[14] == ("Pipeline Rinse")) {this.sellRinse();}
if(Menu.Items[14] == ("Hot Cocoa")) {this.sellCocoa();}
if(Menu.Items[14] == ("Milk")) {this.sellMilk();}
if(Menu.Items[14] == ("Americano")) {this.sellAmericano();}
if(Menu.Items[14] == ("Cappuccino")) {this.sellCappuccino();}
if(Menu.Items[14] == ("Plain Bagel")) {this.sellBagel_Plain();}
if(Menu.Items[14] == ("Mocha")) {this.sellMocha();}
if(Menu.Items[14] == ("Chai Latte")) {this.sellChailatte();}
if(Menu.Items[14] == ("Latte")) {this.sellLatte();}
if(Menu.Items[14] == ("Hot Dog")) {this.sellHotdog();}
if(Menu.Items[14]==spcBagels1.Name) {this.sellBagel_Spc1();}
if(Menu.Items[14]==spcBagels2.Name) {this.sellBagel_Spc2();}
if(Menu.Items[14]==spcBagels3.Name) {this.sellBagel_Spc3();}
if(Menu.Items[14]==spcBagels4.Name) {this.sellBagel_Spc4();}
}

function sellMenu13(this Character*){
if(Menu.Items[13] == ("Coffee")) {saleitem=("Coffee");
if (upCoffee == ("S")){this.sellCoffee_S();}
if (upCoffee == ("A")){this.sellCoffee_A();}
if (upCoffee == ("B")){this.sellCoffee_B();}
if (upCoffee == ("C")){this.sellCoffee_C();}
if (upCoffee == ("D")){this.sellCoffee_D();}}
if(Menu.Items[13] == ("Georgetonian")) {this.sellGeorgetonian();}
if(Menu.Items[13] == ("Chai Tea")) {this.sellChai();}
if(Menu.Items[13] == ("Pipeline Crest")) {this.sellCrest();}
if(Menu.Items[13] == ("Pipeline Rinse")) {this.sellRinse();}
if(Menu.Items[13] == ("Hot Cocoa")) {this.sellCocoa();}
if(Menu.Items[13] == ("Milk")) {this.sellMilk();}
if(Menu.Items[13] == ("Americano")) {this.sellAmericano();}
if(Menu.Items[13] == ("Cappuccino")) {this.sellCappuccino();}
if(Menu.Items[13] == ("Plain Bagel")) {this.sellBagel_Plain();}
if(Menu.Items[13] == ("Mocha")) {this.sellMocha();}
if(Menu.Items[13] == ("Chai Latte")) {this.sellChailatte();}
if(Menu.Items[13] == ("Latte")) {this.sellLatte();}
if(Menu.Items[13] == ("Hot Dog")) {this.sellHotdog();}
if(Menu.Items[13]==spcBagels1.Name) {this.sellBagel_Spc1();}
if(Menu.Items[13]==spcBagels2.Name) {this.sellBagel_Spc2();}
if(Menu.Items[13]==spcBagels3.Name) {this.sellBagel_Spc3();}
if(Menu.Items[13]==spcBagels4.Name) {this.sellBagel_Spc4();}
}

function sellMenu12(this Character*){
if(Menu.Items[12] == ("Coffee")) {saleitem=("Coffee");
if (upCoffee == ("S")){this.sellCoffee_S();}
if (upCoffee == ("A")){this.sellCoffee_A();}
if (upCoffee == ("B")){this.sellCoffee_B();}
if (upCoffee == ("C")){this.sellCoffee_C();}
if (upCoffee == ("D")){this.sellCoffee_D();}}
if(Menu.Items[12] == ("Georgetonian")) {this.sellGeorgetonian();}
if(Menu.Items[12] == ("Chai Tea")) {this.sellChai();}
if(Menu.Items[12] == ("Pipeline Crest")) {this.sellCrest();}
if(Menu.Items[12] == ("Pipeline Rinse")) {this.sellRinse();}
if(Menu.Items[12] == ("Hot Cocoa")) {this.sellCocoa();}
if(Menu.Items[12] == ("Milk")) {this.sellMilk();}
if(Menu.Items[12] == ("Americano")) {this.sellAmericano();}
if(Menu.Items[12] == ("Cappuccino")) {this.sellCappuccino();}
if(Menu.Items[12] == ("Plain Bagel")) {this.sellBagel_Plain();}
if(Menu.Items[12] == ("Mocha")) {this.sellMocha();}
if(Menu.Items[12] == ("Chai Latte")) {this.sellChailatte();}
if(Menu.Items[12] == ("Latte")) {this.sellLatte();}
if(Menu.Items[12] == ("Hot Dog")) {this.sellHotdog();}
if(Menu.Items[12]==spcBagels1.Name) {this.sellBagel_Spc1();}
if(Menu.Items[12]==spcBagels2.Name) {this.sellBagel_Spc2();}
if(Menu.Items[12]==spcBagels3.Name) {this.sellBagel_Spc3();}
if(Menu.Items[12]==spcBagels4.Name) {this.sellBagel_Spc4();}
}

function sellMenu11(this Character*){
if(Menu.Items[11] == ("Coffee")) {saleitem=("Coffee");
if (upCoffee == ("S")){this.sellCoffee_S();}
if (upCoffee == ("A")){this.sellCoffee_A();}
if (upCoffee == ("B")){this.sellCoffee_B();}
if (upCoffee == ("C")){this.sellCoffee_C();}
if (upCoffee == ("D")){this.sellCoffee_D();}}
if(Menu.Items[11] == ("Georgetonian")) {this.sellGeorgetonian();}
if(Menu.Items[11] == ("Chai Tea")) {this.sellChai();}
if(Menu.Items[11] == ("Pipeline Crest")) {this.sellCrest();}
if(Menu.Items[11] == ("Pipeline Rinse")) {this.sellRinse();}
if(Menu.Items[11] == ("Hot Cocoa")) {this.sellCocoa();}
if(Menu.Items[11] == ("Milk")) {this.sellMilk();}
if(Menu.Items[11] == ("Americano")) {this.sellAmericano();}
if(Menu.Items[11] == ("Cappuccino")) {this.sellCappuccino();}
if(Menu.Items[11] == ("Plain Bagel")) {this.sellBagel_Plain();}
if(Menu.Items[11] == ("Mocha")) {this.sellMocha();}
if(Menu.Items[11] == ("Chai Latte")) {this.sellChailatte();}
if(Menu.Items[11] == ("Latte")) {this.sellLatte();}
if(Menu.Items[11] == ("Hot Dog")) {this.sellHotdog();}
if(Menu.Items[11]==spcBagels1.Name) {this.sellBagel_Spc1();}
if(Menu.Items[11]==spcBagels2.Name) {this.sellBagel_Spc2();}
if(Menu.Items[11]==spcBagels3.Name) {this.sellBagel_Spc3();}
if(Menu.Items[11]==spcBagels4.Name) {this.sellBagel_Spc4();}
}

function sellMenu10(this Character*){
if(Menu.Items[10] == ("Coffee")) {saleitem=("Coffee");
if (upCoffee == ("S")){this.sellCoffee_S();}
if (upCoffee == ("A")){this.sellCoffee_A();}
if (upCoffee == ("B")){this.sellCoffee_B();}
if (upCoffee == ("C")){this.sellCoffee_C();}
if (upCoffee == ("D")){this.sellCoffee_D();}}
if(Menu.Items[10] == ("Georgetonian")) {this.sellGeorgetonian();}
if(Menu.Items[10] == ("Chai Tea")) {this.sellChai();}
if(Menu.Items[10] == ("Pipeline Crest")) {this.sellCrest();}
if(Menu.Items[10] == ("Pipeline Rinse")) {this.sellRinse();}
if(Menu.Items[10] == ("Hot Cocoa")) {this.sellCocoa();}
if(Menu.Items[10] == ("Milk")) {this.sellMilk();}
if(Menu.Items[10] == ("Americano")) {this.sellAmericano();}
if(Menu.Items[10] == ("Cappuccino")) {this.sellCappuccino();}
if(Menu.Items[10] == ("Plain Bagel")) {this.sellBagel_Plain();}
if(Menu.Items[10] == ("Mocha")) {this.sellMocha();}
if(Menu.Items[10] == ("Chai Latte")) {this.sellChailatte();}
if(Menu.Items[10] == ("Latte")) {this.sellLatte();}
if(Menu.Items[10] == ("Hot Dog")) {this.sellHotdog();}
if(Menu.Items[10]==spcBagels1.Name) {this.sellBagel_Spc1();}
if(Menu.Items[10]==spcBagels2.Name) {this.sellBagel_Spc2();}
if(Menu.Items[10]==spcBagels3.Name) {this.sellBagel_Spc3();}
if(Menu.Items[10]==spcBagels4.Name) {this.sellBagel_Spc4();}
}

function sellMenu9(this Character*){
if(Menu.Items[9] == ("Coffee")) {saleitem=("Coffee");
if (upCoffee == ("S")){this.sellCoffee_S();}
if (upCoffee == ("A")){this.sellCoffee_A();}
if (upCoffee == ("B")){this.sellCoffee_B();}
if (upCoffee == ("C")){this.sellCoffee_C();}
if (upCoffee == ("D")){this.sellCoffee_D();}}
if(Menu.Items[9] == ("Georgetonian")) {this.sellGeorgetonian();}
if(Menu.Items[9] == ("Chai Tea")) {this.sellChai();}
if(Menu.Items[9] == ("Pipeline Crest")) {this.sellCrest();}
if(Menu.Items[9] == ("Pipeline Rinse")) {this.sellRinse();}
if(Menu.Items[9] == ("Hot Cocoa")) {this.sellCocoa();}
if(Menu.Items[9] == ("Milk")) {this.sellMilk();}
if(Menu.Items[9] == ("Americano")) {this.sellAmericano();}
if(Menu.Items[9] == ("Cappuccino")) {this.sellCappuccino();}
if(Menu.Items[9] == ("Plain Bagel")) {this.sellBagel_Plain();}
if(Menu.Items[9] == ("Mocha")) {this.sellMocha();}
if(Menu.Items[9] == ("Chai Latte")) {this.sellChailatte();}
if(Menu.Items[9] == ("Latte")) {this.sellLatte();}
if(Menu.Items[9] == ("Hot Dog")) {this.sellHotdog();}
if(Menu.Items[9]==spcBagels1.Name) {this.sellBagel_Spc1();}
if(Menu.Items[9]==spcBagels2.Name) {this.sellBagel_Spc2();}
if(Menu.Items[9]==spcBagels3.Name) {this.sellBagel_Spc3();}
if(Menu.Items[9]==spcBagels4.Name) {this.sellBagel_Spc4();}
}

function sellMenu8(this Character*){
if(Menu.Items[8] == ("Coffee")) {saleitem=("Coffee");
if (upCoffee == ("S")){this.sellCoffee_S();}
if (upCoffee == ("A")){this.sellCoffee_A();}
if (upCoffee == ("B")){this.sellCoffee_B();}
if (upCoffee == ("C")){this.sellCoffee_C();}
if (upCoffee == ("D")){this.sellCoffee_D();}}
if(Menu.Items[8] == ("Georgetonian")) {this.sellGeorgetonian();}
if(Menu.Items[8] == ("Chai Tea")) {this.sellChai();}
if(Menu.Items[8] == ("Pipeline Crest")) {this.sellCrest();}
if(Menu.Items[8] == ("Pipeline Rinse")) {this.sellRinse();}
if(Menu.Items[8] == ("Hot Cocoa")) {this.sellCocoa();}
if(Menu.Items[8] == ("Milk")) {this.sellMilk();}
if(Menu.Items[8] == ("Americano")) {this.sellAmericano();}
if(Menu.Items[8] == ("Cappuccino")) {this.sellCappuccino();}
if(Menu.Items[8] == ("Plain Bagel")) {this.sellBagel_Plain();}
if(Menu.Items[8] == ("Mocha")) {this.sellMocha();}
if(Menu.Items[8] == ("Chai Latte")) {this.sellChailatte();}
if(Menu.Items[8] == ("Latte")) {this.sellLatte();}
if(Menu.Items[8] == ("Hot Dog")) {this.sellHotdog();}
if(Menu.Items[8]==spcBagels1.Name) {this.sellBagel_Spc1();}
if(Menu.Items[8]==spcBagels2.Name) {this.sellBagel_Spc2();}
if(Menu.Items[8]==spcBagels3.Name) {this.sellBagel_Spc3();}
if(Menu.Items[8]==spcBagels4.Name) {this.sellBagel_Spc4();}
}

function sellMenu7(this Character*){
if(Menu.Items[7] == ("Coffee")) {saleitem=("Coffee");
if (upCoffee == ("S")){this.sellCoffee_S();}
if (upCoffee == ("A")){this.sellCoffee_A();}
if (upCoffee == ("B")){this.sellCoffee_B();}
if (upCoffee == ("C")){this.sellCoffee_C();}
if (upCoffee == ("D")){this.sellCoffee_D();}}
if(Menu.Items[7] == ("Georgetonian")) {this.sellGeorgetonian();}
if(Menu.Items[7] == ("Chai Tea")) {this.sellChai();}
if(Menu.Items[7] == ("Pipeline Crest")) {this.sellCrest();}
if(Menu.Items[7] == ("Pipeline Rinse")) {this.sellRinse();}
if(Menu.Items[7] == ("Hot Cocoa")) {this.sellCocoa();}
if(Menu.Items[7] == ("Milk")) {this.sellMilk();}
if(Menu.Items[7] == ("Americano")) {this.sellAmericano();}
if(Menu.Items[7] == ("Cappuccino")) {this.sellCappuccino();}
if(Menu.Items[7] == ("Plain Bagel")) {this.sellBagel_Plain();}
if(Menu.Items[7] == ("Mocha")) {this.sellMocha();}
if(Menu.Items[7] == ("Chai Latte")) {this.sellChailatte();}
if(Menu.Items[7] == ("Latte")) {this.sellLatte();}
if(Menu.Items[7] == ("Hot Dog")) {this.sellHotdog();}
if(Menu.Items[7]==spcBagels1.Name) {this.sellBagel_Spc1();}
if(Menu.Items[7]==spcBagels2.Name) {this.sellBagel_Spc2();}
if(Menu.Items[7]==spcBagels3.Name) {this.sellBagel_Spc3();}
if(Menu.Items[7]==spcBagels4.Name) {this.sellBagel_Spc4();}
}

function sellMenu6(this Character*){
if(Menu.Items[6] == ("Coffee")) {saleitem=("Coffee");
if (upCoffee == ("S")){this.sellCoffee_S();}
if (upCoffee == ("A")){this.sellCoffee_A();}
if (upCoffee == ("B")){this.sellCoffee_B();}
if (upCoffee == ("C")){this.sellCoffee_C();}
if (upCoffee == ("D")){this.sellCoffee_D();}}
if(Menu.Items[6] == ("Georgetonian")) {this.sellGeorgetonian();}
if(Menu.Items[6] == ("Chai Tea")) {this.sellChai();}
if(Menu.Items[6] == ("Pipeline Crest")) {this.sellCrest();}
if(Menu.Items[6] == ("Pipeline Rinse")) {this.sellRinse();}
if(Menu.Items[6] == ("Hot Cocoa")) {this.sellCocoa();}
if(Menu.Items[6] == ("Milk")) {this.sellMilk();}
if(Menu.Items[6] == ("Americano")) {this.sellAmericano();}
if(Menu.Items[6] == ("Cappuccino")) {this.sellCappuccino();}
if(Menu.Items[6] == ("Plain Bagel")) {this.sellBagel_Plain();}
if(Menu.Items[6] == ("Mocha")) {this.sellMocha();}
if(Menu.Items[6] == ("Chai Latte")) {this.sellChailatte();}
if(Menu.Items[6] == ("Latte")) {this.sellLatte();}
if(Menu.Items[6] == ("Hot Dog")) {this.sellHotdog();}
if(Menu.Items[6]==spcBagels1.Name) {this.sellBagel_Spc1();}
if(Menu.Items[6]==spcBagels2.Name) {this.sellBagel_Spc2();}
if(Menu.Items[6]==spcBagels3.Name) {this.sellBagel_Spc3();}
if(Menu.Items[6]==spcBagels4.Name) {this.sellBagel_Spc4();}
}

function sellMenu5(this Character*){
if(Menu.Items[5] == ("Coffee")) {saleitem=("Coffee");
if (upCoffee == ("S")){this.sellCoffee_S();}
if (upCoffee == ("A")){this.sellCoffee_A();}
if (upCoffee == ("B")){this.sellCoffee_B();}
if (upCoffee == ("C")){this.sellCoffee_C();}
if (upCoffee == ("D")){this.sellCoffee_D();}}
if(Menu.Items[5] == ("Georgetonian")) {this.sellGeorgetonian();}
if(Menu.Items[5] == ("Chai Tea")) {this.sellChai();}
if(Menu.Items[5] == ("Pipeline Crest")) {this.sellCrest();}
if(Menu.Items[5] == ("Pipeline Rinse")) {this.sellRinse();}
if(Menu.Items[5] == ("Hot Cocoa")) {this.sellCocoa();}
if(Menu.Items[5] == ("Milk")) {this.sellMilk();}
if(Menu.Items[5] == ("Americano")) {this.sellAmericano();}
if(Menu.Items[5] == ("Cappuccino")) {this.sellCappuccino();}
if(Menu.Items[5] == ("Plain Bagel")) {this.sellBagel_Plain();}
if(Menu.Items[5] == ("Mocha")) {this.sellMocha();}
if(Menu.Items[5] == ("Chai Latte")) {this.sellChailatte();}
if(Menu.Items[5] == ("Latte")) {this.sellLatte();}
if(Menu.Items[5] == ("Hot Dog")) {this.sellHotdog();}
if(Menu.Items[5]==spcBagels1.Name) {this.sellBagel_Spc1();}
if(Menu.Items[5]==spcBagels2.Name) {this.sellBagel_Spc2();}
if(Menu.Items[5]==spcBagels3.Name) {this.sellBagel_Spc3();}
if(Menu.Items[5]==spcBagels4.Name) {this.sellBagel_Spc4();}
}

function sellMenu4(this Character*){
if(Menu.Items[4] == ("Coffee")) {saleitem=("Coffee");
if (upCoffee == ("S")){this.sellCoffee_S();}
if (upCoffee == ("A")){this.sellCoffee_A();}
if (upCoffee == ("B")){this.sellCoffee_B();}
if (upCoffee == ("C")){this.sellCoffee_C();}
if (upCoffee == ("D")){this.sellCoffee_D();}}
if(Menu.Items[4] == ("Georgetonian")) {this.sellGeorgetonian();}
if(Menu.Items[4] == ("Chai Tea")) {this.sellChai();}
if(Menu.Items[4] == ("Pipeline Crest")) {this.sellCrest();}
if(Menu.Items[4] == ("Pipeline Rinse")) {this.sellRinse();}
if(Menu.Items[4] == ("Hot Cocoa")) {this.sellCocoa();}
if(Menu.Items[4] == ("Milk")) {this.sellMilk();}
if(Menu.Items[4] == ("Americano")) {this.sellAmericano();}
if(Menu.Items[4] == ("Cappuccino")) {this.sellCappuccino();}
if(Menu.Items[4] == ("Plain Bagel")) {this.sellBagel_Plain();}
if(Menu.Items[4] == ("Mocha")) {this.sellMocha();}
if(Menu.Items[4] == ("Chai Latte")) {this.sellChailatte();}
if(Menu.Items[4] == ("Latte")) {this.sellLatte();}
if(Menu.Items[4] == ("Hot Dog")) {this.sellHotdog();}
if(Menu.Items[4]==spcBagels1.Name) {this.sellBagel_Spc1();}
if(Menu.Items[4]==spcBagels2.Name) {this.sellBagel_Spc2();}
if(Menu.Items[4]==spcBagels3.Name) {this.sellBagel_Spc3();}
if(Menu.Items[4]==spcBagels4.Name) {this.sellBagel_Spc4();}
}

function sellMenu3(this Character*){
if(Menu.Items[3] == ("Coffee")) {saleitem=("Coffee");
if (upCoffee == ("S")){this.sellCoffee_S();}
if (upCoffee == ("A")){this.sellCoffee_A();}
if (upCoffee == ("B")){this.sellCoffee_B();}
if (upCoffee == ("C")){this.sellCoffee_C();}
if (upCoffee == ("D")){this.sellCoffee_D();}}
if(Menu.Items[3] == ("Georgetonian")) {this.sellGeorgetonian();}
if(Menu.Items[3] == ("Chai Tea")) {this.sellChai();}
if(Menu.Items[3] == ("Pipeline Crest")) {this.sellCrest();}
if(Menu.Items[3] == ("Pipeline Rinse")) {this.sellRinse();}
if(Menu.Items[3] == ("Hot Cocoa")) {this.sellCocoa();}
if(Menu.Items[3] == ("Milk")) {this.sellMilk();}
if(Menu.Items[3] == ("Americano")) {this.sellAmericano();}
if(Menu.Items[3] == ("Cappuccino")) {this.sellCappuccino();}
if(Menu.Items[3] == ("Plain Bagel")) {this.sellBagel_Plain();}
if(Menu.Items[3] == ("Mocha")) {this.sellMocha();}
if(Menu.Items[3] == ("Chai Latte")) {this.sellChailatte();}
if(Menu.Items[3] == ("Latte")) {this.sellLatte();}
if(Menu.Items[3] == ("Hot Dog")) {this.sellHotdog();}
if(Menu.Items[3]==spcBagels1.Name) {this.sellBagel_Spc1();}
if(Menu.Items[3]==spcBagels2.Name) {this.sellBagel_Spc2();}
if(Menu.Items[3]==spcBagels3.Name) {this.sellBagel_Spc3();}
if(Menu.Items[3]==spcBagels4.Name) {this.sellBagel_Spc4();}
}

function sellMenu2(this Character*){
if(Menu.Items[2] == ("Coffee")) {saleitem=("Coffee");
if (upCoffee == ("S")){this.sellCoffee_S();}
if (upCoffee == ("A")){this.sellCoffee_A();}
if (upCoffee == ("B")){this.sellCoffee_B();}
if (upCoffee == ("C")){this.sellCoffee_C();}
if (upCoffee == ("D")){this.sellCoffee_D();}}
if(Menu.Items[2] == ("Georgetonian")) {this.sellGeorgetonian();}
if(Menu.Items[2] == ("Chai Tea")) {this.sellChai();}
if(Menu.Items[2] == ("Pipeline Crest")) {this.sellCrest();}
if(Menu.Items[2] == ("Pipeline Rinse")) {this.sellRinse();}
if(Menu.Items[2] == ("Hot Cocoa")) {this.sellCocoa();}
if(Menu.Items[2] == ("Milk")) {this.sellMilk();}
if(Menu.Items[2] == ("Americano")) {this.sellAmericano();}
if(Menu.Items[2] == ("Cappuccino")) {this.sellCappuccino();}
if(Menu.Items[2] == ("Plain Bagel")) {this.sellBagel_Plain();}
if(Menu.Items[2] == ("Mocha")) {this.sellMocha();}
if(Menu.Items[2] == ("Chai Latte")) {this.sellChailatte();}
if(Menu.Items[2] == ("Latte")) {this.sellLatte();}
if(Menu.Items[2] == ("Hot Dog")) {this.sellHotdog();}
if(Menu.Items[2]==spcBagels1.Name) {this.sellBagel_Spc1();}
if(Menu.Items[2]==spcBagels2.Name) {this.sellBagel_Spc2();}
if(Menu.Items[2]==spcBagels3.Name) {this.sellBagel_Spc3();}
if(Menu.Items[2]==spcBagels4.Name) {this.sellBagel_Spc4();}
}

function sellMenu1(this Character*){
if(Menu.Items[1] == ("Coffee")) {saleitem=("Coffee");
if (upCoffee == ("S")){this.sellCoffee_S();}
if (upCoffee == ("A")){this.sellCoffee_A();}
if (upCoffee == ("B")){this.sellCoffee_B();}
if (upCoffee == ("C")){this.sellCoffee_C();}
if (upCoffee == ("D")){this.sellCoffee_D();}}
if(Menu.Items[1] == ("Georgetonian")) {this.sellGeorgetonian();}
if(Menu.Items[1] == ("Chai Tea")) {this.sellChai();}
if(Menu.Items[1] == ("Pipeline Crest")) {this.sellCrest();}
if(Menu.Items[1] == ("Pipeline Rinse")) {this.sellRinse();}
if(Menu.Items[1] == ("Hot Cocoa")) {this.sellCocoa();}
if(Menu.Items[1] == ("Milk")) {this.sellMilk();}
if(Menu.Items[1] == ("Americano")) {this.sellAmericano();}
if(Menu.Items[1] == ("Cappuccino")) {this.sellCappuccino();}
if(Menu.Items[1] == ("Plain Bagel")) {this.sellBagel_Plain();}
if(Menu.Items[1] == ("Mocha")) {this.sellMocha();}
if(Menu.Items[1] == ("Chai Latte")) {this.sellChailatte();}
if(Menu.Items[1] == ("Latte")) {this.sellLatte();}
if(Menu.Items[1] == ("Hot Dog")) {this.sellHotdog();}
if(Menu.Items[1]==spcBagels1.Name) {this.sellBagel_Spc1();}
if(Menu.Items[1]==spcBagels2.Name) {this.sellBagel_Spc2();}
if(Menu.Items[1]==spcBagels3.Name) {this.sellBagel_Spc3();}
if(Menu.Items[1]==spcBagels4.Name) {this.sellBagel_Spc4();}
}

function sellMenu0(this Character*){
if(Menu.Items[0] == ("Coffee")) {saleitem=("Coffee");
if (upCoffee == ("S")){this.sellCoffee_S();}
if (upCoffee == ("A")){this.sellCoffee_A();}
if (upCoffee == ("B")){this.sellCoffee_B();}
if (upCoffee == ("C")){this.sellCoffee_C();}
if (upCoffee == ("D")){this.sellCoffee_D();}}
if(Menu.Items[0] == ("Georgetonian")) {this.sellGeorgetonian();}
if(Menu.Items[0] == ("Chai Tea")) {this.sellChai();}
if(Menu.Items[0] == ("Pipeline Crest")) {this.sellCrest();}
if(Menu.Items[0] == ("Pipeline Rinse")) {this.sellRinse();}
if(Menu.Items[0] == ("Hot Cocoa")) {this.sellCocoa();}
if(Menu.Items[0] == ("Milk")) {this.sellMilk();}
if(Menu.Items[0] == ("Americano")) {this.sellAmericano();}
if(Menu.Items[0] == ("Cappuccino")) {this.sellCappuccino();}
if(Menu.Items[0] == ("Plain Bagel")) {this.sellBagel_Plain();}
if(Menu.Items[0] == ("Mocha")) {this.sellMocha();}
if(Menu.Items[0] == ("Chai Latte")) {this.sellChailatte();}
if(Menu.Items[0] == ("Latte")) {this.sellLatte();}
if(Menu.Items[0] == ("Hot Dog")) {this.sellHotdog();}
if(Menu.Items[0]==spcBagels1.Name) {this.sellBagel_Spc1();}
if(Menu.Items[0]==spcBagels2.Name) {this.sellBagel_Spc2();}
if(Menu.Items[0]==spcBagels3.Name) {this.sellBagel_Spc3();}
if(Menu.Items[0]==spcBagels4.Name) {this.sellBagel_Spc4();}
}

function sellRandom(this Character*){
     if (dice==14){this.sellMenu14();}
else if (dice==13){this.sellMenu13();}
else if (dice==12){this.sellMenu12();}
else if (dice==11){this.sellMenu11();}
else if (dice==10){this.sellMenu10();}
else if (dice==9){this.sellMenu9();}
else if (dice==8){this.sellMenu8();}
else if (dice==7){this.sellMenu7();}
else if (dice==6){this.sellMenu6();}
else if (dice==5){this.sellMenu5();}
else if (dice==4){this.sellMenu4();}
else if (dice==3){this.sellMenu3();}
else if (dice==2){this.sellMenu2();}
else if (dice==1){this.sellMenu1();}
else if (dice==0){this.sellMenu0();}
}

function Spin()
{    if (Menu.ItemCount>=14) {dice=Random(13);}
else if (Menu.ItemCount==13) {dice=Random(12);}
else if (Menu.ItemCount==12) {dice=Random(11);}
else if (Menu.ItemCount==11) {dice=Random(10);}
else if (Menu.ItemCount==10) {dice=Random(9);}
else if (Menu.ItemCount==9) {dice=Random(8);}
else if (Menu.ItemCount==8) {dice=Random(7);}
else if (Menu.ItemCount==7) {dice=Random(6);}
else if (Menu.ItemCount==6) {dice=Random(5);}
else if (Menu.ItemCount==5) {dice=Random(4);}
else if (Menu.ItemCount==4) {dice=Random(3);}
else if (Menu.ItemCount==3) {dice=Random(2);}
else if (Menu.ItemCount==2) {dice=Random(1);}
else if (Menu.ItemCount==1) {dice=0;}
if (dice==14){dots=String.Format("%s",Menu.Items[14]); saleitem=String.Format("%s",Menu.Items[14]);}
if (dice==13){dots=String.Format("%s",Menu.Items[13]);saleitem=String.Format("%s",Menu.Items[13]);}
if (dice==12){dots=String.Format("%s",Menu.Items[12]);saleitem=String.Format("%s",Menu.Items[12]);}
if (dice==11){dots=String.Format("%s",Menu.Items[11]);saleitem=String.Format("%s",Menu.Items[11]);}
if (dice==10){dots=String.Format("%s",Menu.Items[10]);saleitem=String.Format("%s",Menu.Items[10]);}
if (dice==9){dots=String.Format("%s",Menu.Items[9]);saleitem=String.Format("%s",Menu.Items[9]);}
if (dice==8){dots=String.Format("%s",Menu.Items[8]);saleitem=String.Format("%s",Menu.Items[8]);}
if (dice==7){dots=String.Format("%s",Menu.Items[7]);saleitem=String.Format("%s",Menu.Items[7]);}
if (dice==6){dots=String.Format("%s",Menu.Items[6]);saleitem=String.Format("%s",Menu.Items[6]);}
if (dice==5){dots=String.Format("%s",Menu.Items[5]);saleitem=String.Format("%s",Menu.Items[5]);}
if (dice==4){dots=String.Format("%s",Menu.Items[4]);saleitem=String.Format("%s",Menu.Items[4]);}
if (dice==3){dots=String.Format("%s",Menu.Items[3]);saleitem=String.Format("%s",Menu.Items[3]);}
if (dice==2){dots=String.Format("%s",Menu.Items[2]);saleitem=String.Format("%s",Menu.Items[2]);}
if (dice==1){dots=String.Format("%s",Menu.Items[1]);saleitem=String.Format("%s",Menu.Items[1]);}
if (dice==0){if (Menu.ItemCount==0){} else {dots=String.Format("%s",Menu.Items[0]); saleitem=String.Format("%s",Menu.Items[0]);}}
}

function triptaphan(int level){
if (vitality.Width<50){}
  else if (vitality.Width>=50){
  //What?! Of course he does. //if (GetGlobalInt(1)==1){caffeine.Width-=(level);}//Andrus Doesn't Get Tired From Eating
  vitality.Width-=(level);
  }}

function BreakItDown(){// Setup the Budget Screen
//The biggest pain is determining the "favorites" or "most bought" etc...
if ((coffeeSoldTotal>AmericanoSold)&&(coffeeSoldTotal>PaperSold)&&(coffeeSoldTotal>Bagel_PlainSold)&&(coffeeSoldTotal>ChaiSold)&&(coffeeSoldTotal>CocoaSold)&&(coffeeSoldTotal>MilkSold)&&(coffeeSoldTotal>RinseSold)&&(coffeeSoldTotal>CrestSold)&&(coffeeSoldTotal>LatteSold)&&(coffeeSoldTotal>CappuccinoSold)&&(coffeeSoldTotal>ChailatteSold)&&(coffeeSoldTotal>MochaSold)&&(coffeeSoldTotal>HotdogSold)){
bd_boughtitm.Text=("Coffee");}  
if ((AmericanoSold>coffeeSoldTotal)&&(AmericanoSold>PaperSold)&&(AmericanoSold>Bagel_PlainSold)&&(AmericanoSold>ChaiSold)&&(AmericanoSold>CocoaSold)&&(AmericanoSold>MilkSold)&&(AmericanoSold>RinseSold)&&(AmericanoSold>CrestSold)&&(AmericanoSold>LatteSold)&&(AmericanoSold>CappuccinoSold)&&(AmericanoSold>ChailatteSold)&&(AmericanoSold>MochaSold)&&(AmericanoSold>HotdogSold)){
bd_boughtitm.Text=("Americano");}  
if ((PaperSold>coffeeSoldTotal)&&(PaperSold>AmericanoSold)&&(PaperSold>Bagel_PlainSold)&&(PaperSold>ChaiSold)&&(PaperSold>CocoaSold)&&(PaperSold>MilkSold)&&(PaperSold>RinseSold)&&(PaperSold>CrestSold)&&(PaperSold>LatteSold)&&(PaperSold>CappuccinoSold)&&(PaperSold>ChailatteSold)&&(PaperSold>MochaSold)&&(PaperSold>HotdogSold)){
bd_boughtitm.Text=("Newspaper");}  
if ((Bagel_PlainSold>coffeeSoldTotal)&&(Bagel_PlainSold>AmericanoSold)&&(Bagel_PlainSold>PaperSold)&&(Bagel_PlainSold>CoffeeSoldS)&&(Bagel_PlainSold>ChaiSold)&&(Bagel_PlainSold>CocoaSold)&&(Bagel_PlainSold>MilkSold)&&(Bagel_PlainSold>RinseSold)&&(Bagel_PlainSold>CrestSold)&&(Bagel_PlainSold>LatteSold)&&(Bagel_PlainSold>CappuccinoSold)&&(Bagel_PlainSold>ChailatteSold)&&(Bagel_PlainSold>MochaSold)&&(Bagel_PlainSold>HotdogSold)){
bd_boughtitm.Text=("Bagels");}
if ((ChaiSold>coffeeSoldTotal)&&(ChaiSold>AmericanoSold)&&(ChaiSold>PaperSold)&&(ChaiSold>Bagel_PlainSold)&&(ChaiSold>CoffeeSoldS)&&(ChaiSold>CocoaSold)&&(ChaiSold>MilkSold)&&(ChaiSold>RinseSold)&&(ChaiSold>CrestSold)&&(ChaiSold>LatteSold)&&(ChaiSold>CappuccinoSold)&&(ChaiSold>ChailatteSold)&&(ChaiSold>MochaSold)&&(ChaiSold>HotdogSold)){
bd_boughtitm.Text=("Chai");}
if ((CocoaSold>coffeeSoldTotal)&&(CocoaSold>AmericanoSold)&&(CocoaSold>PaperSold)&&(CocoaSold>Bagel_PlainSold)&&(CocoaSold>ChaiSold)&&(CocoaSold>CoffeeSoldS)&&(CocoaSold>MilkSold)&&(CocoaSold>RinseSold)&&(CocoaSold>CrestSold)&&(CocoaSold>LatteSold)&&(CocoaSold>CappuccinoSold)&&(CocoaSold>ChailatteSold)&&(CocoaSold>MochaSold)&&(CocoaSold>HotdogSold)){
bd_boughtitm.Text=("Cocoa");}
if ((MilkSold>coffeeSoldTotal)&&(MilkSold>AmericanoSold)&&(MilkSold>PaperSold)&&(MilkSold>Bagel_PlainSold)&&(MilkSold>ChaiSold)&&(MilkSold>CocoaSold)&&(MilkSold>CoffeeSoldS)&&(MilkSold>RinseSold)&&(MilkSold>CrestSold)&&(MilkSold>LatteSold)&&(MilkSold>CappuccinoSold)&&(MilkSold>ChailatteSold)&&(MilkSold>MochaSold)&&(MilkSold>HotdogSold)){
bd_boughtitm.Text=("Milk");}
if ((CrestSold>coffeeSoldTotal)&&(CrestSold>AmericanoSold)&&(CrestSold>PaperSold)&&(CrestSold>Bagel_PlainSold)&&(CrestSold>ChaiSold)&&(CrestSold>CocoaSold)&&(CrestSold>MilkSold)&&(CrestSold>RinseSold)&&(CrestSold>CoffeeSoldS)&&(CrestSold>LatteSold)&&(CrestSold>CappuccinoSold)&&(CrestSold>ChailatteSold)&&(CrestSold>MochaSold)&&(CrestSold>HotdogSold)){
bd_boughtitm.Text=("Crest");}
if ((RinseSold>coffeeSoldTotal)&&(RinseSold>AmericanoSold)&&(RinseSold>PaperSold)&&(RinseSold>Bagel_PlainSold)&&(RinseSold>ChaiSold)&&(RinseSold>CocoaSold)&&(RinseSold>MilkSold)&&(RinseSold>CoffeeSoldS)&&(RinseSold>CrestSold)&&(RinseSold>LatteSold)&&(RinseSold>CappuccinoSold)&&(RinseSold>ChailatteSold)&&(RinseSold>MochaSold)&&(RinseSold>HotdogSold)){
bd_boughtitm.Text=("Rinse");}
if ((LatteSold>coffeeSoldTotal)&&(LatteSold>AmericanoSold)&&(LatteSold>PaperSold)&&(LatteSold>Bagel_PlainSold)&&(LatteSold>ChaiSold)&&(LatteSold>CocoaSold)&&(LatteSold>MilkSold)&&(LatteSold>RinseSold)&&(LatteSold>CrestSold)&&(LatteSold>CoffeeSoldS)&&(LatteSold>CappuccinoSold)&&(LatteSold>ChailatteSold)&&(LatteSold>MochaSold)&&(LatteSold>HotdogSold)){
bd_boughtitm.Text=("Latte");}
if ((CappuccinoSold>coffeeSoldTotal)&&(CappuccinoSold>AmericanoSold)&&(CappuccinoSold>PaperSold)&&(CappuccinoSold>Bagel_PlainSold)&&(CappuccinoSold>ChaiSold)&&(CappuccinoSold>CocoaSold)&&(CappuccinoSold>MilkSold)&&(CappuccinoSold>RinseSold)&&(CappuccinoSold>CrestSold)&&(CappuccinoSold>LatteSold)&&(CappuccinoSold>CoffeeSoldS)&&(CappuccinoSold>ChailatteSold)&&(CappuccinoSold>MochaSold)&&(CappuccinoSold>HotdogSold)){
bd_boughtitm.Text=("Cappuccino");}
if ((MochaSold>coffeeSoldTotal)&&(MochaSold>AmericanoSold)&&(MochaSold>PaperSold)&&(MochaSold>Bagel_PlainSold)&&(MochaSold>ChaiSold)&&(MochaSold>CocoaSold)&&(MochaSold>MilkSold)&&(MochaSold>RinseSold)&&(MochaSold>CrestSold)&&(MochaSold>LatteSold)&&(MochaSold>CappuccinoSold)&&(MochaSold>ChailatteSold)&&(MochaSold>CoffeeSoldS)&&(MochaSold>HotdogSold)){
bd_boughtitm.Text=("Mocha");}
if ((HotdogSold>coffeeSoldTotal)&&(HotdogSold>AmericanoSold)&&(HotdogSold>PaperSold)&&(HotdogSold>Bagel_PlainSold)&&(HotdogSold>ChaiSold)&&(HotdogSold>CocoaSold)&&(HotdogSold>MilkSold)&&(HotdogSold>RinseSold)&&(HotdogSold>CrestSold)&&(HotdogSold>LatteSold)&&(HotdogSold>CappuccinoSold)&&(HotdogSold>ChailatteSold)&&(HotdogSold>CoffeeSoldS)&&(HotdogSold>MochaSold)){
bd_boughtitm.Text=("Hot dogs");}
//End Most Popular.
//Start Most Profitable
if ((coffeeGross_total>AmericanoGross)&&(coffeeGross_total>PaperGross)&&(coffeeGross_total>Bagel_PlainGross)&&(coffeeGross_total>ChaiGross)&&(coffeeGross_total>CocoaGross)&&(coffeeGross_total>MilkGross)&&(coffeeGross_total>RinseGross)&&(coffeeGross_total>CrestGross)&&(coffeeGross_total>LatteGross)&&(coffeeGross_total>CappuccinoGross)&&(coffeeGross_total>ChailatteGross)&&(coffeeGross_total>MochaGross)&&(coffeeGross_total>HotdogGross)){
bd_boughtitm2.Text=("Coffee");}  
if ((AmericanoGross>coffeeGross_total)&&(AmericanoGross>PaperGross)&&(AmericanoGross>Bagel_PlainGross)&&(AmericanoGross>ChaiGross)&&(AmericanoGross>CocoaGross)&&(AmericanoGross>MilkGross)&&(AmericanoGross>RinseGross)&&(AmericanoGross>CrestGross)&&(AmericanoGross>LatteGross)&&(AmericanoGross>CappuccinoGross)&&(AmericanoGross>ChailatteGross)&&(AmericanoGross>MochaGross)&&(AmericanoGross>HotdogGross)){
bd_boughtitm2.Text=("Americano");}  
if ((PaperGross>coffeeGross_total)&&(PaperGross>AmericanoGross)&&(PaperGross>Bagel_PlainGross)&&(PaperGross>ChaiGross)&&(PaperGross>CocoaGross)&&(PaperGross>MilkGross)&&(PaperGross>RinseGross)&&(PaperGross>CrestGross)&&(PaperGross>LatteGross)&&(PaperGross>CappuccinoGross)&&(PaperGross>ChailatteGross)&&(PaperGross>MochaGross)&&(PaperGross>HotdogGross)){
bd_boughtitm2.Text=("Newspaper");}  
if ((Bagel_PlainGross>coffeeGross_total)&&(Bagel_PlainGross>AmericanoGross)&&(Bagel_PlainGross>PaperGross)&&(Bagel_PlainGross>ChaiGross)&&(Bagel_PlainGross>CocoaGross)&&(Bagel_PlainGross>MilkGross)&&(Bagel_PlainGross>RinseGross)&&(Bagel_PlainGross>CrestGross)&&(Bagel_PlainGross>LatteGross)&&(Bagel_PlainGross>CappuccinoGross)&&(Bagel_PlainGross>ChailatteGross)&&(Bagel_PlainGross>MochaGross)&&(Bagel_PlainGross>HotdogGross)){
bd_boughtitm2.Text=("Bagels");}
if ((ChaiGross>coffeeGross_total)&&(ChaiGross>AmericanoGross)&&(ChaiGross>PaperGross)&&(ChaiGross>Bagel_PlainGross)&&(ChaiGross>CocoaGross)&&(ChaiGross>MilkGross)&&(ChaiGross>RinseGross)&&(ChaiGross>CrestGross)&&(ChaiGross>LatteGross)&&(ChaiGross>CappuccinoGross)&&(ChaiGross>ChailatteGross)&&(ChaiGross>MochaGross)&&(ChaiGross>HotdogGross)){
bd_boughtitm2.Text=("Chai");}
if ((CocoaGross>coffeeGross_total)&&(CocoaGross>AmericanoGross)&&(CocoaGross>PaperGross)&&(CocoaGross>Bagel_PlainGross)&&(CocoaGross>ChaiGross)&&(CocoaGross>MilkGross)&&(CocoaGross>RinseGross)&&(CocoaGross>CrestGross)&&(CocoaGross>LatteGross)&&(CocoaGross>CappuccinoGross)&&(CocoaGross>ChailatteGross)&&(CocoaGross>MochaGross)&&(CocoaGross>HotdogGross)){
bd_boughtitm2.Text=("Cocoa");}
if ((MilkGross>coffeeGross_total)&&(MilkGross>AmericanoGross)&&(MilkGross>PaperGross)&&(MilkGross>Bagel_PlainGross)&&(MilkGross>ChaiGross)&&(MilkGross>CocoaGross)&&(MilkGross>RinseGross)&&(MilkGross>CrestGross)&&(MilkGross>LatteGross)&&(MilkGross>CappuccinoGross)&&(MilkGross>ChailatteGross)&&(MilkGross>MochaGross)&&(MilkGross>HotdogGross)){
bd_boughtitm2.Text=("Milk");}
if ((CrestGross>coffeeGross_total)&&(CrestGross>AmericanoGross)&&(CrestGross>PaperGross)&&(CrestGross>Bagel_PlainGross)&&(CrestGross>ChaiGross)&&(CrestGross>CocoaGross)&&(CrestGross>MilkGross)&&(CrestGross>RinseGross)&&(CrestGross>LatteGross)&&(CrestGross>CappuccinoGross)&&(CrestGross>ChailatteGross)&&(CrestGross>MochaGross)&&(CrestGross>HotdogGross)){
bd_boughtitm2.Text=("Crest");}
if ((RinseGross>coffeeGross_total)&&(RinseGross>AmericanoGross)&&(RinseGross>PaperGross)&&(RinseGross>Bagel_PlainGross)&&(RinseGross>ChaiGross)&&(RinseGross>CocoaGross)&&(RinseGross>MilkGross)&&(RinseGross>CrestGross)&&(RinseGross>LatteGross)&&(RinseGross>CappuccinoGross)&&(RinseGross>ChailatteGross)&&(RinseGross>MochaGross)&&(MochaGross>HotdogGross)){
bd_boughtitm2.Text=("Rinse");}
if ((LatteGross>coffeeGross_total)&&(LatteGross>AmericanoGross)&&(LatteGross>PaperGross)&&(LatteGross>Bagel_PlainGross)&&(LatteGross>ChaiGross)&&(LatteGross>CocoaGross)&&(LatteGross>MilkGross)&&(LatteGross>RinseGross)&&(LatteGross>CrestGross)&&(LatteGross>CappuccinoGross)&&(LatteGross>ChailatteGross)&&(LatteGross>MochaGross)&&(LatteGross>HotdogGross)){
bd_boughtitm2.Text=("Latte");}
if ((CappuccinoGross>coffeeGross_total)&&(CappuccinoGross>AmericanoGross)&&(CappuccinoGross>PaperGross)&&(CappuccinoGross>Bagel_PlainGross)&&(CappuccinoGross>ChaiGross)&&(CappuccinoGross>CocoaGross)&&(CappuccinoGross>MilkGross)&&(CappuccinoGross>RinseGross)&&(CappuccinoGross>CrestGross)&&(CappuccinoGross>LatteGross)&&(CappuccinoGross>ChailatteGross)&&(CappuccinoGross>MochaGross)&&(CappuccinoGross>HotdogGross)){
bd_boughtitm2.Text=("Cappuccino");}
if ((MochaGross>coffeeGross_total)&&(MochaGross>AmericanoGross)&&(MochaGross>PaperGross)&&(MochaGross>Bagel_PlainGross)&&(MochaGross>ChaiGross)&&(MochaGross>CocoaGross)&&(MochaGross>MilkGross)&&(MochaGross>RinseGross)&&(MochaGross>CrestGross)&&(MochaGross>LatteGross)&&(MochaGross>CappuccinoGross)&&(MochaGross>ChailatteGross)&&(MochaGross>HotdogGross)){
bd_boughtitm2.Text=("Mocha");}
if ((HotdogGross>coffeeGross_total)&&(HotdogGross>AmericanoGross)&&(HotdogGross>PaperGross)&&(HotdogGross>Bagel_PlainGross)&&(HotdogGross>ChaiGross)&&(HotdogGross>CocoaGross)&&(HotdogGross>MilkGross)&&(HotdogGross>RinseGross)&&(HotdogGross>CrestGross)&&(HotdogGross>LatteGross)&&(HotdogGross>CappuccinoGross)&&(HotdogGross>ChailatteGross)&&(HotdogGross>MochaGross)){
bd_boughtitm2.Text=("Hot Dogs");}
//End Most Profitable, Start "Best Customer"
if ((fAlice>fToney)&&(fAlice>fJenny)&&(fAlice>fRichard)&&(fAlice>fTroy)&&(fAlice>fMarcus)&&(fAlice>fThales)&&(fAlice>fSuchin)&&(fAlice>fKyam)&&(fAlice>fChris)&&(fAlice>fSebastian)&&(fAlice>fWard)&&(fAlice>fThree)&&(fAlice>fDick)&&(fAlice>fChristin))
{bd_bestcustomer.Text=("Alice");}
if ((fToney>fAlice)&&(fToney>fJenny)&&(fToney>fRichard)&&(fToney>fTroy)&&(fToney>fMarcus)&&(fToney>fThales)&&(fToney>fSuchin)&&(fToney>fKyam)&&(fToney>fChris)&&(fToney>fSebastian)&&(fToney>fWard)&&(fToney>fThree)&&(fToney>fDick)&&(fToney>fChristin))
{bd_bestcustomer.Text=("Toney");}
if ((fJenny>fToney)&&(fJenny>fAlice)&&(fJenny>fRichard)&&(fJenny>fTroy)&&(fJenny>fMarcus)&&(fJenny>fThales)&&(fJenny>fSuchin)&&(fJenny>fKyam)&&(fJenny>fChris)&&(fJenny>fSebastian)&&(fJenny>fWard)&&(fJenny>fThree)&&(fJenny>fDick)&&(fJenny>fChristin))
{bd_bestcustomer.Text=("Jenny");}
if ((fRichard>fToney)&&(fRichard>fJenny)&&(fRichard>fAlice)&&(fRichard>fTroy)&&(fRichard>fMarcus)&&(fRichard>fThales)&&(fRichard>fSuchin)&&(fRichard>fKyam)&&(fRichard>fChris)&&(fRichard>fSebastian)&&(fRichard>fWard)&&(fRichard>fThree)&&(fRichard>fDick)&&(fRichard>fChristin))
{bd_bestcustomer.Text=("Richard");}
if ((fTroy>fToney)&&(fTroy>fJenny)&&(fTroy>fRichard)&&(fTroy>fAlice)&&(fTroy>fMarcus)&&(fTroy>fThales)&&(fTroy>fSuchin)&&(fTroy>fKyam)&&(fTroy>fChris)&&(fTroy>fSebastian)&&(fTroy>fWard)&&(fTroy>fThree)&&(fTroy>fDick)&&(fTroy>fChristin))
{bd_bestcustomer.Text=("Troy");}
if ((fMarcus>fToney)&&(fMarcus>fJenny)&&(fMarcus>fRichard)&&(fMarcus>fTroy)&&(fMarcus>fAlice)&&(fMarcus>fThales)&&(fMarcus>fSuchin)&&(fMarcus>fKyam)&&(fMarcus>fChris)&&(fMarcus>fSebastian)&&(fMarcus>fWard)&&(fMarcus>fThree)&&(fMarcus>fDick)&&(fMarcus>fChristin))
{bd_bestcustomer.Text=("Marcus");}
if ((fThales>fToney)&&(fThales>fJenny)&&(fThales>fRichard)&&(fThales>fTroy)&&(fThales>fMarcus)&&(fThales>fAlice)&&(fThales>fSuchin)&&(fThales>fKyam)&&(fThales>fChris)&&(fThales>fSebastian)&&(fThales>fWard)&&(fThales>fThree)&&(fThales>fDick)&&(fThales>fChristin))
{bd_bestcustomer.Text=("Thales");}
if ((fSuchin>fToney)&&(fSuchin>fJenny)&&(fSuchin>fRichard)&&(fSuchin>fTroy)&&(fSuchin>fMarcus)&&(fSuchin>fThales)&&(fSuchin>fAlice)&&(fSuchin>fKyam)&&(fSuchin>fChris)&&(fSuchin>fSebastian)&&(fSuchin>fWard)&&(fSuchin>fThree)&&(fSuchin>fDick)&&(fSuchin>fChristin))
{bd_bestcustomer.Text=("Su-chin");}
if ((fKyam>fToney)&&(fKyam>fJenny)&&(fKyam>fRichard)&&(fKyam>fTroy)&&(fKyam>fMarcus)&&(fKyam>fThales)&&(fKyam>fSuchin)&&(fKyam>fAlice)&&(fKyam>fChris)&&(fKyam>fSebastian)&&(fKyam>fWard)&&(fKyam>fThree)&&(fKyam>fDick)&&(fKyam>fChristin))
{bd_bestcustomer.Text=("Kyam");}
if ((fChris>fToney)&&(fChris>fJenny)&&(fChris>fRichard)&&(fChris>fTroy)&&(fChris>fMarcus)&&(fChris>fThales)&&(fChris>fSuchin)&&(fChris>fKyam)&&(fChris>fAlice)&&(fChris>fSebastian)&&(fChris>fWard)&&(fChris>fThree)&&(fChris>fDick)&&(fChris>fChristin))
{bd_bestcustomer.Text=("Chris");}
if ((fSebastian>fToney)&&(fSebastian>fJenny)&&(fSebastian>fRichard)&&(fSebastian>fTroy)&&(fSebastian>fMarcus)&&(fSebastian>fThales)&&(fSebastian>fSuchin)&&(fSebastian>fKyam)&&(fSebastian>fChris)&&(fSebastian>fAlice)&&(fSebastian>fWard)&&(fSebastian>fThree)&&(fSebastian>fDick)&&(fSebastian>fChristin))
{bd_bestcustomer.Text=("Sebastian");}
if ((fWard>fToney)&&(fWard>fJenny)&&(fWard>fRichard)&&(fWard>fTroy)&&(fWard>fMarcus)&&(fWard>fThales)&&(fWard>fSuchin)&&(fWard>fKyam)&&(fWard>fChris)&&(fWard>fSebastian)&&(fWard>fAlice)&&(fWard>fThree)&&(fWard>fDick)&&(fWard>fChristin))
{bd_bestcustomer.Text=("Ward");}
if ((fThree>fToney)&&(fThree>fJenny)&&(fThree>fRichard)&&(fThree>fTroy)&&(fThree>fMarcus)&&(fThree>fThales)&&(fThree>fSuchin)&&(fThree>fKyam)&&(fThree>fChris)&&(fThree>fSebastian)&&(fThree>fWard)&&(fThree>fAlice)&&(fThree>fDick)&&(fThree>fChristin))
{bd_bestcustomer.Text=("The Three");}
if ((fDick>fToney)&&(fDick>fJenny)&&(fDick>fRichard)&&(fDick>fTroy)&&(fDick>fMarcus)&&(fDick>fThales)&&(fDick>fSuchin)&&(fDick>fKyam)&&(fDick>fChris)&&(fDick>fSebastian)&&(fDick>fWard)&&(fDick>fThree)&&(fDick>fAlice)&&(fDick>fChristin))
{bd_bestcustomer.Text=("Dick");}
if ((fChristin>fToney)&&(fChristin>fJenny)&&(fChristin>fRichard)&&(fChristin>fTroy)&&(fChristin>fMarcus)&&(fChristin>fThales)&&(fChristin>fSuchin)&&(fChristin>fKyam)&&(fChristin>fChris)&&(fChristin>fSebastian)&&(fChristin>fWard)&&(fChristin>fThree)&&(fChristin>fDick)&&(fChristin>fAlice))
{bd_bestcustomer.Text=("Christin");}
//End Best Customer, start "Best Area"
if ((fFranklin>fBridge)&&(fFranklin>fDowntown)&&(fFranklin>fCollins)&&(fFranklin>fFlorin)&&(fFranklin>f13th))
{bd_bestarea.Text=("Franklin");}
if ((fBridge>fFranklin)&&(fBridge>fDowntown)&&(fBridge>fCollins)&&(fBridge>fFlorin)&&(fBridge>f13th))
{bd_bestarea.Text=("The Bridge");}
if ((fDowntown>fBridge)&&(fDowntown>fFranklin)&&(fDowntown>fCollins)&&(fDowntown>fFlorin)&&(fDowntown>f13th))
{bd_bestarea.Text=("Downtown");}
if ((fCollins>fBridge)&&(fCollins>fDowntown)&&(fCollins>fFranklin)&&(fCollins>fFlorin)&&(fCollins>f13th))
{bd_bestarea.Text=("Collins");}
if ((fFlorin>fBridge)&&(fFlorin>fDowntown)&&(fFlorin>fCollins)&&(fFlorin>fFranklin)&&(fFlorin>f13th))
{bd_bestarea.Text=("Florin");}
if ((f13th>fBridge)&&(f13th>fDowntown)&&(f13th>fCollins)&&(f13th>fFlorin)&&(f13th>fFranklin))
{bd_bestarea.Text=("13th");}
//End Best Area, Start "Favorite Food"...
if ((fPizza>fSalad)&&(fPizza>fCrisps)&&(fPizza>fBigwich)&&(fPizza>fBigwichV)&&(fPizza>fBiscuits)&&(fPizza>fFryup)&&(fPizza>fPancakes)&&(fPizza>fScrapple)&&(fPizza>fSoup)&&(fPizza>fHash)&&(fPizza>fMeatloaf)&&(fPizza>fPie)&&(fPizza>fBagel)&&(fPizza>fStale)&&(fPizza>fMilk)&&(fPizza>fOmar)&&(fPizza>fHotDog)&&(fPizza>fBar)&&(fPizza>fBun))
{bd_favfood.Text=("Pizza");}
if ((fSalad>fPizza)&&(fSalad>fCrisps)&&(fSalad>fBigwich)&&(fSalad>fBigwichV)&&(fSalad>fBiscuits)&&(fSalad>fFryup)&&(fSalad>fPancakes)&&(fSalad>fScrapple)&&(fSalad>fSoup)&&(fSalad>fHash)&&(fSalad>fMeatloaf)&&(fSalad>fPie)&&(fSalad>fBagel)&&(fSalad>fStale)&&(fSalad>fMilk)&&(fSalad>fOmar)&&(fSalad>fHotDog)&&(fSalad>fBar)&&(fSalad>fBun))
{bd_favfood.Text=("Salad");}
if ((fCrisps>fSalad)&&(fCrisps>fPizza)&&(fCrisps>fBigwich)&&(fCrisps>fBigwichV)&&(fCrisps>fBiscuits)&&(fCrisps>fFryup)&&(fCrisps>fPancakes)&&(fCrisps>fScrapple)&&(fCrisps>fSoup)&&(fCrisps>fHash)&&(fCrisps>fMeatloaf)&&(fCrisps>fPie)&&(fCrisps>fBagel)&&(fCrisps>fStale)&&(fCrisps>fMilk)&&(fCrisps>fOmar)&&(fCrisps>fHotDog)&&(fCrisps>fBar)&&(fCrisps>fBun))
{bd_favfood.Text=("Crisps");}
if ((fBigwich>fSalad)&&(fBigwich>fCrisps)&&(fBigwich>fPizza)&&(fBigwich>fBigwichV)&&(fBigwich>fBiscuits)&&(fBigwich>fFryup)&&(fBigwich>fPancakes)&&(fBigwich>fScrapple)&&(fBigwich>fSoup)&&(fBigwich>fHash)&&(fBigwich>fMeatloaf)&&(fBigwich>fPie)&&(fBigwich>fBagel)&&(fBigwich>fStale)&&(fBigwich>fMilk)&&(fBigwich>fOmar)&&(fBigwich>fHotDog)&&(fBigwich>fBar)&&(fBigwich>fBun))
{bd_favfood.Text=("The Bigwich");}
if ((fBigwichV>fSalad)&&(fBigwichV>fCrisps)&&(fBigwichV>fBigwich)&&(fBigwichV>fPizza)&&(fBigwichV>fBiscuits)&&(fBigwichV>fFryup)&&(fBigwichV>fPancakes)&&(fBigwichV>fScrapple)&&(fBigwichV>fSoup)&&(fBigwichV>fHash)&&(fBigwichV>fMeatloaf)&&(fBigwichV>fPie)&&(fBigwichV>fBagel)&&(fBigwichV>fStale)&&(fBigwichV>fMilk)&&(fBigwichV>fOmar)&&(fBigwichV>fHotDog)&&(fBigwichV>fBar)&&(fBigwichV>fBun))
{bd_favfood.Text=("Veggie Bigwich");}
if ((fBiscuits>fSalad)&&(fBiscuits>fCrisps)&&(fBiscuits>fBigwich)&&(fBiscuits>fBigwichV)&&(fBiscuits>fPizza)&&(fBiscuits>fFryup)&&(fBiscuits>fPancakes)&&(fBiscuits>fScrapple)&&(fBiscuits>fSoup)&&(fBiscuits>fHash)&&(fBiscuits>fMeatloaf)&&(fBiscuits>fPie)&&(fBiscuits>fBagel)&&(fBiscuits>fStale)&&(fBiscuits>fMilk)&&(fBiscuits>fOmar)&&(fBiscuits>fHotDog)&&(fBiscuits>fBar)&&(fBiscuits>fBun))
{bd_favfood.Text=("Biscuits+Gravy");}
if ((fFryup>fSalad)&&(fFryup>fCrisps)&&(fFryup>fBigwich)&&(fFryup>fBigwichV)&&(fFryup>fBiscuits)&&(fFryup>fPizza)&&(fFryup>fPancakes)&&(fFryup>fScrapple)&&(fFryup>fSoup)&&(fFryup>fHash)&&(fFryup>fMeatloaf)&&(fFryup>fPie)&&(fFryup>fBagel)&&(fFryup>fStale)&&(fFryup>fMilk)&&(fFryup>fOmar)&&(fFryup>fHotDog)&&(fFryup>fBar)&&(fFryup>fBun))
{bd_favfood.Text=("Fryup Roll");}
if ((fPancakes>fSalad)&&(fPancakes>fCrisps)&&(fPancakes>fBigwich)&&(fPancakes>fBigwichV)&&(fPancakes>fBiscuits)&&(fPancakes>fFryup)&&(fPancakes>fPizza)&&(fPancakes>fScrapple)&&(fPancakes>fSoup)&&(fPancakes>fHash)&&(fPancakes>fMeatloaf)&&(fPancakes>fPie)&&(fPancakes>fBagel)&&(fPancakes>fStale)&&(fPancakes>fMilk)&&(fPancakes>fOmar)&&(fPancakes>fHotDog)&&(fPancakes>fBar)&&(fPancakes>fBun))
{bd_favfood.Text=("Pancakes");}
if ((fScrapple>fSalad)&&(fScrapple>fCrisps)&&(fScrapple>fBigwich)&&(fScrapple>fBigwichV)&&(fScrapple>fBiscuits)&&(fScrapple>fFryup)&&(fScrapple>fPancakes)&&(fScrapple>fPizza)&&(fScrapple>fSoup)&&(fScrapple>fHash)&&(fScrapple>fMeatloaf)&&(fScrapple>fPie)&&(fScrapple>fBagel)&&(fScrapple>fStale)&&(fScrapple>fMilk)&&(fScrapple>fOmar)&&(fScrapple>fHotDog)&&(fScrapple>fBar)&&(fScrapple>fBun))
{bd_favfood.Text=("Scrapple");}
if ((fSoup>fSalad)&&(fSoup>fCrisps)&&(fSoup>fBigwich)&&(fSoup>fBigwichV)&&(fSoup>fBiscuits)&&(fSoup>fFryup)&&(fSoup>fPancakes)&&(fSoup>fScrapple)&&(fSoup>fPizza)&&(fSoup>fHash)&&(fSoup>fMeatloaf)&&(fSoup>fPie)&&(fSoup>fBagel)&&(fSoup>fStale)&&(fSoup>fMilk)&&(fSoup>fOmar)&&(fSoup>fHotDog)&&(fSoup>fBar)&&(fSoup>fBun))
{bd_favfood.Text=("Soup");}
if ((fHash>fSalad)&&(fHash>fCrisps)&&(fHash>fBigwich)&&(fHash>fBigwichV)&&(fHash>fBiscuits)&&(fHash>fFryup)&&(fHash>fPancakes)&&(fHash>fScrapple)&&(fHash>fSoup)&&(fHash>fPizza)&&(fHash>fMeatloaf)&&(fHash>fPie)&&(fHash>fBagel)&&(fHash>fStale)&&(fHash>fMilk)&&(fHash>fOmar)&&(fHash>fHotDog)&&(fHash>fBar)&&(fHash>fBun))
{bd_favfood.Text=("Scrap Hash");}
if ((fMeatloaf>fSalad)&&(fMeatloaf>fCrisps)&&(fMeatloaf>fBigwich)&&(fMeatloaf>fBigwichV)&&(fMeatloaf>fBiscuits)&&(fMeatloaf>fFryup)&&(fMeatloaf>fPancakes)&&(fMeatloaf>fScrapple)&&(fMeatloaf>fSoup)&&(fMeatloaf>fHash)&&(fMeatloaf>fPizza)&&(fMeatloaf>fPie)&&(fMeatloaf>fBagel)&&(fMeatloaf>fStale)&&(fMeatloaf>fMilk)&&(fMeatloaf>fOmar)&&(fMeatloaf>fHotDog)&&(fMeatloaf>fBar)&&(fMeatloaf>fBun))
{bd_favfood.Text=("Meatloaf");}
if ((fPie>fSalad)&&(fPie>fCrisps)&&(fPie>fBigwich)&&(fPie>fBigwichV)&&(fPie>fBiscuits)&&(fPie>fFryup)&&(fPie>fPancakes)&&(fPie>fScrapple)&&(fPie>fSoup)&&(fPie>fHash)&&(fPie>fMeatloaf)&&(fPie>fPizza)&&(fPie>fBagel)&&(fPie>fStale)&&(fPie>fMilk)&&(fPie>fOmar)&&(fPie>fHotDog)&&(fPie>fBar)&&(fPie>fBun))
{bd_favfood.Text=("Pie");}
if ((fBagel>fSalad)&&(fBagel>fCrisps)&&(fBagel>fBigwich)&&(fBagel>fBigwichV)&&(fBagel>fBiscuits)&&(fBagel>fFryup)&&(fBagel>fPancakes)&&(fBagel>fScrapple)&&(fBagel>fSoup)&&(fBagel>fHash)&&(fBagel>fMeatloaf)&&(fBagel>fPie)&&(fBagel>fPizza)&&(fBagel>fStale)&&(fBagel>fMilk)&&(fBagel>fOmar)&&(fBagel>fHotDog)&&(fBagel>fBar)&&(fBagel>fBun))
{bd_favfood.Text=("Bagels");}
if ((fStale>fSalad)&&(fStale>fCrisps)&&(fStale>fBigwich)&&(fStale>fBigwichV)&&(fStale>fBiscuits)&&(fStale>fFryup)&&(fStale>fPancakes)&&(fStale>fScrapple)&&(fStale>fSoup)&&(fStale>fHash)&&(fStale>fMeatloaf)&&(fStale>fPie)&&(fStale>fBagel)&&(fStale>fPizza)&&(fStale>fMilk)&&(fStale>fOmar)&&(fStale>fHotDog)&&(fStale>fBar)&&(fStale>fBun))
{bd_favfood.Text=("Stalewich");}
if ((fMilk>fSalad)&&(fMilk>fCrisps)&&(fMilk>fBigwich)&&(fMilk>fBigwichV)&&(fMilk>fBiscuits)&&(fMilk>fFryup)&&(fMilk>fPancakes)&&(fMilk>fScrapple)&&(fMilk>fSoup)&&(fMilk>fHash)&&(fMilk>fMeatloaf)&&(fMilk>fPie)&&(fMilk>fBagel)&&(fMilk>fStale)&&(fMilk>fPizza)&&(fMilk>fOmar)&&(fMilk>fHotDog)&&(fMilk>fBar)&&(fMilk>fBun))
{bd_favfood.Text=("Milk");}
if ((fOmar>fSalad)&&(fOmar>fCrisps)&&(fOmar>fBigwich)&&(fOmar>fBigwichV)&&(fOmar>fBiscuits)&&(fOmar>fFryup)&&(fOmar>fPancakes)&&(fOmar>fScrapple)&&(fOmar>fSoup)&&(fOmar>fHash)&&(fOmar>fMeatloaf)&&(fOmar>fPie)&&(fOmar>fBagel)&&(fOmar>fStale)&&(fOmar>fPizza)&&(fOmar>fMilk)&&(fOmar>fHotDog)&&(fOmar>fBar)&&(fOmar>fBun))
{bd_favfood.Text=("Omar's Kebabs");}
if ((fHotDog>fSalad)&&(fHotDog>fCrisps)&&(fHotDog>fBigwich)&&(fHotDog>fBigwichV)&&(fHotDog>fBiscuits)&&(fHotDog>fFryup)&&(fHotDog>fPancakes)&&(fHotDog>fScrapple)&&(fHotDog>fSoup)&&(fHotDog>fHash)&&(fHotDog>fMeatloaf)&&(fHotDog>fPie)&&(fHotDog>fBagel)&&(fHotDog>fStale)&&(fHotDog>fPizza)&&(fHotDog>fMilk)&&(fHotDog>fOmar)&&(fHotDog>fBar)&&(fHotDog>fBun))
{bd_favfood.Text=("Hot Dogs");}
if ((fBar>fSalad)&&(fBar>fCrisps)&&(fBar>fBigwich)&&(fBar>fBigwichV)&&(fBar>fBiscuits)&&(fBar>fFryup)&&(fBar>fPancakes)&&(fBar>fScrapple)&&(fBar>fSoup)&&(fBar>fHash)&&(fBar>fMeatloaf)&&(fBar>fPie)&&(fBar>fBagel)&&(fBar>fStale)&&(fBar>fPizza)&&(fBar>fMilk)&&(fBar>fHotDog)&&(fBar>fBun))
{bd_favfood.Text=("Gondola Bars");}
if ((fBar>fSalad)&&(fBun>fCrisps)&&(fBun>fBigwich)&&(fBun>fBigwichV)&&(fBun>fBiscuits)&&(fBun>fFryup)&&(fBun>fPancakes)&&(fBun>fScrapple)&&(fBun>fSoup)&&(fBun>fHash)&&(fBun>fMeatloaf)&&(fBun>fPie)&&(fBun>fBagel)&&(fBun>fStale)&&(fBun>fPizza)&&(fBun>fMilk)&&(fBun>fHotDog)&&(fBun>fBar))
{bd_favfood.Text=("Hot Dog Bun");}


//== EXPENSES ==//
bd_permits.Text=String.Format("%.2f",expense_permits);
bd_travel.Text=String.Format("%.2f",expense_travel);
bd_supplies.Text=String.Format("%.2f",expense_supplies);
bd_equipment.Text=String.Format("%.2f",expense_equipment);
bd_upgrades.Text=String.Format("%.2f",expense_upgrade);
bd_misc.Text=String.Format("%.2f",expense_misc);
float totalspent = (expense_equipment + expense_misc + expense_supplies + expense_upgrade + expense_travel + expense_permits);
bd_spent.Text=String.Format("$%.2f",totalspent);
//== INCOME ==//
income_totalsales=(income_totalsales+income_today);
income_tipstotal=(income_tipstotal+income_tipstoday);
bd_tipstoday.Text=String.Format("%.2f",income_tipstoday);
bd_tipstotal.Text=String.Format("%.2f",income_tipstotal);
bd_totalsales.Text=String.Format("%.2f",income_totalsales);
bd_salesnum.Text=String.Format("%.2f",income_today);
bd_miscinc.Text=String.Format("%.2f",income_misc);
bd_totalincome.Text=String.Format("$%.2f",income_total);
//== INFORMATION ==//
bd_fines.Text=String.Format("%d",times_fined);
bd_fineamt.Text=String.Format("%.2f",total_fines);
bd_totalsold.Text=String.Format("%d",total_solditems);
//== BALANCES ==//
bd_startb.Text=String.Format("$%.2f",balance_start);
bd_money.Text=String.Format("$%.2f",Money);
float bd_difference=(Money - balance_start);
bd_diff.Text=String.Format("$%.2f",bd_difference);
//==DYNAMIC TEXT SIZE ADJUSTER==//
if (bd_spent.Text.Length<=5){bd_spent.Font=3; bd_spent.SetPosition(181, 124);}
if ((bd_spent.Text.Length==6)||(bd_spent.Text.Length==7)){bd_spent.Font=0; bd_spent.SetPosition(181, 125);}
if (bd_spent.Text.Length==8){bd_spent.Font=1; bd_spent.SetPosition(181, 125);}
if (bd_spent.Text.Length>8){bd_spent.Font=4;  bd_spent.SetPosition(181, 127);}
if (bd_totalincome.Text.Length<=5){bd_totalincome.Font=3; bd_totalincome.SetPosition(268, 124);}
if ((bd_totalincome.Text.Length==6)||(bd_totalincome.Text.Length==7)){bd_totalincome.Font=0; bd_totalincome.SetPosition(268, 125);}
if (bd_totalincome.Text.Length==8){bd_totalincome.Font=1; bd_totalincome.SetPosition(268, 125);}
if (bd_totalincome.Text.Length>8){bd_totalincome.Font=4;  bd_totalincome.SetPosition(268, 127);}
//Blank the buttons
income_btn.NormalGraphic=6144; income_btn.MouseOverGraphic=6144;
expense_btn.NormalGraphic=6144; expense_btn.MouseOverGraphic=6144;
// GO! // GO! // GO! // GO!
gBreakdown.Visible=true; 
if (GetGlobalInt(1)==1){
if (kickedout==0){bd_Anim.Animate(175, 2, 3, eRepeat);}
if (kickedout==1){bd_Anim.Animate(175, 5, 5, eRepeat);}}
if (GetGlobalInt(1)==2){bd_Anim.Animate(175, 3, 3, eRepeat);}
if (GetGlobalInt(1)==3){bd_Anim.Animate(175, 1, 3, eRepeat);}
if (GetGlobalInt(1)==4){bd_Anim.Animate(175, 4, 3, eRepeat);}
Reveal.Animate(175, 0, 1, eOnce); mouse.Visible=true;}

function BrushTeeth(){
  donebrushing=false;
  clockspeed=99999;//'Member to reset this!
  if (GetGlobalInt(1)==1){toothbg.NormalGraphic=8200; brushesleft=15;}
  if (GetGlobalInt(1)==2){toothbg.NormalGraphic=9335; brushesleft=10;}

  gToothbrushing.Visible=true;
  brusharrows.Visible=true; brusharrows.NormalGraphic=8227;
  brusharrows.Animate(274, 1, 5, eRepeat);
  Wait(2);
  FadeIn(50);
  //Function ends in Global Repex when donebrushing==true; and gToothbrushing.visible=true;
}

function greetings(){
PCListen(); customerlisten();

int gratious=Random(2); PCTalk();
if (GetGlobalInt(1)==1){//Andrus
if (gratious==0){dText.Text=("Hello - I am Andrus."); blab3();
PCTalk(); dText.Text=("...I don't know of your name yet."); blab2();}
if (gratious==1){dText.Text=("It is nice to be meeting you."); blab2();
PCTalk(); dText.Text=("I am the news stand owner, Andrus."); blab3();}
if (gratious==2){dText.Text=("I am Andrus Poder."); blab3();
PCTalk(); dText.Text=("It is nice to be meeting you."); blab2();}}
if (GetGlobalInt(1)==2){//Melanie
if (gratious==0){dText.Text=("Hello! Nice to see a new face!"); blab3();}
if (gratious==1){dText.Text=("Hi! I'm Melanie!"); blab2();
PCTalk(); dText.Text=("I don't think we've met, before..."); blab2();}
if (gratious==2){dText.Text=("Hello! How are you today?"); blab3();
PCTalk(); dText.Text=("I love meeting new people."); blab2();}}
if (GetGlobalInt(1)==3){//Vinny
if (gratious==0){dText.Text=("Well, stranger - I go by Vinny."); blab3();
PCTalk(); dText.Text=("How about yourself?"); blab1();}
if (gratious==1){dText.Text=("Let's introduce ourselves."); blab2();
PCTalk(); dText.Text=("Vinny the bagel vendor, at your service."); blab2();}
if (gratious==2){dText.Text=("No reason to be strangers."); blab3();
PCTalk(); dText.Text=("I'm Vinny and I sell Bagels."); blab2();}}
if (GetGlobalInt(1)==4){//Logan
if (gratious==0){dText.Text=("And you are...?"); blab1();}
if (gratious==1){dText.Text=("Who are you?"); blab2();}
if (gratious==2){dText.Text=("What's your name?"); blab1();}}

PCListen();

if (salebuyer==("Andrus")){
customertalk(); dText.Text=("Yes. Good. My name is Andrus.");blab1(); boxadd("Andrus");
customertalk(); 
if (player.Room==5){dText.Text=("Please be noting the discount on tea and newspaper together.");}
if (player.Room!=5){dText.Text=("I am being a new person to the georgetown.");}
blab3();}

if (salebuyer==("Melanie")){
customertalk(); dText.Text=("Oh, sure.");blab1(); boxadd("Melanie");
customertalk(); dText.Text=("My name's Melanie! It's so nice to meet you.");blab3();
customertalk(); dText.Text=("I love meeting new people.");blab3();}

if (salebuyer==("Logan")){
customertalk(); dText.Text=("I'm Logan.");blab3();blab1(); boxadd("Logan");
customertalk(); 
if (player.Room==13){dText.Text=("You want a hot dog, or what?");blab3();}
if (player.Room!=13){dText.Text=("It's a real pleasure and all.");blab3();}
blab3();}

if (salebuyer==("Vinny")){
customertalk(); dText.Text=("I go by Vinny, myself.");blab3();blab1(); boxadd("Vinny");
customertalk(); 
    if ((milhour<4)||(milhour>21)){dText.Text=("And what a nice night it is tonight, huh?");blab3();}
    else{dText.Text=("And what a nice day it is today, huh?");blab3();}
}


if (salebuyer==("Toney")){
customertalk(); dText.Text=("Cool. I'm Toney.");blab1(); boxadd("Toney"); boxadd("Catacombs"); boxadd("Downtown");
customertalk(); dText.Text=("I run Catacombs restaurant on 6th avenue.");blab3();}

if (salebuyer==("Jenny")){customertalk();dText.Text=("Hi!");blab1(); boxadd("Jenny");
customertalk(); dText.Text=("I'm Jenny. Nice to meet you.");blab2();}

if (salebuyer==("Richard")){customertalk();dText.Text=("Hi there - I'm Richard.");blab1(); boxadd("Richard");}

if (salebuyer==("Seth")){customertalk();dText.Text=("I'm just Seth.");blab1();}

if (salebuyer==("Stephen")){customertalk();dText.Text=("I'm Stephen.");blab1();
customerlisten(); PCListen(); dName.Text=("Other Guy: "); dText.Text=("..."); blab1(); Wait(40);
PCTalk(); customerlisten(); dText.Text=("Stephen and...?"); blab1();
PCListen(); customertalk(); dText.Text=("I'm Stephen and... it's nice to meet you."); blab1();
customerlisten(); PCListen(); dName.Text=("Other Guy: "); dText.Text=("..."); blab1(); Wait(40);
}

if (salebuyer==("DC")){customertalk();dText.Text=("Just \"DC\" is fine.");blab1();
customertalk(); dText.Text=("So... just call me \"DC\", I guess.");blab2();}

if (salebuyer==("Troy")){customertalk();dText.Text=("Oh - Okay.");blab1(); boxadd("Troy");
customertalk(); dText.Text=("I'm Troy, by the way.");blab2();}

if (salebuyer==("Matts")){customertalk(); dText.Text=("Cool, man. Call me Matts.");blab1(); }

if (salebuyer==("George")){customertalk();dText.Text=("My name George Chan.");blab2();boxadd("George");}

if (salebuyer==("Marcus")){customertalk();dText.Text=("Nice to meet you, then.");blab1(); boxadd("Marcus");
customertalk(); dText.Text=("Name's Marcus.");blab1();}

if (salebuyer==("Faith")){customertalk();dText.Text=("Hi there! I'm Faith.");blab1(); boxadd("Faith"); boxadd("The Flying Pizzaria");
customertalk();
if (player.Room==31){dText.Text=("I'm just a Matty's cashier, as you can see."); blab1();
customertalk(); dText.Text=("I'll probably be a Matty's cashier for the rest of my life. Ha ha.");}
if (player.Room!=31){dText.Text=("I'm just a student here.");}
blab3();
}

if (salebuyer==("Eddie")){customertalk();dText.Text=("It's a pleasure to meet you.");blab1(); boxadd("Eddie"); boxadd("Eddie's Books");
customertalk();
if (player.Room==31){dText.Text=("My name is Eddie, and this is my store, here."); blab1();
customertalk(); dText.Text=("I hope, between me and the books, we can accommodate your interests today.");}
if (player.Room!=31){dText.Text=("My name is Eddie.");}
blab3();
}

if (salebuyer==("Betsy")){customertalk();dText.Text=("What's up?");blab1(); boxadd("Betsy"); boxadd("House of Cass");
customertalk(); dText.Text=("I'm Betsy.");blab1();}

if (salebuyer==("Thales")){customertalk();dText.Text=("Pleased to meet you.");blab1(); boxadd("Thales");
customertalk(); dText.Text=("I'm Deputy Officer Thales, and this is my jurisdiction.");blab4();}

if (salebuyer==("Clarence")){customertalk();dText.Text=("Yeah, yeah. Clarence McGillam.");blab1(); boxadd("Clarence");
customertalk(); dText.Text=("Let's just stick to the business at hand, why don't we?");blab4();}

if (salebuyer==("Johns")){customertalk();dText.Text=("Right.");blab1(); boxadd("Johns");
customertalk(); dText.Text=("Deputy officer Johns.");blab2();}

if (salebuyer==("Suchin")){customertalk();dText.Text=("Hi!");blab1(); boxadd("Su chin");
customertalk(); dText.Text=("My name Su Chin Li. I just out shopping, today.");blab4();}

if (salebuyer==("Kyam")){customertalk();dText.Text=("Cool.");blab1();boxadd("Kyam");
customertalk(); dText.Text=("My name, by the way, is Kyam.");blab3();}

if (salebuyer==("Meadow")){customertalk();dText.Text=("Hi there!");blab1(); boxadd("Meadow");
customertalk();
if (player.Room==32){dText.Text=("I'm Meadow."); blab1();
customertalk(); dText.Text=("Let me know if I can help you.");}
if (player.Room!=32){dText.Text=("I'm Meadow. Thanks for asking.");}
blab3();
}

if (salebuyer==("TJ")){customertalk();dText.Text=("How's it goin'?");blab1(); boxadd("TJ"); boxadd("Loyal Pawn");
customertalk(); dText.Text=("I'm T.J.");blab1();}

if (salebuyer==("Chris")){customertalk();dText.Text=("What's up?");blab1();boxadd("Chris");
if (GetGlobalInt(1)!=2){customertalk(); dText.Text=("I'm Chris, man.");blab1();}
if (GetGlobalInt(1)==2){customertalk(); dText.Text=("I'm Chris.");blab1();}}

if (salebuyer==("Sebastian")){customertalk();dText.Text=("How's it going?");blab1();boxadd("Sebastian");
customertalk(); dText.Text=("I'm Sebastian.");blab1();}

if (salebuyer==("Tim")){
customertalk();dText.Text=("Tim Bigby. B-I-G-B-Y.");blab2();boxadd("Tim Bigby");
customertalk(); dText.Text=("You can call me tim, though.");blab2();}

if (salebuyer==("Bramford")){customertalk();dText.Text=("I see.");blab1(); boxadd("Bramford");
customertalk(); dText.Text=("Just Call me bramford, my friend.");blab3();
customertalk();
if (player.Room==18){dText.Text=("If anything you see before you is in need of sanitation..."); blab1();
customertalk(); dText.Text=("I will bring justice to it swiftly.");}
if (player.Room!=18){dText.Text=("I am an eager patron of our city's street vendors."); blab1();
customertalk(); dText.Text=("We should talk about vending permits, some time."); boxadd("permits");
}
blab3();
}

if (salebuyer==("Ward")){customertalk();dText.Text=("Nice to meetcha.");blab1(); boxadd("Ward");
customertalk(); dText.Text=("Call me Ward-o. Or just ward is fine, too. Heh-heh.");blab4();}

if (salebuyer==("Stephanie")){
customertalk(); dText.Text=("Oh, hi.");blab1(); boxadd("Stephanie");
customertalk();
if (player.Room==33){dText.Text=("I'm stephanie."); blab1();
customertalk(); dText.Text=("I guess I forgot my name tag.");}
if (player.Room!=33){dText.Text=("I'm stephanie."); blab1();
customertalk(); dText.Text=("I'm actually on shift right now. This is my lunch break.");
}
blab3();
}


if (salebuyer==("Dick")){customertalk();dText.Text=("Howdy!");blab1(); boxadd("Dick");
customertalk(); dText.Text=("I'm dick.");blab2();}

if (salebuyer==("Christin")){customertalk();dText.Text=("Hello!");blab1(); boxadd("Christin");
customertalk(); dText.Text=("I'm Christin!");blab1();}

if (salebuyer==("Alice")){customertalk();dText.Text=("Okay then!");blab1(); boxadd("Alice"); boxadd("Georgetown Machinery");
customertalk(); 
if (player.Room==12){dText.Text=("I'm Alice Miles - this here's the shop.");blab2();}
if (player.Room!=12){dText.Text=("I'm Alice Miles - I run the machine shop on Collins.");blab2();}}

if (salebuyer==("Omar")){customertalk();dText.Text=("Omar.");blab1(); boxadd("Omar");
customertalk();
if (player.Room==34){dText.Text=("Try the eggeh, yeah?"); blab1();
customertalk(); dText.Text=("I make it fresh, you know?");}
if (player.Room!=34){dText.Text=("You ain't been to my cart, yet?"); blab1();
customertalk(); dText.Text=("I'm selling the best food, uh? You'll see. Everybody here loves me.");
}
blab3();
}

if (salebuyer==("Basinski")){customertalk();dText.Text=("Call me Basinski!");blab1();boxadd("Basinski");
customertalk(); dText.Text=("It's a pleasure to meet you!");blab2();}

if (salebuyer==("Dwayne")){customertalk();dText.Text=("Oh, Okay...?");blab1(); boxadd("Dwayne");
customertalk(); dText.Text=("I'm dwayne...");blab2();}

if (salebuyer==("Jessi")){customertalk();dText.Text=("Hello!");blab1();  boxadd("Jessi");
customertalk(); dText.Text=("My name's Jessi!");blab2();}

if (salebuyer==("Julian")){customertalk();dText.Text=("Well, hello!");blab1(); boxadd("Julian");
customertalk(); dText.Text=("I am julian.");blab2();}

if (salebuyer==("Rebecca")){customertalk();dText.Text=("Well, hello, sir!");blab1(); boxadd("Rebecca");
customertalk(); dText.Text=("I'm Rebecca. It's so nice to meet you.");blab2();}

if (salebuyer==("Harry")){
customertalk();dText.Text=("...do you really wanna know my name?");blab1(); 
customertalk(); dText.Text=("In Greece, where I came from, my name was Haros.");blab2();
customertalk(); dText.Text=("People understood that, and called me \"Haros\".");blab2();
customertalk(); dText.Text=("They said, \"Here, Haros! Take my money!\".");blab2();
customertalk(); dText.Text=("But here? It's different. Nobody knows that name.");blab2();
customertalk(); dText.Text=("When I first came to Georgetown, my boss started calling me \"Harry\".");blab2();
boxadd("Harry"); small_Harry+=1;
customertalk(); dText.Text=("Now, everybody calls me \"Harry\". They all say, \"Hey, Harry! When you gonna get a haircut?\"");blab2();
}

if (salebuyer==("Glenda")){
customertalk(); dText.Text=("I see.");blab1(); boxadd("Glenda"); boxadd("The Courthouse");
customertalk(); dText.Text=("My name is Glenda Marsh. I'm the official city clerk.");blab4();
if (player.Room==18){customertalk(); dText.Text=("One Part of this job involves answering your public information questions.");blab4();
boxadd("Bus Passes"); boxadd("Permits");
customertalk(); dText.Text=("I am also responsible for issuing all bus passes, vendor permits, and certifications."); blab1();}
}

if (salebuyer==("Melody")){customertalk();dText.Text=("Well in that case...");blab1(); boxadd("Melody"); 
customertalk(); dText.Text=("Just Call me Melody, love.");blab2();
customertalk();
if (player.Room==15){ boxadd("Five Star Meats"); dText.Text=("This here's five star meats, it is.");}
if (player.Room!=15){dText.Text=("...and don't be minding me messy old getup. Melody just got off work, she did."); blab1();}
}

if (salebuyer==("Barneys")){
customertalk();dText.Text=("I see.");blab1(); boxadd("Arthur and Elliot Barney"); boxadd("The Georgetown Roastierry");
salebuyer=("Arthur"); customertalk(); dText.Text=("My name is Arthur Barney - this is my brother, Elliot.");blab2();
salebuyer=("Elliot"); customertalk(); dText.Text=("Hello.");blab2();
PCTalk(); customerlisten(); dText.Text=("Hello."); blab1();
salebuyer=("Barneys"); PCListen(); customertalk(); dText.Text=("Welcome to the georgetown roastierry.");blab2();}

if (salebuyer==("The Three")){boxadd("The Three");
customertalk(); dText.Text=("We are known as 'the three.'");blab2();
Threetalk_P();dText.Text=("Philip."); blab1();
Threetalk_M();dText.Text=("Michael."); blab1();
Threetalk_S();dText.Text=("And I'm Steve.");blab1();}

if (salebuyer==("Nelly")){customertalk();dText.Text=("Ahoy, then!");blab1(); boxadd("Nelly");
customertalk(); dText.Text=("I be cap'n Nelly Cootalot! Dread pirate of high seas all!");blab2();}

if (salebuyer==("Seany")){
customertalk(); dText.Text=("I'm Seany.");blab1(); boxadd("Seany"); boxadd("Seany O'Fagan's");
customertalk(); dText.Text=("Thanks for comin' in.");blab3();}

if (salebuyer==("Thomas")){
  bool tommybugged;
customertalk();dText.Text=("Great."); blab1();
customerlisten(); dText.Text=("...");blab2();
PCTalk(); customerlisten();
if (GetGlobalInt(1)==1){dText.Text=("What is being your name, sir...?"); blab1();}
if (GetGlobalInt(1)==2){dText.Text=("...and you are?"); blab1();}
if (GetGlobalInt(1)==3){dText.Text=("Nice to meet you... Mr...?"); blab1();
  if (tommybugged==false){tommybugged=true;
  PCListen(); customerlisten(); dText.Text=("...");blab2();
  PCTalk(); customerlisten(); dText.Text=("I'm sorry - It's Doctor, then? Nice to meet you Dr...?"); blab1();
  PCListen(); customerlisten(); dText.Text=("...");blab2();
  PCTalk(); customerlisten(); dText.Text=("Colonel?"); blab1();
  PCListen(); customerlisten(); dText.Text=("...");blab2();
  PCTalk(); customerlisten(); dText.Text=("Cardinal?"); blab1();
  PCListen(); customerlisten(); dText.Text=("...");blab2();
  PCTalk(); customerlisten(); dText.Text=("Chef?"); blab1();
  PCListen(); customerlisten(); dText.Text=("...");blab2();
  PCTalk(); customerlisten(); dText.Text=("It's just that I haven't gotten your name yet..."); blab1();}
}
if (GetGlobalInt(1)==4){dText.Text=("I'm asking for your name. You deaf?"); blab1();}
PCListen(); customertalk(); dText.Text=("I'd prefer to remain a stranger.");blab2();
PCListen(); customertalk(); dText.Text=("If you know my name, you'll start wanting things from me.");blab2();
}

PCTalk(); customerlisten();
if (salebuyer!=("Thomas")){
if (GetGlobalInt(1)==1){dText.Text=("Yes. Good. OK."); blab1();}
if (GetGlobalInt(1)==2){dText.Text=String.Format("Nice to meet you, %s!",salebuyer); blab1();}
if (GetGlobalInt(1)==3){dText.Text=("So we're strangers no more."); blab1();}
if (GetGlobalInt(1)==4){dText.Text=("Great."); blab1();}}
if (salebuyer==("Thomas")){
if (GetGlobalInt(1)==1){dText.Text=("...Okay."); blab1();}
if (GetGlobalInt(1)==2){dText.Text=("Well, that's fine, I guess."); blab1();}
if (GetGlobalInt(1)==3){dText.Text=("Strangers, then."); blab1();}
if (GetGlobalInt(1)==4){dText.Text=("Whatever."); blab1();}}

dText.Text=(" "); dName.Text=(" "); //Blank
PCListen(); customerlisten();//Shut up
}//End Greetin's.

///////////////////CHARBUYS////////////////

function Eddiebuy(){
Eddie.FollowCharacter(null, 0, 0); Eddie.StopMoving(); TalkPop(); Wait(40); salebuyer=("Eddie");
PCListen(); customerlisten(); 

if (GetGlobalInt(1)==1){ // Andrus
customerlisten(); PCTalk(); dText.Text=("Hello, sir."); blab1(); 
customertalk(); PCListen(); dText.Text=("Hello vendor."); blab1(); 
customertalk(); PCListen(); dText.Text=("How are things? How is your business faring?"); blab4(); 
customerlisten(); PCTalk(); dText.Text=("Oh... Uhh..."); blab2();
customerlisten(); PCTalk(); dText.Text=("Are you not being mad now?"); blab3();
customertalk(); PCListen(); dText.Text=("I did not come to apologize for my anger - though I am sorry for that."); blab5(); 
customertalk(); PCListen(); dText.Text=("It is never my intention to be coarse and I meant no harm by it."); blab5(); 
customertalk(); PCListen(); dText.Text=("However - the reason for my visit is indeed practical."); blab4(); 
customertalk(); PCListen(); dText.Text=("I do hope you'll hear me out on this - My offer for you is simple."); blab5(); 
PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); 
dEddieoffer_1.Start();}

if (GetGlobalInt(1)==2){//Melanie First Conv
customerlisten(); PCTalk(); dText.Text=("Hello, Eddie."); blab1(); 
customertalk(); PCListen(); dText.Text=("Hello vendor."); blab1(); 
customertalk(); PCListen(); dText.Text=("How are things? How is your business faring?"); blab4(); 
customerlisten(); PCTalk(); dText.Text=("Oh... Uhh..."); blab2();
customerlisten(); PCTalk(); dText.Text=("I'm confused. I thought you were mad at me."); blab2();
customertalk(); PCListen(); dText.Text=("I did not come to apologize for my anger - though I am sorry for that."); blab5(); 
customertalk(); PCListen(); dText.Text=("It is never my intention to be coarse and I meant no harm by it."); blab5(); 
customertalk(); PCListen(); dText.Text=("However - the reason for my visit is indeed practical."); blab4(); 
customertalk(); PCListen(); dText.Text=("I do hope you'll hear me out on this - My offer for you is simple."); blab5(); 
PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); 
dEddieoffer_1.Start();}


if (GetGlobalInt(1)==3){//Vinny First Conv
customerlisten(); PCTalk(); dText.Text=("Hello, sir."); blab1(); 
customertalk(); PCListen(); dText.Text=("Hello vendor."); blab1(); 
customertalk(); PCListen(); dText.Text=("How's are things? How is your business faring?"); blab4(); 
customerlisten(); PCTalk(); dText.Text=("Oh... Uhh..."); blab2();
customerlisten(); PCTalk(); dText.Text=("So you don't hate me anymore?"); blab3();
customertalk(); PCListen(); dText.Text=("I did not come to apologize for my anger - though I am sorry for that."); blab5(); 
customertalk(); PCListen(); dText.Text=("It is never my intention to be coarse and I meant no harm by it."); blab5(); 
customertalk(); PCListen(); dText.Text=("However - the reason for my visit is indeed practical."); blab4(); 
customertalk(); PCListen(); dText.Text=("I do hope you'll hear me out on this - My offer for you is simple."); blab5(); 
PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); 
dEddieoffer_1.Start();}

if (GetGlobalInt(1)==4){//Logan First Conv
customerlisten(); PCTalk(); dText.Text=("Hello, sir."); blab1(); 
customertalk(); PCListen(); dText.Text=("Hello vendor."); blab1(); 
customertalk(); PCListen(); dText.Text=("How's are things? How is your business faring?"); blab4(); 
customerlisten(); PCTalk(); dText.Text=("What? Are you kidding?"); blab3();
customerlisten(); PCTalk(); dText.Text=("Why are you even here?"); blab3();
customerlisten(); PCTalk(); dText.Text=("Yesterday you were yelling at me!"); blab3();
customertalk(); PCListen(); dText.Text=("I did not come to apologize for my anger - though I am sorry for that."); blab5(); 
customertalk(); PCListen(); dText.Text=("It is never my intention to be coarse and I meant no harm by it."); blab5(); 
customertalk(); PCListen(); dText.Text=("However - the reason for my visit is indeed practical."); blab4(); 
customertalk(); PCListen(); dText.Text=("I do hope you'll hear me out on this - My offer for you is simple."); blab5(); 
PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); 
dEddieoffer_1.Start();}

}// == End Eddiebuy

//=================  Customer Dialogs, or: COMMERCE!!! =======================

function Richardbuy(){
salebuyer=("Richard");
if (Menu.ItemCount==0){Richard.LockView(61); SetGlobalInt(16, 0); 
PCListen(); customertalk(); dText.Text=("...not selling anything yet?"); blab2();

customerlisten();  PCTalk(); 
if (GetGlobalInt(1)==1){dText.Text=("I am still needing to get things to sell. "); blab3();}
if (GetGlobalInt(1)==2){dText.Text=("Nope, not yet. I still need to pick a few things up. "); blab3();}
if (GetGlobalInt(1)==3){dText.Text=("Nope, not yet. I still need to pick a few things up. "); blab3();}
if (GetGlobalInt(1)==4){dText.Text=("Nope, nothing yet. "); blab1();}

customertalk(); PCListen (); dText.Text=("Okay. I'll be around. "); blab2(); 
StopPop(); SetGlobalInt(16, 0); Richard.UnlockView(); Richard.breakaway();}
else if (Menu.ItemCount!=0){dName.Text=("Richard");

if (GetGlobalInt(416)==0){//First Conv
SetGlobalInt(416, 1); //Introduced by now.
if (GetGlobalInt(1)==1){//Andrus First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("I'll take one %s, please.",dots); blab2();
customerlisten();  PCTalk(); dText.Text=("Yes. Good. Okay."); blab2();
customerlisten();  PCListen(); fRichard+=1;
dName.Text=(" "); dText.Text=(" ");
Richard.sellRandom();}

if (GetGlobalInt(1)==2){//Melanie First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("So, yeah. I'll take one %s, please.",dots); blab3();
customerlisten();  PCTalk(); dText.Text=("Sure!"); blab1();
customerlisten();  PCListen(); fRichard+=1;
dText.Text=(" "); dName.Text=(" ");
Richard.sellRandom();}

if (GetGlobalInt(1)==3){//Vinny First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("So, yeah. I'll take one %s, please.",dots); blab3();
customerlisten();  PCTalk(); dText.Text=("Sure!"); blab1();
customerlisten();  PCListen(); fRichard+=1;
dText.Text=(" "); dName.Text=(" ");
Richard.sellRandom();}

if (GetGlobalInt(1)==4){//Logan First Conv
Spin();
customerlisten(); PCTalk(); dText.Text=("What can I getcha?"); blab1();
customertalk(); PCListen (); dText.Text=("I, uhh..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("One %s, please.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Sure!"); blab1();
customerlisten();  PCListen(); fRichard+=1;
dText.Text=(" "); dName.Text=(" ");
Richard.sellRandom();}}

else if (GetGlobalInt(416)!=0){
int rbd=Random(2);
if (rbd==0){//Richard Wants A Latte
if (Menu.Contains("Latte")){//YOU SELL LATTES?!
customertalk(); PCListen(); dText.Text=("Wow, a latte would be great."); blab3();
customerlisten();  PCListen(); fRichard+=1;
dText.Text=(" "); dName.Text=(" ");
Richard.sellLatte();}
else if (!Menu.Contains("Latte")){//No lattes.
Spin();
customertalk(); PCListen (); dText.Text=("Oh, I thought you sold lattes..."); blab3();
customerlisten();  PCTalk(); 
if (GetGlobalInt(1)==1){dText.Text=("What is lattes? "); blab3();}
if (GetGlobalInt(1)==2){dText.Text=("Nope, not yet. I still need to pick a few things up. "); blab3();}
if (GetGlobalInt(1)==3){dText.Text=("Lattes I do not have. "); blab3();}
if (GetGlobalInt(1)==4){dText.Text=("What? Are you kidding? "); blab2();}
customertalk(); PCListen (); dText.Text=("That's okay... I'll take..."); blab3();
customertalk(); PCListen (); dText.Text=("Hmm....."); blab1();
customertalk(); PCListen (); dText.Text=("Let's see..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("I'll take one %s, please.",dots); blab2();
customerlisten();  PCTalk(); 
if (GetGlobalInt(1)==1){dText.Text=("Yes. Good. OK. "); blab1();}
if (GetGlobalInt(1)==2){dText.Text=("Right away! "); blab1();}
if (GetGlobalInt(1)==3){dText.Text=("Sure thing! "); blab1();}
if (GetGlobalInt(1)==4){dText.Text=("Sure - OK. "); blab1();}
customerlisten();  PCListen(); fRichard+=1;
dText.Text=(" "); dName.Text=(" ");
Richard.sellRandom();}
}

else if (rbd==1){//Richard Just Wants Coffee
    if (Menu.Contains("Coffee")){
      if (upCoffee==("S")){
        customertalk();  PCListen(); dText.Text=("Holy moly! This coffee smells unbelievable!"); blab4();
        customerlisten();PCTalk();   dText.Text=("It's... It's pretty special stuff."); blab3();
        customertalk();  PCListen(); dText.Text=("What is it?"); blab1();
        customerlisten();PCTalk();   dText.Text=("Well, it's... It's the best coffee in the world."); blab4();
        customertalk();  PCListen(); dText.Text=("Haha... Really?"); blab1();
        customerlisten();PCTalk();   dText.Text=("I'm afraid so."); blab4();
        customertalk(); PCListen(); dText.Text=("Well, Sign me up!"); blab1();
        customerlisten();  PCListen(); fRichard+=1;
        dText.Text=(" "); dName.Text=(" ");
        Richard.sellCoffee_Any();
    }//End S

      else if (upCoffee==("A")){
        customertalk();  PCListen(); dText.Text=("Your coffee smells amazing."); blab3();
        customerlisten();  PCTalk(); 
        if (GetGlobalInt(1)==1){dText.Text=("Yes. It is being a good coffee. "); blab1();}
        if (GetGlobalInt(1)==2){dText.Text=("Yeah, it's the good stuff!"); blab1();}
        if (GetGlobalInt(1)==3){dText.Text=("I only sell the good stuff."); blab1();}
        if (GetGlobalInt(1)==4){dText.Text=("Yeah - it's alright. "); blab1();}
        customertalk();  PCListen(); dText.Text=("Sign me up."); blab1();
        customerlisten();  PCListen(); fRichard+=1;
        dText.Text=(" "); dName.Text=(" ");
        Richard.sellCoffee_Any();
    }//End A
      else if (upCoffee==("B")){
        customertalk();  PCListen(); dText.Text=("That coffee smells pretty good."); blab3();
        customerlisten();  PCTalk(); 
        if (GetGlobalInt(1)==1){dText.Text=("Yes. It is being a good coffee. "); blab1();}
        if (GetGlobalInt(1)==2){dText.Text=("It's pretty good!"); blab1();}
        if (GetGlobalInt(1)==3){dText.Text=("I only sell the good stuff."); blab1();}
        if (GetGlobalInt(1)==4){dText.Text=("Yeah - it's alright. "); blab1();}
        customerlisten();  PCListen(); fRichard+=1;
        dText.Text=(" "); dName.Text=(" ");
        Richard.sellCoffee_Any();
    }//End B

     else if (upCoffee==("C")){
        customertalk();PCListen(); dText.Text=("How 'bout a cup of coffee?"); blab3();
        customerlisten();PCTalk();   dText.Text=("Coming right up."); blab1();
        customertalk();PCListen(); dText.Text=("Excellent."); blab1();
        customerlisten();  PCListen(); fRichard+=1;
        dText.Text=(" "); dName.Text=(" ");
        Richard.sellCoffee_Any();
    }//End C

      else if (upCoffee==("D")){
        customertalk();PCListen(); dText.Text=("Coffee?"); blab3();
        customerlisten();PCTalk();
        if (GetGlobalInt(1)==1){dText.Text=("Yes. It is being just a moment. "); blab1();}
        if (GetGlobalInt(1)==2){dText.Text=("That's what I'm here for!"); blab1();}
        if (GetGlobalInt(1)==3){dText.Text=("Coming right up."); blab1();}
        if (GetGlobalInt(1)==4){dText.Text=("Yeah - just a minute. "); blab1();}
        customertalk();PCListen(); dText.Text=("Can't wait."); blab1();
        customerlisten();  PCListen(); fRichard+=1;
        dText.Text=(" "); dName.Text=(" ");
        Richard.sellCoffee_Any();
        }
    }

else if (!Menu.Contains("Coffee")){
customertalk();PCListen(); dText.Text=("How 'bout a cup of coffee?"); blab3();

customerlisten();PCTalk();
if (GetGlobalInt(1)==1){dText.Text=("I am having no coffee."); blab2();}
if (GetGlobalInt(1)==2){dText.Text=("I don't have drip coffee."); blab2();}
if (GetGlobalInt(1)==3){dText.Text=("Hmm... No coffee today."); blab2();}
if (GetGlobalInt(1)==4){dText.Text=("I don't sell coffee."); blab2();}

  customertalk();PCListen(); dText.Text=("Really? You don't?"); blab1();
  
  if (!Menu.Contains("Americano")){
    customerlisten();PCTalk();   dText.Text=("Not today."); blab1();
    customertalk();PCListen(); dText.Text=("M'alright."); blab1();
    customerlisten();  PCListen();
    dText.Text=(" "); dName.Text=(" ");
    StopPop(); customerbreakaway();
    }
  if (Menu.Contains("Americano")){
    customerlisten();  PCTalk(); 
    if (GetGlobalInt(1)==1){dText.Text=("Try Americano, please. "); blab1();}
    if (GetGlobalInt(1)==2){dText.Text=("How about an Americano?"); blab1();
    customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
    if (GetGlobalInt(1)==3){dText.Text=("How about an Americano?"); blab1();
    customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
    if (GetGlobalInt(1)==4){dText.Text=("Try an Americano instead."); blab1();}
    customertalk();PCListen(); dText.Text=("Sure - OK."); blab1();
    customerlisten();  PCListen(); fRichard+=1;
    dText.Text=(" "); dName.Text=(" ");
    Richard.sellAmericano();
    }
  }
}

else if (rbd==2){//Richard Wants Whatever's on the Menu
Spin();
customertalk();PCListen(); dText.Text=("I'll take..."); blab2();
customertalk();PCListen(); dText.Text=String.Format("How about... That %s sounds pretty good.", dots); blab4();
customerlisten();  PCListen(); fRichard+=1;
dText.Text=(" "); dName.Text=(" ");
Richard.sellRandom();}
}}}


//-----------------------TONEYBUY--------TONEYBUY--------------------TONEY BUY-------------------///////////
function Toneybuy(){
PCListen(); customerlisten(); SetGlobalInt(14, 0);
if (Menu.ItemCount==0){ 
PCListen(); customertalk(); dText.Text=("What the Hell is this? Nothing to sell, yet?"); blab2(); 
PCTalk(); customerlisten(); dText.Text=("No, nothing yet. I gotta run some errands first. "); blab3(); 
PCListen(); customertalk(); dText.Text=("Well, I'll be ready to buy when you've got something to sell me. "); blab4(); 
StopPop(); Toney.UnlockView(); Toney.breakaway();}
else if (Menu.ItemCount!=0){
dName.Text=("Toney"); Toney.LockView(52); int rbd=Random(2); 

if ((ToneyThanked==0)&&(Tim2.InventoryQuantity[Chainwallet.ID]!=0)){ToneyThanked=1;
customertalk(); dText.Text=("I wanted to say 'thanks' for the new wallet, so I brought you a present.");blab1();
customertalk(); dText.Text=("We've got cases and cases of cups at the restaurant. Do you need any?");blab1();
customertalk(); dText.Text=("I also brought a few pounds of coffee. We've got tons of it laying around the freezer.");blab1();
customerlisten(); PCListen(); dText.Text=(" "); dName.Text=(" ");
PlaySound(9); TopItem("Got a box of Cups!","free",1268); cups_remaining+=500; if (cSlot1.InventoryQuantity[Cups.ID]==0){cSlot1.AddInventory(Cups);}
PlaySound(9); TopItem("Got Coffee: Grade B!","free",9);coffee_b_remaining+=30; purchased_coffeeB+=30; if (player.InventoryQuantity[CoffeeB.ID]==0){player.AddInventory(CoffeeB);}}

if (superd==13){//TRAILER VERSION
    readytosell=false;
    customertalk(); dText.Text=("Hey Andrus.");blab1();//TONEY
    customerlisten(); PCTalk(); dText.Text=("Yes, hello.");blab1();//ANDRUS
    PCListen(); customertalk(); dText.Text=("How's the, uhh, newspaper business?");blab1();//TONEY
    customerlisten(); PCListen(); dText.Text=(" "); dName.Text=(" ");
    dTrailer1.Start();
}

else{
if (rbd==0){//Toney Just Wants Coffee
       if ((Menu.Contains("Coffee"))&&(upCoffee==("S"))){
customertalk();  PCListen(); dText.Text=("Holy shit! This coffee smells unbelievable!"); blab1();
customerlisten();PCTalk();   dText.Text=("It's... It's pretty special stuff."); blab1();
customertalk();  PCListen(); dText.Text=("What is it?"); blab1();
customerlisten();PCTalk();   dText.Text=("Well, it's... It's the best coffee in the world."); blab1();
customertalk();  PCListen(); dText.Text=("Haha... Really? Well, Sign me up."); blab1();
fToney+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Toney.sellCoffee_Any();}
else if ((Menu.Contains("Coffee"))&&(upCoffee==("A"))){
customertalk();  PCListen(); dText.Text=("That coffee smells pretty good."); blab1();
customerlisten();PCTalk();   dText.Text=("Yeah, it sure keeps me going."); blab1();
customertalk();  PCListen(); dText.Text=("Sign me up."); blab1();
fToney+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Toney.sellCoffee_Any();}
else if ((Menu.Contains("Coffee"))&&(upCoffee==("B"))){
customertalk();  PCListen(); dText.Text=("That coffee smells pretty good."); blab1();
customerlisten();PCTalk();   dText.Text=("Yeah, it sure keeps me going."); blab1();
customertalk();PCListen(); dText.Text=("Sign me up."); blab1();
fToney+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Toney.sellCoffee_Any();}
else if ((Menu.Contains("Coffee"))&&(upCoffee==("C"))){
customertalk();PCListen(); dText.Text=("How 'bout a cup of coffee?"); blab1();
customerlisten();PCTalk();   dText.Text=("Coming right up."); blab1();
customertalk();PCListen(); dText.Text=("Excellent."); blab1();
fToney+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Toney.sellCoffee_Any();}
else if ((Menu.Contains("Coffee"))&&(upCoffee==("D"))){
customertalk();PCListen(); dText.Text=("How 'bout a cup of coffee?"); blab1();
customerlisten();PCTalk();   dText.Text=("Coming right up."); blab1();
customertalk();PCListen(); dText.Text=("Excellent."); blab1();
fToney+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Toney.sellCoffee_Any();}
else if (!Menu.Contains("Coffee")){
customertalk();PCListen(); dText.Text=("How 'bout a cup of coffee?"); blab1();
customerlisten();PCTalk();   dText.Text=("Hmm... No coffee today."); blab1();
customertalk();PCListen(); dText.Text=("Really? You don't have coffee?"); blab1();
if (!Menu.Contains("Americano")){
customerlisten();PCTalk(); dText.Text=("Not today."); blab1();
customertalk();PCListen(); dText.Text=("M'alright."); blab1();
fToney+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
StopPop(); customerbreakaway();}
if (Menu.Contains("Americano")){
customerlisten();  PCTalk(); 
if (GetGlobalInt(1)==1){dText.Text=("Try Americano, please. "); blab1();}
if (GetGlobalInt(1)==2){dText.Text=("How about an Americano?"); blab1();
customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
if (GetGlobalInt(1)==3){dText.Text=("How about an Americano?"); blab1();
customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
if (GetGlobalInt(1)==4){dText.Text=("Try an Americano instead."); blab1();}
customertalk(); PCListen(); dText.Text=("That's just like regular coffee, right?"); blab3();
PCTalk(); customerlisten(); dText.Text=("Yeah - more or less."); blab2();
fToney+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Toney.sellAmericano();}}}

else if (rbd==1){//Toney Will Take Item Four on the Menu
if (Menu.ItemCount >= 4){
customertalk();PCListen(); dText.Text=String.Format("How about... That %s sounds pretty good.", Menu.Items[3]); blab1();
fToney+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Toney.sellMenu3();}
else if ((Menu.ItemCount <= 3) && (Menu.ItemCount >2)){
customertalk();PCListen(); dText.Text=("I'll take..."); blab1();
customertalk();PCListen(); dText.Text=String.Format("How about... That %s sounds pretty good.", Menu.Items[2]); blab1();
fToney+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Toney.sellMenu2();
}
else if ((Menu.ItemCount <= 2) && (Menu.ItemCount != 0)){
customertalk();PCListen(); dText.Text=("I'll take..."); blab1();
customertalk();PCListen(); dText.Text=String.Format("How about... That %s sounds pretty good.", Menu.Items[0]); blab1();
fToney+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Toney.sellMenu0();}
}


else if (rbd==2){//Toney Forgot his wallet!
if (Tim2.InventoryQuantity[Chainwallet.ID]!=0){//Using Tim2 for check, because Toney is walmart's eqp
Spin();
customertalk();PCListen(); dText.Text=("Thanks again for the new wallet."); blab1();
customertalk();PCListen(); dText.Text=("I keep trying to lose it, but I can't."); blab1();
customerlisten();PCTalk(); dText.Text=("You're welcome."); blab1();
customertalk(); PCListen(); dText.Text=String.Format("I'll take that %s, now that I can pay for it.",dots); blab1();
customerlisten(); PCListen(); dText.Text=(" "); dName.Text=(" ");
Toney.sellRandom();}
if (Tim2.InventoryQuantity[Chainwallet.ID]==0){//Using Tim2 for check, because Toney is walmart's eqp
customertalk();PCListen(); dText.Text=("I'll take..."); blab1();
customertalk();PCListen(); dText.Text=("Oh, shoot. I forgot my damn wallet."); blab1();
customerlisten(); PCListen(); dText.Text=(" "); dName.Text=(" "); 
if (cSlot2.InventoryQuantity[Chainwallet.ID]!=0){
  if (small_Toney!=0){dToneywallet.SetOptionState(2, eOptionOn);}
if (small_Toney==0){dToneywallet.SetOptionState(3, eOptionOn);}}
dToneywallet.Start();}
}
}}}


////////////////MARCUSBUY////////////////
function Marcusbuy(){
PCListen(); customerlisten(); SetGlobalInt(21, 0);
if (Menu.ItemCount==0){ 
PCListen(); customertalk(); dText.Text=("You don't have anything I want."); blab1(); 
PCTalk(); customerlisten(); dText.Text=("Well... There's nothing on the menu. "); blab2(); 
PCListen(); customertalk(); dText.Text=("Maybe I'll come back."); blab1(); 
PCListen(); customertalk(); dText.Text=("Maybe I won't."); blab1(); 
PCTalk(); customerlisten(); dText.Text=("See you soon. "); blab1(); 
StopPop(); SetGlobalInt(21, 0); Marcus.UnlockView(); Marcus.breakaway();}
else if (Menu.ItemCount!=0){
dName.Text=("Marcus: "); Marcus.LockView(87); int rbd=Random(2);  

if (rbd==0){//Marcus Wants Whatever
if (Menu.ItemCount >= 3){
Spin();
customertalk();PCListen(); dText.Text=String.Format("%s? Psh. Okay.", dots); blab1();
customerlisten(); PCListen(); 
fMarcus+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Marcus.sellRandom();}
else if ((Menu.ItemCount <= 2) && (Menu.ItemCount != 0)){
if (GetGlobalInt(1)==2){customertalk();PCListen(); dText.Text=String.Format("One %s, my good lady.", Menu.Items[0]); blab1();}
if (GetGlobalInt(1)!=2){customertalk();PCListen(); dText.Text=String.Format("One %s, my good man.", Menu.Items[0]); blab1();}
fMarcus+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Marcus.sellMenu0();}}

else if (rbd==1){//Marcus Would Like Your New Thing
if (GetGlobalInt(1)==1){//Wants a Newspaper
customertalk(); PCListen(); dText.Text=("I needs me a copy of the Georgetonian."); blab1();
if (paper_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Yes, sure. Okay."); blab1();
fMarcus+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Marcus.sellGeorgetonian();}
else if (paper_remaining<=0){
customerlisten();  PCTalk(); dText.Text=("Sorry, I am out of Georgetonians for today."); blab1();
customertalk();  PCListen(); dText.Text=("Errr... Say what now?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yes, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Marcus: "); dText.Text=("..."); blab1();}
customerlisten();  PCTalk(); dText.Text=("Thank you, sir!"); blab1();
PCListen(); customerlisten(); StopPop(); 
SetGlobalInt(21, 0); Marcus.UnlockView(); Marcus.breakaway();}

if (GetGlobalInt(1)==2){//Marcus Wants a Coffee Beverage: You Choose
customertalk();  PCListen(); dText.Text=("I needs me some coffee."); blab1();
customerlisten();  PCTalk(); dText.Text=("What are you in the mood for?"); blab1();
customertalk();  PCListen(); dText.Text=("I can't decide. What do you think?"); blab1();
customerlisten();  PCListen(); dName.Text=("Melanie: "); dText.Text=(" "); blab1();

if (Menu.Contains("Coffee")){dMarcus_coffee.SetOptionState(1, eOptionOn);}
if (!Menu.Contains("Coffee")){dMarcus_coffee.SetOptionState(1, eOptionOff);}

if (Menu.Contains("Cappuccino")){dMarcus_coffee.SetOptionState(2, eOptionOn);}
if (!Menu.Contains("Cappuccino")){dMarcus_coffee.SetOptionState(2, eOptionOff);}

if (Menu.Contains("Latte")){dMarcus_coffee.SetOptionState(3, eOptionOn);}
if (!Menu.Contains("Latte")){dMarcus_coffee.SetOptionState(3, eOptionOff);}

if (Menu.Contains("Mocha")){dMarcus_coffee.SetOptionState(4, eOptionOn);}
if (!Menu.Contains("Mocha")){dMarcus_coffee.SetOptionState(4, eOptionOff);}

if (Menu.Contains("Chai Tea")){dMarcus_coffee.SetOptionState(5, eOptionOn);}
if (!Menu.Contains("Chai Tea")){dMarcus_coffee.SetOptionState(5, eOptionOff);}

if (Menu.Contains("Chai Latte")){dMarcus_coffee.SetOptionState(6, eOptionOn);}
if (!Menu.Contains("Chai Latte")){dMarcus_coffee.SetOptionState(6, eOptionOff);}

if (Menu.Contains("Bagel")){dMarcus_coffee.SetOptionState(7, eOptionOn);}
if (!Menu.Contains("Bagel")){dMarcus_coffee.SetOptionState(7, eOptionOff);}

if (Menu.Contains("Pipeline Crest")){dMarcus_coffee.SetOptionState(8, eOptionOn);}
if (!Menu.Contains("Pipeline Crest")){dMarcus_coffee.SetOptionState(8, eOptionOff);}

if (Menu.Contains("Pipeline Rinse")){dMarcus_coffee.SetOptionState(9, eOptionOn);}
if (!Menu.Contains("Pipeline Rinse")){dMarcus_coffee.SetOptionState(9, eOptionOff);}
dMarcus_coffee.Start();}

if (GetGlobalInt(1)==3){//Marcus Wants a Bagel
customertalk(); PCListen(); dText.Text=("Make it a bagel, good sir."); blab1();
if (bagel_plain_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Excellent choice."); blab1();

fMarcus+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Marcus.sellBagel_Plain();}
else if (bagel_plain_remaining<=0){
customerlisten();  PCTalk(); dText.Text=("Sorry, I'm actually out of Bagels today."); blab1();
customertalk();  PCListen(); dText.Text=("Errr... Say what now?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yes, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Marcus: "); dText.Text=("..."); blab1();
customertalk();  PCListen(); dText.Text=("Good day, sir!"); blab1();
PCListen(); customerlisten(); StopPop(); 
SetGlobalInt(21, 0); Marcus.UnlockView(); Marcus.breakaway();}}

if (GetGlobalInt(1)==4){//Marcus Wants a Chilli Dog
customertalk(); PCListen(); dText.Text=("Make it a hot dog, good sir."); blab1();
if ((hotdogs_remaining!=0)&&(buns_remaining!=0)){
customerlisten();  PCTalk(); dText.Text=("That's what I like to hear."); blab1();
fMarcus+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Marcus.sellHotdog();}
else if ((hotdogs_remaining<=0)||(buns_remaining<=0)){
customerlisten();  PCTalk(); dText.Text=("I'm out of doggies today."); blab1();
customertalk();  PCListen(); dText.Text=("Errr... Say what now?"); blab1();
customerlisten();  PCTalk(); dText.Text=("No more hot dogs."); blab1();
customerlisten();  PCListen(); dName.Text=("Marcus: "); dText.Text=("..."); blab1();
customertalk();  PCListen(); dText.Text=("Good day, sir!"); blab1();
PCListen(); customerlisten(); StopPop(); 
SetGlobalInt(21, 0); Marcus.UnlockView(); Marcus.breakaway();}}
}

else if (rbd==2){//Marcus Would Like Soda
if (Menu.Contains("Pipeline Crest")){  
PCListen(); customertalk(); dText.Text=("Ooo!"); blab1(); 
PCListen(); customertalk(); dText.Text=("I would absolutely love a can of Pipeline Crest."); blab1(); 
PCTalk(); customerlisten(); dText.Text=("Oh, okay."); blab1(); 
fMarcus+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Marcus.sellCrest();}
else if ((!Menu.Contains("Pipeline Crest"))&&(Menu.Contains("Pipeline Rinse"))){
PCListen(); customertalk(); dText.Text=("Hmmm... You don't have Pipeline Crest?"); blab1(); 
PCTalk(); customerlisten(); dText.Text=("Just... umm..."); blab1(); 
PCTalk(); customerlisten(); dText.Text=("Just Pipeline Rinse."); blab1(); 
PCListen(); customertalk(); dText.Text=("Oh, okay."); blab1(); 
PCListen(); customertalk(); dText.Text=("One of those, then."); blab1(); 
PCListen(); customertalk(); dText.Text=("I guess."); blab1(); 
fMarcus+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Marcus.sellRinse();}
else if ((!Menu.Contains("Pipeline Crest"))&&(!Menu.Contains("Pipeline Rinse"))){
PCListen(); customertalk(); dText.Text=("So..."); blab1(); 
PCListen(); customertalk(); dText.Text=("You don't have any soda?"); blab1(); 
PCTalk(); customerlisten(); dText.Text=("Not today."); blab1();
PCListen(); customertalk(); dText.Text=("Too bad."); blab1();
StopPop(); SetGlobalInt(21, 0); Marcus.UnlockView(); Marcus.breakaway();}
}}}

////////////////JennyBUY////////////////
function Jennybuy(){
PCListen(); customerlisten(); SetGlobalInt(15, 0);
if (Menu.ItemCount==0){
PCListen(); customertalk(); dText.Text=("Are you selling anything?"); blab1(); 
PCTalk(); customerlisten(); dText.Text=("No, not yet... "); blab1(); 
PCListen(); customertalk(); dText.Text=("Maybe I'll come back."); blab1(); 
PCTalk(); customerlisten(); dText.Text=("See you soon. "); blab1(); 
StopPop(); Jenny.UnlockView(); Jenny.breakaway();}
else if (Menu.ItemCount!=0){
dName.Text=("Jenny: "); int rbd=Random(2);  

if (rbd==0){//Jenny Wants Whatever
Spin();
customertalk();PCListen(); dText.Text=String.Format("I'd like a %s.", dots); blab1();
fJenny+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jenny.sellRandom();}

else if (rbd==1){//Jenny Would Like Your New Thing
if (GetGlobalInt(1)==1){//Wants a Newspaper
customertalk(); PCListen(); dText.Text=("Could I get a copy of the Georgetonian, please?"); blab1();
if (paper_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Yes, sure. Okay."); blab1();
fJenny+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jenny.sellGeorgetonian();}
else if (paper_remaining<=0){
customerlisten();  PCTalk(); dText.Text=("Sorry, I am out of Georgetonians for today."); blab1();
customertalk();  PCListen(); dText.Text=("Oh, that's too bad."); blab1();
customerlisten();  PCTalk(); dText.Text=("Yes, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Jenny: "); dText.Text=("..."); blab1();
customerlisten();  PCTalk(); dText.Text=("Thank you!"); blab1();
PCListen(); customerlisten(); StopPop(); 
SetGlobalInt(15, 0); Jenny.UnlockView(); Jenny.breakaway();}}

if (GetGlobalInt(1)==2){//Jenny Wants a Coffee Beverage: You Choose
customerlisten();  PCTalk(); dText.Text=("What are you in the mood for?"); blab1();
customertalk();  PCListen(); dText.Text=("I can't decide."); blab1();
customertalk();  PCListen(); dText.Text=("What's your favorite?"); blab1();
customerlisten();  PCListen(); dName.Text=("Melanie: "); dText.Text=(" ");

if (Menu.Contains("Coffee")){dJenny_coffee.SetOptionState(1, eOptionOn);}
if (!Menu.Contains("Coffee")){dJenny_coffee.SetOptionState(1, eOptionOff);}

if (Menu.Contains("Cappuccino")){dJenny_coffee.SetOptionState(2, eOptionOn);}
if (!Menu.Contains("Cappuccino")){dJenny_coffee.SetOptionState(2, eOptionOff);}

if (Menu.Contains("Latte")){dJenny_coffee.SetOptionState(3, eOptionOn);}
if (!Menu.Contains("Latte")){dJenny_coffee.SetOptionState(3, eOptionOff);}

if (Menu.Contains("Mocha")){dJenny_coffee.SetOptionState(4, eOptionOn);}
if (!Menu.Contains("Mocha")){dJenny_coffee.SetOptionState(4, eOptionOff);}

if (Menu.Contains("Chai Tea")){dJenny_coffee.SetOptionState(5, eOptionOn);}
if (!Menu.Contains("Chai Tea")){dJenny_coffee.SetOptionState(5, eOptionOff);}

if (Menu.Contains("Chai Latte")){dJenny_coffee.SetOptionState(6, eOptionOn);}
if (!Menu.Contains("Chai Latte")){dJenny_coffee.SetOptionState(6, eOptionOff);}

if (Menu.Contains("Bagel")){dJenny_coffee.SetOptionState(7, eOptionOn);}
if (!Menu.Contains("Bagel")){dJenny_coffee.SetOptionState(7, eOptionOff);}

if (Menu.Contains("Pipeline Crest")){dJenny_coffee.SetOptionState(8, eOptionOn);}
if (!Menu.Contains("Pipeline Crest")){dJenny_coffee.SetOptionState(8, eOptionOff);}

if (Menu.Contains("Pipeline Rinse")){dJenny_coffee.SetOptionState(9, eOptionOn);}
if (!Menu.Contains("Pipeline Rinse")){dJenny_coffee.SetOptionState(9, eOptionOff);}
dJenny_coffee.Start();}

if (GetGlobalInt(1)==3){//Jenny Wants a Bagel
customertalk(); PCListen(); dText.Text=("Yeah."); blab1();
customertalk(); PCListen(); dText.Text=("I'll have a bagel, please."); blab1();
if (bagel_plain_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Excellent choice."); blab1();
fJenny+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jenny.sellBagel_Plain();}
else if (bagel_plain_remaining<=0){
customerlisten();  PCTalk(); dText.Text=("Sorry, I'm actually out of Bagels today."); blab1();
customertalk();  PCListen(); dText.Text=("Oh, really?"); blab1();
customertalk();  PCListen(); dText.Text=("That sucks! The last one I got from you was so good!"); blab4();
customertalk();  PCListen(); dText.Text=("I've been looking forward to one all day."); blab3();
customerlisten();  PCTalk(); dText.Text=("Yeah, I'm sorry."); blab1();
customertalk();  PCListen(); dText.Text=("Thanks!"); blab1();
PCListen(); customerlisten(); StopPop(); 
SetGlobalInt(15, 0); Jenny.UnlockView(); Jenny.breakaway();}}

if (GetGlobalInt(1)==4){//Jenny Doesn't want a hot dog.
customertalk(); PCListen(); dText.Text=("Umm..."); blab1();
customerlisten();  PCTalk(); dText.Text=("Yes?"); blab1();
customertalk(); PCListen(); dText.Text=("Do you sell anything with no meat in it?"); blab1();
customerlisten();  PCTalk(); dText.Text=("This is a hot dog stand."); blab1();
customertalk(); PCListen(); dText.Text=("Umm..."); blab1();
customerlisten();  PCTalk(); dText.Text=("See? It looks like a big hot dog."); blab1();
customertalk(); PCListen(); dText.Text=("Whatever."); blab1();
PCListen(); customerlisten(); StopPop(); 
SetGlobalInt(15, 0); Jenny.UnlockView(); Jenny.breakaway();}
}//End "Usual Thing" Script

else if (rbd==2){//Jenny Would Like a Latte
if (Menu.Contains("Latte")){  
PCListen(); customertalk(); dText.Text=("I would love a latte, please!"); blab1(); 
PCTalk(); customerlisten(); dText.Text=("Oh, okay."); blab1(); 
fJenny+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jenny.sellLatte();}
else if (!Menu.Contains("Latte")){
PCListen(); customertalk(); dText.Text=("Oh, gosh."); blab1(); 
PCListen(); customertalk(); dText.Text=("Okay, then."); blab1(); 
PCListen(); customertalk(); dText.Text=("Hmmm...."); blab1(); 
Spin();
PCListen(); customertalk(); dText.Text=String.Format("I guess I'll have a %s.", dots); blab1(); 
PCTalk(); customerlisten(); dText.Text=("Oh, sure."); blab1();
fJenny+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jenny.sellRandom();}
}}}

function Suchinbuy(){salebuyer=("Suchin");
Suchin.FollowCharacter(null, 0, 0); Suchin.StopMoving(); TalkPop(); Wait(40); 
PCListen(); customerlisten();
if (kickedout==0){
if (GetGlobalInt(101)==11){//110
SuchinTalkSmile(); PCListen (); dText.Text=("Oh, hello a-3!"); blab1(); 
SuchinListenSmile();  PCTalk(); dText.Text=("Yes. Hello."); blab1(); 
SuchinTalkSmile(); PCListen(); dText.Text=("How is your kitty?"); blab1(); 
SuchinListenSmile();  PCTalk(); dText.Text=("Oh, him..."); blab1(); 
dName.Text=(" "); dText.Text=(" ");
dSuchin_1.Start();}
if (GetGlobalInt(101)==13){//Second Stand Talk
SuchinTalkSmile(); PCListen(); DBG1.Animate(16, 11, 3, eRepeat); dText.Text=("Hello!"); blab1(); 
SuchinListenSmile();  PCTalk(); dText.Text=("Yes, Hello!"); DBG1.Animate(16, 10, 3, eRepeat); blab1();
SuchinTalkSmile(); PCListen(); dText.Text=("How work?"); blab1(); 
dName.Text=(" "); dText.Text=(" ");
dSuchin_4.Start();}
if (GetGlobalInt(101)==15){//Third Stand Talk
SuchinTalkSmile(); PCListen(); DBG1.Animate(16, 11, 3, eRepeat); dText.Text=("Hello!"); blab1(); 
SuchinListenSmile();  PCTalk(); dText.Text=("Yes, Hello!"); DBG1.Animate(16, 10, 3, eRepeat); blab1();
customertalk(); PCListen(); dText.Text=("I hear somebody coughing at hotel last night."); blab3(); 
customertalk(); DBG1.Animate(16, 12, 3, eRepeat); dText.Text=("Was that you? Are you OK?"); blab3(); 
dName.Text=(" "); dText.Text=(" ");
dSuchin_5.Start();}
if (GetGlobalInt(101)==17){//Fourth Stand Talk
SuchinTalkSmile(); PCListen(); DBG1.Animate(16, 11, 3, eRepeat); dText.Text=("Hello!"); blab1(); 
SuchinListenSmile(); PCTalk(); DBG1.Animate(16, 10, 3, eRepeat); dText.Text=("Yes, Hello!"); blab1();
SuchinTalkSmile(); PCListen(); DBG1.Animate(16, 11, 3, eRepeat); dText.Text=("How is kittycat of yours? What his name, again?"); blab4(); 
SuchinTalkSmile(); PCListen(); DBG1.Animate(16, 11, 3, eRepeat); dText.Text=("Mister... Glen Brodsky? Cren Bowshaw?"); blab3();
dName.Text=(" "); dText.Text=(" ");
dSuchin_8.Start();}

if (GetGlobalInt(101)==19){//Fifth Talk
   
   if (SuchinLove>=7){//George ask about you.
   PCTalk(); SuchinListenSmile(); dText.Text=("Hello, Mrs. Pushbroom."); blab2();
   PCListen(); SuchinTalkSmile(); dText.Text=("Hello Mr. A-3."); blab2();
   PCListen(); SuchinTalkSmile(); dText.Text=("My husband, George... He ask about you."); blab2();
   PCTalk(); SuchinListenSmile(); dText.Text=("He did?"); blab2();
   PCListen(); SuchinTalkSmile(); dText.Text=("Yes."); blab2();
   PCListen(); SuchinTalkSmile(); dText.Text=("He want to know if you have cat, upstairs."); blab2();
   SuchinListenSmile(); DBG1.Animate(16, 12, 3, eRepeat); dName.Text=("Andrus: "); dText.Text=("...!"); WaitMouseKey(30);
   SuchinTalkSmile(); dText.Text=("Don't worry."); blab2();
   SuchinTalkSmile(); dText.Text=("I tell him you no have any cat."); blab2();
   SuchinListenSmile(); DBG1.Animate(16, 12, 3, eRepeat); dName.Text=("Andrus: "); dText.Text=("..."); WaitMouseKey(30);
   SuchinTalkSmile(); dText.Text=("It our little secret..."); blab2();
   PCTalk(); DBG1.Animate(16, 10, 3, eRepeat); SuchinListenSmile(); dText.Text=("Thank you!"); blab2();
   SuchinTalkSmile(); PCListen(); DBG1.Animate(16, 11, 3, eRepeat); dText.Text=("Shhh!"); blab2();
   PCListen(); SuchinListenSmile(); dName.Text=(" "); dText.Text=(" "); 
   if (player.Room==7){StopPop(); Suchin.Walk(200, (Suchin.y), eNoBlock, eAnywhere); SetTimer(1, 20);}   
   if (player.Room!=7){dSuchin_3.Start();}}//Sell Paper if not at Breezy's
   
   else if (SuchinLove<7){//It always nice here.
   customertalk(); PCListen(); dText.Text=("Hello."); blab1();
   customerlisten(); PCTalk(); dText.Text=("Yes, hello."); blab1();
   customertalk(); PCListen(); dText.Text=("Nice day to be walking around."); blab1();
   customertalk(); PCListen(); dText.Text=("It always very nice weather here."); blab1();
   customerlisten(); PCListen(); dName.Text=("Andrus: "); dText.Text=("..."); blab1();
   if (player.Room==7){
   customertalk(); PCListen(); dText.Text=("I finish sweeping now."); blab1();
   customerlisten(); PCTalk(); dText.Text=("Yes, good. Okay."); blab1();
   customerlisten(); PCListen(); dName.Text=(" "); dText.Text=(" ");
   SetGlobalInt(101, 20); StopPop(); 
   Suchin.Walk(200, (Suchin.y), eNoBlock, eAnywhere); SetTimer(1, 20);}
   if (player.Room!=7){dSuchin_3.Start();}}//Sell Paper if not at Breezy's
   }//End Fifth Talk
   
   
   if (GetGlobalInt(101)==21){//Where you from?
   if (SuchinLove>=15){//Her interest is Piqued.
   PCTalk(); SuchinListenSmile(); dText.Text=("Hello, Mrs. Pushbroom."); blab2();
   PCListen(); SuchinTalkSmile(); dText.Text=("Hello Mr. A-3."); blab2();
   PCListen(); SuchinTalkSmile(); dText.Text=("I want to ask question last time, but forgot."); blab2();
   PCTalk(); SuchinListenSmile(); dText.Text=("A question for me?"); blab2();
   PCListen(); SuchinTalkSmile(); dText.Text=("Yes."); blab2();
   PCListen(); SuchinTalkSmile(); dText.Text=("I curious about where you from."); blab2();
   SuchinListenSmile(); DBG1.Animate(16, 12, 3, eRepeat); dName.Text=("Andrus: "); dText.Text=("...?"); WaitMouseKey(30);
   SuchinTalkSmile(); dText.Text=("Your accent is different."); blab2();
   SuchinTalkSmile(); dText.Text=("I no hear it before, with anyone."); blab2();
   SuchinListenSmile(); DBG1.Animate(16, 12, 3, eRepeat); dName.Text=("Andrus: "); dText.Text=("..."); WaitMouseKey(30);
   PCListen(); SuchinListenSmile(); dName.Text=(" "); dText.Text=(" ");
   dBroomtalk_3.Start();}
   else if (SuchinLove<15){//No Love, Today.
   PCTalk(); SuchinListenSmile(); dText.Text=("Hello, Mrs. Pushbroom."); blab2();
   PCListen(); SuchinTalkSmile(); dText.Text=("Hello Mr. A-3."); blab2();
   PCListen(); SuchinTalkSmile(); dText.Text=("You know..."); blab2();
   PCListen(); SuchinTalkSmile(); dText.Text=("I have this same broom for long time, now."); blab2();
   PCTalk(); SuchinListenSmile(); dText.Text=("Yes?"); blab2();
   PCListen(); SuchinTalkSmile(); dText.Text=("The only thing that know me better than broom is dust I am pushing around."); blab2();
   PCListen(); SuchinTalkSmile(); dText.Text=("...sweep, sweep..."); blab2();
   if (player.Room==7){StopPop(); Suchin.Walk(200, (Suchin.y), eNoBlock, eAnywhere); SetTimer(1, 50);}
   if (player.Room!=7){dSuchin_3.Start();}//Papersell
   }}

}//End Non-kickedout talking
if (kickedout!=0){
if (GetGlobalInt(101)<200){SetGlobalInt(101, 201);}
  if (GetGlobalInt(101)==201){//First kickedout talk
  SetGlobalInt(101, 202);
  SuchinTalkSad(); PCListen(); dText.Text=("I sorry George kick you out..."); blab3(); 
  SuchinTalkSad(); DBG1.Animate(16, 12, 3, eRepeat); dText.Text=("He so impatient about rent."); blab3();
  SuchinListenSad(); DBG1.Animate(16, 12, 3, eRepeat); dText.Text=("..."); WaitMouseKey(40);
  if (SuchinLove<10){}
  else if (SuchinLove>=10){
  SuchinTalkSad(); PCListen(); dText.Text=("I not sure if you hungry, but I bring you sandwiches anyway."); blab3(); 
  PCListen(); SuchinListenSad(); dText.Text=(" "); dName.Text=(" ");
  PlaySound(9); TopItem("Suchin brought you two sandwiches.","$...",4489);
  cSlot2.AddInventory(Bigwichv); cSlot2.AddInventory(Bigwich);
  SuchinTalkSad(); PCListen(); dText.Text=("...and I still come every day to buy newspaper, okay?"); blab3();
  SuchinListenSad(); DBG1.Animate(16, 12, 3, eRepeat); dText.Text=("..."); WaitMouseKey(40);}
  PCListen(); SuchinListenSad(); dText.Text=(" "); dName.Text=(" ");
  PCListen(); SuchinListenSad();dSuziekickedout0.Start();}
  else if (GetGlobalInt(101)==202){//Second kickedout talk
  SetGlobalInt(101, 203);
  SuchinTalkSad(); PCListen(); dText.Text=("How you feeling...?"); blab3(); 
  SuchinTalkSad(); DBG1.Animate(16, 12, 3, eRepeat); dText.Text=("Do you have a place to sleep?"); blab3();
  SuchinListenSad(); DBG1.Animate(16, 12, 3, eRepeat); dText.Text=("..."); WaitMouseKey(40);
  if (SuchinLove<10){}
  else if (SuchinLove>=10){
  SuchinTalkSad(); PCListen(); dText.Text=("I not sure if you hungry, but I bring you a sandwich anyway."); blab3(); 
  PCListen(); SuchinListenSad(); dText.Text=(" "); dName.Text=(" ");
  PlaySound(9); TopItem("Suchin brought you a sandwich.","$...",4489);
  cSlot2.AddInventory(Bigwich);
  SuchinTalkSad(); PCListen(); dText.Text=("...and I still come every day to buy newspaper, okay?"); blab3();
  SuchinListenSad(); DBG1.Animate(16, 12, 3, eRepeat); dText.Text=("..."); WaitMouseKey(40);}
  PCListen(); SuchinListenSad(); dText.Text=(" "); dName.Text=(" ");
  PCListen(); SuchinListenSad(); 
  dSuziekickedout1.SetOptionState(2, eOptionOff); dSuziekickedout1.SetOptionState(3, eOptionOff); 
  dSuziekickedout1.Start();}
}}


////////////////TROYBUY////////////////TROYBUY////////////////TROYBUY////////////////TROYBUY////////////////TROYBUY
function Troybuy(){PCListen(); customerlisten();
if (Menu.ItemCount==0){ SetGlobalInt(17, 0);
customertalk(); PCListen(); dName.Text=("Troy");dText.Text=("Not selling anything today?"); blab2();
customerlisten(); PCTalk(); dText.Text=("Nope, not yet. I still need to pick a few things up. "); blab3();
customertalk(); PCListen(); dText.Text=("Okay. I'll be around. "); blab1(); 
StopPop(); SetGlobalInt(17, 0); Troy.UnlockView(); Troy.breakaway();}
else if (Menu.ItemCount!=0){dName.Text=("Troy"); Troy.LockView(74);
if (GetGlobalInt(417)==0){//First Conv
SetGlobalInt(417, 1);

if (GetGlobalInt(1)==1){//Andrus First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s, please.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Yes. Good. Okay."); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellRandom();}

if (GetGlobalInt(1)==2){//Melanie First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s, please.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Great! Coming right up!"); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellRandom();}


if (GetGlobalInt(1)==3){//Vinny First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("So, yeah. I'll take one %s, please.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Sure!"); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellRandom();}

if (GetGlobalInt(1)==4){//Logan First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("Dude, I want a %s.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep!"); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellRandom();}
}

else if (GetGlobalInt(417)!=0){
int rbd=Random(2);
if (rbd==0){//Troy Wants Your Usual Thing

if (GetGlobalInt(1)==1){//Troy Wants Newspapers
customertalk(); PCListen(); dText.Text=("Hey, man. I need a copy of the Georgetonian."); blab1();
if (paper_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Yes, sure. Okay."); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellGeorgetonian();}
else if (paper_remaining<=0){
customerlisten();  PCTalk(); dText.Text=("Sorry, I am out of Georgetonians for today."); blab1();
customertalk();  PCListen(); dText.Text=("Oh, God, no!"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yes, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Troy: "); dText.Text=("..."); blab1();
customerlisten();  PCTalk(); dText.Text=("Thank you, sir!"); blab1();
SetGlobalInt(417, 1);  PCListen(); customerlisten(); StopPop(); 
SetGlobalInt(17, 0); Troy.UnlockView(); Troy.breakaway();}}

if (GetGlobalInt(1)==2){//Troy Wants a Coffee Beverage: You Choose
customertalk();  PCListen(); dText.Text=("I need caffeine."); blab1();
if (Menu.Contains("Coffee")==true){
customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellCoffee_Any();}
if (Menu.Contains("Coffee")==false){
Spin();
if (!Menu.Contains("Americano")){
customerlisten();  PCTalk(); dText.Text=("Sorry, but no coffee."); blab1();
customertalk();  PCListen(); dText.Text=("Oh, God, no!"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Troy: "); dText.Text=("..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellRandom();}
if (Menu.Contains("Americano")){
customerlisten();  PCTalk(); 
if (GetGlobalInt(1)==1){dText.Text=("Try Americano, please. "); blab1();}
if (GetGlobalInt(1)==2){dText.Text=("How about an Americano?"); blab1();
customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
if (GetGlobalInt(1)==3){dText.Text=("How about an Americano?"); blab1();
customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
if (GetGlobalInt(1)==4){dText.Text=("Try an Americano instead."); blab1();}
customertalk();PCListen(); dText.Text=("Sure - OK."); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellAmericano();}}}

if (GetGlobalInt(1)==3){//Troy Wants a Bagel
customertalk();  PCListen(); dText.Text=("I need a bagel, dude."); blab1();
if (bagel_plain_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellBagel_Plain();}
else if (bagel_plain_remaining==0){
Spin();
customerlisten();  PCTalk(); dText.Text=("Sorry, but no bagels."); blab1();
customertalk();  PCListen(); dText.Text=("Oh, God, no!"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Troy: "); dText.Text=("..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellRandom();}}

if (GetGlobalInt(1)==4){//Hot Dog, Please!
customertalk();  PCListen(); dText.Text=("How about one of your hot dogs?"); blab2();

if ((hotdogs_remaining!=0)&&(buns_remaining!=0)){
customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellHotdog();}
else if ((hotdogs_remaining==0)||(buns_remaining==0)){
Spin();
customerlisten();  PCTalk(); dText.Text=("Sorry, but I'm out of dogs."); blab1();
customertalk();  PCListen(); dText.Text=("Oh, God, no!"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Troy: "); dText.Text=("..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellRandom();}}
}

else if (rbd==1){//Troy Just Wants Coffee
       if ((Menu.Contains("Coffee"))&&(upCoffee==("S"))){
customertalk();  PCListen(); dText.Text=("Holy shit! This coffee smells unbelievable!"); blab1();
customerlisten();PCTalk();   dText.Text=("It's... It's pretty special stuff."); blab1();
customertalk();  PCListen(); dText.Text=("What is it?"); blab1();
customerlisten();PCTalk();   dText.Text=("Well, it's... It's the best coffee in the world."); blab1();
customertalk();  PCListen(); dText.Text=("Haha... Really? Well, Sign me up."); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellCoffee_Any();}
else if ((Menu.Contains("Coffee"))&&(upCoffee==("A"))){
customertalk();  PCListen(); dText.Text=("That coffee smells pretty good."); blab1();
customerlisten();PCTalk();   dText.Text=("Yeah, it sure keeps me going."); blab1();
customertalk();  PCListen(); dText.Text=("Sign me up."); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellCoffee_Any();}
else if ((Menu.Contains("Coffee"))&&(upCoffee==("B"))){
customertalk();  PCListen(); dText.Text=("That coffee smells pretty good."); blab1();
customerlisten();PCTalk();   dText.Text=("Yeah, it sure keeps me going."); blab1();
customertalk();PCListen(); dText.Text=("Sign me up."); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellCoffee_Any();}
else if ((Menu.Contains("Coffee"))&&(upCoffee==("C"))){
customertalk();PCListen(); dText.Text=("How 'bout a cup of coffee?"); blab1();
customerlisten();PCTalk();   dText.Text=("Coming right up."); blab1();
customertalk();PCListen(); dText.Text=("Excellent."); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellCoffee_Any();}
else if ((Menu.Contains("Coffee"))&&(upCoffee==("D"))){
customertalk();PCListen(); dText.Text=("How 'bout a cup of coffee?"); blab1();
customerlisten();PCTalk();   dText.Text=("Coming right up."); blab1();
customertalk();PCListen(); dText.Text=("Excellent."); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellCoffee_Any();}
else if (!Menu.Contains("Coffee")){
customertalk();PCListen(); dText.Text=("How 'bout a cup of coffee?"); blab1();
customerlisten();PCTalk();   dText.Text=("Hmm... No coffee today."); blab1();
customertalk();PCListen(); dText.Text=("Really? You don't have coffee?"); blab1();
customerlisten();PCTalk();   dText.Text=("Not today."); blab1();
customertalk();PCListen(); dText.Text=("M'alright."); blab1();
if (!Menu.Contains("Americano")){StopPop(); customerbreakaway();}
if (Menu.Contains("Americano")){
customerlisten();PCTalk();   dText.Text=("An Americano is almost the same thing."); blab1();
customertalk();PCListen(); dText.Text=("Yeah?"); blab1();
customerlisten();PCTalk();   dText.Text=("It's an espresso shot, in hot water."); blab1();
customertalk();PCListen(); dText.Text=("That'll do."); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellAmericano();}}}

else if (rbd==2){//Troy Wants Whatever's on the Menu
if (Menu.ItemCount >= 3){
Spin();
customertalk();PCListen(); dText.Text=("What's good today?"); blab1();
customerlisten();PCTalk(); dText.Text=String.Format("How about... %s?", dots); blab1();
customertalk();PCListen(); dText.Text=String.Format("%s? Sure, that'll work.", dots); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellRandom();}
else if ((Menu.ItemCount <= 2) && (Menu.ItemCount != 0)){
customertalk();PCListen(); dText.Text=("Good. I'll take... uhhh..."); blab2();
customertalk();PCListen(); dText.Text=String.Format("How about... That %s sounds pretty good.", Menu.Items[0]); blab1();
fTroy+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Troy.sellMenu0();}}}}}


////////////////Thalesbuy
function Thalesbuy(){
  SetGlobalInt(25, 0);
  Thales.FollowCharacter(null, 0, 0); Thales.StopMoving(); 
  if (gDialog.Visible==false){TalkPop(); Wait(40);}//might be visible already.
  PCListen();DBG2.Animate(106, 0, 3, eRepeat); salebuyer=("Thales");
  if (Menu.ItemCount==0){
  if (small_Thales>0){dName.Text=("Thales: ");}
  if (small_Thales<=0){dName.Text=("Policeman: ");}
  customertalk(); PCListen(); dText.Text=("Nothing up for sale, yet, huh?"); blab1();
  customerlisten();  PCTalk(); dText.Text=("Nope, not yet. I still need to pick a few things up. "); blab1();
  customertalk(); PCListen (); dText.Text=("I'll be seeing you. "); blab1(); 
  StopPop(); SetGlobalInt(25, 0); Thales.UnlockView(); Thales.breakaway();}
  else if (Menu.ItemCount!=0){dName.Text=("Thales: "); Thales.LockView(107);
  if (GetGlobalInt(425)==0){//First Conv
  SetGlobalInt(425, 1);

  if (GetGlobalInt(1)==1){//Andrus First Conv
  Spin();
  //customertalk(); PCListen (); dText.Text=("Excuse me, sir."); blab1();
  //customerlisten();  PCTalk(); dText.Text=("Yes, hello."); blab1();
  customertalk(); PCListen (); dText.Text=String.Format("I see you're offering %ss for sale, here.", dots); blab3();
  customerlisten();  PCTalk(); dText.Text=("Yes, and good."); blab1();
  customertalk(); PCListen (); dText.Text=String.Format("I'll take this %s, please.", dots); blab2();
  fThales+=1; customerlisten();  PCListen(); 
  dText.Text=(" "); dName.Text=(" ");
  Thales.sellRandom();
  }
  
  if (GetGlobalInt(1)==2){//Melanie First Conv
  Spin();
  //customertalk(); PCListen (); dText.Text=("Hello."); blab1();
  //customerlisten();  PCTalk(); dText.Text=("Hi!"); blab1();
  customertalk(); PCListen (); dText.Text=String.Format("%s, please.",dots); blab1();
  customerlisten();  PCTalk(); dText.Text=("Great! Coming right up!"); blab1();
  fThales+=1; customerlisten();  PCListen(); 
  dText.Text=(" "); dName.Text=(" ");
  Thales.sellRandom();
  }

  if (GetGlobalInt(1)==3){//Vinny First Conv
  Spin();
  //customertalk(); PCListen (); dText.Text=("Excuse me, sir."); blab1();
  //customerlisten();  PCTalk(); dText.Text=("Hello, officer."); blab1();
  customertalk(); PCListen (); dText.Text=String.Format("I see you're offering %ss for sale, here.", dots); blab3();
  customerlisten();  PCTalk(); dText.Text=("That's right. Would you care to try one?"); blab1();
  customertalk(); PCListen (); dText.Text=String.Format("I'll take this %s, please.", dots); blab2();
  fThales+=1; customerlisten();  PCListen(); 
  dText.Text=(" "); dName.Text=(" ");
  Thales.sellRandom();
  }

  if (GetGlobalInt(1)==4){//Logan First Conv
  Spin();
  //customertalk(); PCListen (); dText.Text=("Excuse me, sir."); blab1();
  //customerlisten();  PCTalk(); dText.Text=("Oh, great."); blab1();
  customertalk(); PCListen (); dText.Text=String.Format("I see you're offering %ss for sale, here.", dots); blab3();
  customerlisten();  PCTalk(); dText.Text=("So what?"); blab1();
  customertalk(); PCListen (); dText.Text=String.Format("I'll take this %s, please.", dots); blab2();
  fThales+=1; customerlisten();  PCListen(); 
  dText.Text=(" "); dName.Text=(" ");
  Thales.sellRandom();
  }}
  else if (GetGlobalInt(425)!=0){
  if (GetGlobalInt(325)==1){//Thales Wants Your Usual Thing
  if (GetGlobalInt(1)==1){//Thales Wants Newspapers
  customertalk(); PCListen(); dText.Text=("I'll be needing a copy of the Georgetonian."); blab3();
  if (paper_remaining!=0){
  customerlisten();  PCTalk(); dText.Text=("Yes, sure. Ok."); blab1();
  fThales+=1; customerlisten();  PCListen(); 
  dText.Text=(" "); dName.Text=(" ");
  Thales.sellGeorgetonian();}
  else if (paper_remaining<=0){
  customerlisten();  PCTalk(); dText.Text=("Sorry, I am out of Georgetonians for today."); blab2();
  customertalk();  PCListen(); dText.Text=("You are?"); blab1();
  customerlisten();  PCTalk(); dText.Text=("Yes, I'm sorry."); blab1();
  customerlisten();  PCListen(); 
  if (small_Thales>0){dName.Text=("Thales: ");}
  if (small_Thales<=0){dName.Text=("Policeman: ");}
  dText.Text=("..."); blab1();
  customerlisten();  PCTalk(); dText.Text=("Thank you, sir!"); blab1();
  SetGlobalInt(417, 1);  PCListen(); customerlisten(); StopPop(); 
  SetGlobalInt(25, 0); Thales.UnlockView(); Thales.breakaway();}}

  if (GetGlobalInt(1)==2){//Thales Wants a Coffee
  customertalk();  PCListen(); dText.Text=("I could use a cup of coffee."); blab2();
  if (Menu.Contains("Coffee")==true){
  customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
  fThales+=1; customerlisten();  PCListen(); 
  dText.Text=(" "); dName.Text=(" ");
  Thales.sellCoffee_Any();}
  else if (Menu.Contains("Coffee")==false){
  Spin();
  if (!Menu.Contains("Americano")){
  customerlisten();  PCTalk(); dText.Text=("Sorry, but no coffee."); blab1();
  customertalk();  PCListen(); dText.Text=("No coffee?"); blab1();
  customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
  customerlisten();  PCListen(); 
  if (small_Thales>0){dName.Text=("Thales: ");}
  if (small_Thales<=0){dName.Text=("Policeman: ");}
  dText.Text=("..."); blab1();
  customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
  customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
  fThales+=1; customerlisten();  PCListen(); 
  dText.Text=(" "); dName.Text=(" ");
  Thales.sellRandom();}
  if (Menu.Contains("Americano")){
  customerlisten();  PCTalk(); 
  if (GetGlobalInt(1)==1){dText.Text=("Try Americano, please. "); blab1();}
  if (GetGlobalInt(1)==2){dText.Text=("How about an Americano?"); blab1();
  customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
  if (GetGlobalInt(1)==3){dText.Text=("How about an Americano?"); blab1();
  customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
  if (GetGlobalInt(1)==4){dText.Text=("Try an Americano instead."); blab1();}
  customertalk();PCListen(); dText.Text=("Sure - OK."); blab1();
  fThales+=1; customerlisten();  PCListen(); 
  dText.Text=(" "); dName.Text=(" ");
  Thales.sellRandom(); Thales.sellAmericano();}}}

  if (GetGlobalInt(1)==3){//Thales Wants a Bagel
  customertalk();  PCListen(); dText.Text=("I'll take one of your bagels."); blab2();
  if (bagel_plain_remaining!=0){
  customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
  fThales+=1; customerlisten();  PCListen(); 
  dText.Text=(" "); dName.Text=(" ");
  Thales.sellBagel_Plain();}
  else if (bagel_plain_remaining==0){
  Spin();
  customerlisten();  PCTalk(); dText.Text=("Sorry, but no bagels."); blab1();
  customertalk();  PCListen(); dText.Text=("Really?"); blab1();
  customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
  customerlisten();  PCListen(); 
  if (small_Thales>0){dName.Text=("Thales: ");}
  if (small_Thales<=0){dName.Text=("Policeman: ");}
  dText.Text=("..."); blab1();
  customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
  customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
  fThales+=1; customerlisten();  PCListen(); 
  dText.Text=(" "); dName.Text=(" ");
  Thales.sellRandom();}}

  if (GetGlobalInt(1)==4){//Hot Dog, Please!
  customertalk();  PCListen(); dText.Text=("I'll have a hot dog."); blab1();
  if ((hotdogs_remaining!=0)&&(buns_remaining!=0)){
  customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
  fThales+=1; customerlisten();  PCListen(); 
  dText.Text=(" "); dName.Text=(" ");
  Thales.sellHotdog();}
  else if ((hotdogs_remaining==0)||(buns_remaining==0)){
  Spin();
  customerlisten();  PCTalk(); dText.Text=("Sorry, but I'm out of dogs."); blab1();
  customertalk();  PCListen(); dText.Text=("Is that right?"); blab1();
  customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
  customerlisten();  PCListen(); 
  if (small_Thales>0){dName.Text=("Thales: ");}
  if (small_Thales<=0){dName.Text=("Policeman: ");}
  dText.Text=("..."); blab1();
  customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
  customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
  fThales+=1; customerlisten();  PCListen(); 
  dText.Text=(" "); dName.Text=(" ");
  Thales.sellRandom();}}
}
  else if (GetGlobalInt(325)==0){//Permit Check!!
  if (GetGlobalInt(1)!=2){//PC isn't Melanie
  boxadd("Permits");
  customertalk(); PCListen (); dText.Text=("I'd like to see a permit, please."); blab2();
  customerlisten();  PCListen(); dText.Text=("..."); blab1();
  Permitcheck(); SetGlobalInt(425, 1); SetGlobalInt(25, 0);}
  else if (GetGlobalInt(1)==2){//Thales Wants Mel's Coffee
  SetGlobalInt(325, 1);//Turn off permitcheckerry
  customertalk();  PCListen(); dText.Text=("I could use a cup of coffee."); blab2();
  if (Menu.Contains("Coffee")==true){
  customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
  fThales+=1; customerlisten();  PCListen(); 
  dText.Text=(" "); dName.Text=(" ");
  Thales.sellCoffee_Any();}
  else if (Menu.Contains("Coffee")==false){
  Spin();
  if (!Menu.Contains("Americano")){
  customerlisten();  PCTalk(); dText.Text=("Sorry, but no coffee."); blab1();
  customertalk();  PCListen(); dText.Text=("No coffee?"); blab1();
  customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
  customerlisten();  PCListen(); 
  if (small_Thales>0){dName.Text=("Thales: ");}
  if (small_Thales<=0){dName.Text=("Policeman: ");}
  dText.Text=("..."); blab1();
  customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
  customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
  fThales+=1; customerlisten();  PCListen(); 
  dText.Text=(" "); dName.Text=(" ");
  Thales.sellRandom();}
  if (Menu.Contains("Americano")){
  customerlisten();  PCTalk(); 
  if (GetGlobalInt(1)==1){dText.Text=("Try Americano, please. "); blab1();}
  if (GetGlobalInt(1)==2){dText.Text=("How about an Americano?"); blab1();
  customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
  if (GetGlobalInt(1)==3){dText.Text=("How about an Americano?"); blab1();
  customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
  if (GetGlobalInt(1)==4){dText.Text=("Try an Americano instead."); blab1();}
  customertalk();PCListen(); dText.Text=("Sure - OK."); blab1();
  fThales+=1; customerlisten();  PCListen(); 
  dText.Text=(" "); dName.Text=(" ");
  Thales.sellRandom(); Thales.sellAmericano();}}}
  }//End Permit Check
}}}


////////////////KYAMBUY//KYAMBUY//////////////////KYAMBUY//KYAMBUY//////////////////KYAMBUY//KYAMBUY//
function Kyambuy(){PCListen(); customerlisten(); SetGlobalInt(28, 0);
if (Menu.ItemCount==0){ 
customertalk(); PCListen(); dText.Text=("There's nothing on your menu."); blab2();
customerlisten(); PCTalk(); dText.Text=("Nope, not yet. I still need to pick a few things up. "); blab4();
customerlisten(); PCListen(); dName.Text=("Kyam: "); dText.Text=("..."); blab1(); 
StopPop(); SetGlobalInt(28, 0); Kyam.UnlockView(); Kyam.breakaway();}
else if (Menu.ItemCount!=0){
dName.Text=("Kyam: "); Kyam.LockView(126);
if (GetGlobalInt(428)==0){//First Conv
SetGlobalInt(428, 1);
if (GetGlobalInt(1)==1){//Andrus First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("Gimme one of those %ss, please.",dots); blab3();
customerlisten();  PCTalk(); dText.Text=("Yes. Good. Okay."); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellRandom();}

if (GetGlobalInt(1)==2){//Melanie First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("Gimme one of those %ss, please.",dots); blab2();
customerlisten();  PCTalk(); dText.Text=("Great! Coming right up!"); blab2();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellRandom();}


if (GetGlobalInt(1)==3){//Vinny First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("So, yeah. I'll take one %s, please.",dots); blab2();
customerlisten();  PCTalk(); dText.Text=("Sure!"); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellRandom();}

if (GetGlobalInt(1)==4){//Logan First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("Dude... I want a %s.",dots); blab2();
customerlisten();  PCTalk(); dText.Text=("Yep!"); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellRandom();}
}

else if (GetGlobalInt(428)!=0){
int rbd=Random(2);

if (rbd==0){//Kyam Wants Your Usual Thing

if (GetGlobalInt(1)==1){//Kyam Wants Newspapers
customertalk(); PCListen(); dText.Text=("I need a copy of the Georgetonian."); blab3();
if (paper_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Yes, sure. Okay."); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellGeorgetonian();}
else if (paper_remaining<=0){
customerlisten();  PCTalk(); dText.Text=("Sorry, I am out of Georgetonians for today."); blab3();
customertalk();  PCListen(); dText.Text=("Oh, God, no!"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yes, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Kyam: "); dText.Text=("..."); blab1();
customerlisten();  PCTalk(); dText.Text=("Thank you, sir!"); blab1();
SetGlobalInt(428, 1);  PCListen(); customerlisten(); StopPop(); 
SetGlobalInt(28, 0); Kyam.UnlockView(); Kyam.breakaway();}}

if (GetGlobalInt(1)==2){//Kyam Wants a Coffee Beverage: You Choose
customertalk();  PCListen(); dText.Text=("I need caffeine."); blab2();
customertalk();  PCListen(); dText.Text=("Can I get a cup of coffee?"); blab2();

if (Menu.Contains("Coffee")==true){
customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellCoffee_Any();}
if (Menu.Contains("Coffee")==false){
Spin();
if (!Menu.Contains("Americano")){
customerlisten();  PCTalk(); dText.Text=("Sorry, but no coffee."); blab1();
customertalk();  PCListen(); dText.Text=("Oh, God, no!"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Kyam: "); dText.Text=("..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab2();
customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellRandom();}
if (Menu.Contains("Americano")){
customerlisten();  PCTalk(); 
if (GetGlobalInt(1)==1){dText.Text=("Try Americano, please. "); blab1();}
if (GetGlobalInt(1)==2){dText.Text=("How about an Americano?"); blab1();
customerlisten(); PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
if (GetGlobalInt(1)==3){dText.Text=("How about an Americano?"); blab1();
customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
if (GetGlobalInt(1)==4){dText.Text=("Try an Americano instead."); blab1();}
customertalk(); PCListen(); dText.Text=("Sure - OK."); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellAmericano();}}}

if (GetGlobalInt(1)==3){//Kyam Wants a Bagel
customertalk();  PCListen(); dText.Text=("I need a bagel, dude."); blab2();
if (bagel_plain_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellBagel_Plain();}
if (bagel_plain_remaining==0){
Spin();
customerlisten();  PCTalk(); dText.Text=("Sorry, but no bagels."); blab2();
customertalk();  PCListen(); dText.Text=("Oh, God, no!"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Kyam: "); dText.Text=("..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab2();
customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellRandom();}}

if (GetGlobalInt(1)==4){//Hot Dog, Please!
customertalk();  PCListen(); dText.Text=("Hot dog?"); blab1();

if ((hotdogs_remaining!=0)&&(buns_remaining!=0)){
customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellHotdog();}
else if ((hotdogs_remaining==0)||(buns_remaining==0)){
Spin();
customerlisten();  PCTalk(); dText.Text=("Sorry, but I'm out of dogs."); blab1();
customertalk();  PCListen(); dText.Text=("Is that right?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Kyam: "); dText.Text=("..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellRandom();}}}

else if (rbd==1)//Kyam Just Wants Coffee
{
if (Menu.Contains("Coffee")){
if (upCoffee==("S")){
customertalk();  PCListen(); dText.Text=("Holy shit! This coffee smells unbelievable!"); blab4();
customerlisten();PCTalk();   dText.Text=("It's... It's pretty special stuff."); blab3();
customertalk();  PCListen(); dText.Text=("What is it?"); blab1();
customerlisten();PCTalk();   dText.Text=("Well, it's... It's the best coffee in the world."); blab4();
customertalk();  PCListen(); dText.Text=("Haha... Really? Well, Sign me up."); blab3();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellCoffee_Any();}
if (upCoffee==("A")){
customertalk();  PCListen(); dText.Text=("That coffee smells pretty good."); blab3();
customerlisten();PCTalk();   dText.Text=("Yeah, it sure keeps me going."); blab2();
customertalk();  PCListen(); dText.Text=("Sign me up."); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellCoffee_Any();}
if (upCoffee==("B")){
customertalk();  PCListen(); dText.Text=("That coffee smells pretty good."); blab3();
customerlisten();PCTalk();   dText.Text=("Yeah, it sure keeps me going."); blab3();
customertalk();PCListen(); dText.Text=("Sign me up."); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellCoffee_Any();}
if (upCoffee==("C")){
customertalk();PCListen(); dText.Text=("How 'bout a cup of coffee?"); blab2();
customerlisten();PCTalk();   dText.Text=("Coming right up."); blab1();
customertalk();PCListen(); dText.Text=("Excellent."); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellCoffee_Any();}
if (upCoffee==("D")){
customertalk();PCListen(); dText.Text=("How 'bout a cup of coffee?"); blab3();
customerlisten();PCTalk();   dText.Text=("Coming right up."); blab1();
customertalk();PCListen(); dText.Text=("Excellent."); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellCoffee_Any();}}
else if (!Menu.Contains("Coffee")){
customertalk();PCListen(); dText.Text=("How 'bout a cup of coffee?"); blab2();
customerlisten();PCTalk();   dText.Text=("Hmm... No coffee today."); blab2();
customertalk();PCListen(); dText.Text=("Really? You don't have coffee?"); blab3();
customerlisten();PCTalk();   dText.Text=("Not today."); blab1();
customertalk();PCListen(); dText.Text=("M'alright."); blab1();
if (!Menu.Contains("Americano")){StopPop(); customerbreakaway();}
if (Menu.Contains("Americano")){
customerlisten();PCTalk();   dText.Text=("An Americano is almost the same thing."); blab3();
customertalk();PCListen(); dText.Text=("Yeah?"); blab1();
customerlisten();PCTalk();   dText.Text=("It's an espresso shot, in hot water."); blab3();
customertalk();PCListen(); dText.Text=("Oh."); blab1();
customertalk();PCListen(); dText.Text=("Right."); blab1();
customertalk();PCListen(); dText.Text=("That'll do."); blab1();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellAmericano();}}}

else if (rbd==2){//Kyam Wants Whatever's on the Menu
if (Menu.ItemCount >= 3){
Spin();
customertalk();PCListen(); dText.Text=("What's good today?"); blab4();
customerlisten();PCTalk(); dText.Text=String.Format("How about... %s?", dots); blab2();
customertalk();PCListen(); dText.Text=String.Format("%s? Sure, that'll work.", dots); blab3();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellRandom();}//Possible bug here?
else if ((Menu.ItemCount <= 2) && (Menu.ItemCount != 0)){
customertalk();PCListen(); dText.Text=("I'll take..."); blab1();
customertalk();PCListen(); dText.Text=String.Format("How about... That %s sounds pretty good.", Menu.Items[0]); blab4();
fKyam+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Kyam.sellMenu0();}}}}}

////////////////ChrisBUY//ChrisBUY//////////////////ChrisBUY//ChrisBUY//////////////////ChrisBUY//ChrisBUY//
function Chrisbuy(){PCListen(); customerlisten(); SetGlobalInt(32, 0);
if (Menu.ItemCount==0){ 
customertalk(); PCListen(); dText.Text=("You not selling yet?"); blab2(); 
customerlisten();  PCTalk(); dText.Text=("Nope, not yet. I still need to pick a few things up. "); blab3();
customertalk(); PCListen(); dText.Text=("Sure, okay. "); blab1();
StopPop(); SetGlobalInt(32, 0); Chris.UnlockView(); Chris.breakaway();}
else if (Menu.ItemCount!=0){
dName.Text=("Chris: "); Chris.LockView(143);
if (GetGlobalInt(432)==0){//First Conv
SetGlobalInt(432, 1);
if (GetGlobalInt(1)==1){//Andrus First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s, please.",dots); blab2();
customerlisten();  PCTalk(); dText.Text=("Yes. Good. Okay."); blab1();
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellRandom();} 

if (GetGlobalInt(1)==2){//Melanie First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s, please.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Great! Coming right up!"); blab2();
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellRandom();}

if (GetGlobalInt(1)==3){//Vinny First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s?",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Sure!"); blab1();
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellRandom();}

if (GetGlobalInt(1)==4){//Logan First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep!"); blab1();
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellRandom();}
}

else if (GetGlobalInt(432)!=0){
int rbd=Random(2);

if (rbd==0){//Chris Wants Your Usual Thing

if (GetGlobalInt(1)==1){//Chris Wants Newspapers
customertalk(); PCListen(); dText.Text=("You sell the Georgetonian?"); blab2();
if (paper_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Yes, sure. Okay."); blab1();
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellGeorgetonian();}
else if (paper_remaining<=0){
customerlisten();  PCTalk(); dText.Text=("Sorry, I am out of Georgetonians for today."); blab3();
customertalk();  PCListen(); dText.Text=("Ah, for real?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yes, I'm sorry."); blab1();
customertalk();  PCListen(); dText.Text=("'s cool. Thanks though."); blab2();
customerlisten();  PCTalk(); dText.Text=("Thank you, sir!"); blab1();
SetGlobalInt(432, 1);  PCListen(); customerlisten(); StopPop(); 
SetGlobalInt(32, 0); Chris.UnlockView(); Chris.breakaway();}}

if (GetGlobalInt(1)==2){//Chris Wants a Coffee Beverage: You Choose
customertalk();  PCListen(); dText.Text=("How about some coffee?"); blab1();
if (Menu.Contains("Coffee")==true){
customerlisten();  PCTalk(); dText.Text=("Sure..."); blab1();
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellCoffee_Any();}
if (Menu.Contains("Coffee")==false){
Spin();
customerlisten();PCTalk();
if (GetGlobalInt(1)==1){dText.Text=("I am having no coffee."); blab2();}
if (GetGlobalInt(1)==2){dText.Text=("I don't have drip coffee."); blab2();}
if (GetGlobalInt(1)==3){dText.Text=("Hmm... No coffee today."); blab2();}
if (GetGlobalInt(1)==4){dText.Text=("I don't sell coffee."); blab2();}

if (!Menu.Contains("Americano")){
customerlisten();  PCTalk(); dText.Text=("Sorry, but no coffee."); blab2();
customertalk();  PCListen(); dText.Text=("Ah, for real?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Chris: "); dText.Text=("..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Huh. Could I get a %s, instead?",dots); blab3();
customerlisten();  PCTalk(); dText.Text=("Sure! Coming right up!"); blab2();
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellRandom();}
if (Menu.Contains("Americano")){
customerlisten();  PCTalk(); 
if (GetGlobalInt(1)==1){dText.Text=("Try Americano, please. "); blab1();}
if (GetGlobalInt(1)==2){dText.Text=("How about an Americano?"); blab1();
PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
if (GetGlobalInt(1)==3){dText.Text=("How about an Americano?"); blab1();
PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
if (GetGlobalInt(1)==4){dText.Text=("Try an Americano instead."); blab1();}
customerlisten();PCListen(); dText.Text=("Sure - OK."); blab1();
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellAmericano();}}}

if (GetGlobalInt(1)==3){//Chris Wants a Bagel
customertalk();  PCListen(); dText.Text=("You got bagels, right?"); blab1();
if (bagel_plain_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Sure, yeah."); blab1();
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellBagel_Plain();}
if (bagel_plain_remaining==0){
Spin();
customerlisten();  PCTalk(); dText.Text=("Sorry, but no bagels."); blab2();
customertalk();  PCListen(); dText.Text=("Ah, for real?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Huh. Could I get a %s, instead?",dots); blab3();
customerlisten();  PCTalk(); dText.Text=("Sure, Coming right up."); blab2();
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellRandom();}}

if (GetGlobalInt(1)==4){//Hot Dog, Please!
customertalk();  PCListen(); dText.Text=("Hot dog?"); blab1();

if ((hotdogs_remaining!=0)&&(buns_remaining!=0)){
customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellHotdog();}
else if ((hotdogs_remaining==0)||(buns_remaining==0)){
Spin();
customerlisten();  PCTalk(); dText.Text=("Sorry, but I'm out of dogs."); blab1();
customertalk();  PCListen(); dText.Text=("Is that right?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Chris: "); dText.Text=("..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellRandom();}}
}

else if (rbd==1){//Chris Just Wants Soda
if (Menu.Contains("Pipeline Crest")){  
PCListen(); customertalk(); dText.Text=("Ah, hey..."); blab1(); 
PCListen(); customertalk(); dText.Text=("You got Crest?"); blab1(); 
PCTalk(); customerlisten(); dText.Text=("Oh, okay."); blab1(); 
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellCrest();}
else if ((!Menu.Contains("Pipeline Crest"))&&(Menu.Contains("Pipeline Rinse"))){
PCListen(); customertalk(); dText.Text=("Ah, you don't got Crest?"); blab2(); 
PCTalk(); customerlisten(); dText.Text=("Just... umm..."); blab1(); 
PCTalk(); customerlisten(); dText.Text=("Just, umm, \"Rinse\"."); blab2(); 
PCListen(); customertalk(); dText.Text=("Sure - That's fine."); blab1(); 
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellRinse();}
else if ((!Menu.Contains("Pipeline Crest"))&&(!Menu.Contains("Pipeline Rinse"))){
PCListen(); customertalk(); dText.Text=("Ah, man..."); blab1(); 
PCListen(); customertalk(); dText.Text=("You don't have soda?"); blab2(); 
PCTalk(); customerlisten(); dText.Text=("Not today."); blab1();
PCListen(); customertalk(); dText.Text=("A'ight. Thanks."); blab1();
StopPop(); SetGlobalInt(32, 0); Chris.UnlockView(); Chris.breakaway();}}

else if (rbd==2){//Chris Wants Whatever's on the Menu
if (Menu.ItemCount >= 3){
Spin();
customertalk(); PCListen(); dText.Text=String.Format("How about... %s?", dots); blab1();
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellRandom();}
else if (Menu.ItemCount <= 2){
customertalk();PCListen(); dText.Text=String.Format("How about a %s?", Menu.Items[0]); blab1();
fChris+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Chris.sellMenu0();}}}}}


////////////////SebastianBUY//SebastianBUY//////////////////SebastianBUY//SebastianBUY//////////////////SebastianBUY//SebastianBUY//
function Sebastianbuy(){ PCListen(); customerlisten(); SetGlobalInt(33, 0);
if (Menu.ItemCount==0){ 
customertalk(); PCListen(); dText.Text=("You not selling yet?"); blab2(); 
customerlisten();  PCTalk(); dText.Text=("Nope, not yet. I still need to pick a few things up. "); blab3();
customertalk(); PCListen(); dText.Text=("Sure, okay. "); blab1();
StopPop(); SetGlobalInt(33, 0); Sebastian.UnlockView(); Sebastian.breakaway();}
else if (Menu.ItemCount!=0){dName.Text=("Sebastian: "); Sebastian.LockView(146);
if (GetGlobalInt(433)==0){//First Conv
SetGlobalInt(433, 1);
if (GetGlobalInt(1)==1){//Andrus First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s, please.",dots); blab2();
customerlisten();  PCTalk(); dText.Text=("Yes. Good. Okay."); blab1();
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellRandom();}

if (GetGlobalInt(1)==2){//Melanie First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s, please.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Great! Coming right up!"); blab2();
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellRandom();}

if (GetGlobalInt(1)==3){//Vinny First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s?",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Sure!"); blab1();
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellRandom();}

if (GetGlobalInt(1)==4){//Logan First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep!"); blab1();
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellRandom();}
}//end firstconv

else if (GetGlobalInt(433)!=0){
int rbd=Random(2);

if (rbd==0){//Sebastian Wants Your Usual Thing
if (GetGlobalInt(1)==1){//Sebastian Wants Newspapers
customertalk(); PCListen(); dText.Text=("Do you sell the Georgetonian?"); blab2();
if (paper_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Yes, sure. Okay."); blab1();
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellGeorgetonian();}
else if (paper_remaining<=0){
customerlisten();  PCTalk(); dText.Text=("Sorry, I am out of Georgetonians for today."); blab3();
customertalk();  PCListen(); dText.Text=("You are?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yes, I'm sorry."); blab1();
customertalk();  PCListen(); dText.Text=("I see. Thank you."); blab1();
customerlisten();  PCTalk(); dText.Text=("Thank you, sir!"); blab1();}
SetGlobalInt(433, 1);  PCListen(); customerlisten(); StopPop(); 
SetGlobalInt(33, 0); Sebastian.UnlockView(); Sebastian.breakaway();}

if (GetGlobalInt(1)==2){//Sebastian Wants a Coffee Beverage: You Choose
customertalk();  PCListen(); dText.Text=("How about some coffee?"); blab1();
if (Menu.Contains("Coffee")==true){
customerlisten();  PCTalk(); dText.Text=("Sure..."); blab1();
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellCoffee_Any();}
else if (Menu.Contains("Coffee")==false){
Spin();
customerlisten();PCTalk();
if (GetGlobalInt(1)==1){dText.Text=("I am having no coffee."); blab2();}
if (GetGlobalInt(1)==2){dText.Text=("I don't have drip coffee."); blab2();}
if (GetGlobalInt(1)==3){dText.Text=("Hmm... No coffee today."); blab2();}
if (GetGlobalInt(1)==4){dText.Text=("I don't sell coffee."); blab2();}
if (!Menu.Contains("Americano")){
customerlisten();  PCTalk(); dText.Text=("Sorry, but no coffee."); blab2();
customertalk();  PCListen(); dText.Text=("I see..."); blab1();
customerlisten();  PCListen(); dName.Text=("Sebastian: "); dText.Text=("..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Could I get a %s, instead?",dots); blab3();
customerlisten();  PCTalk(); dText.Text=("Coming right up!"); blab2();
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellRandom();}
if (Menu.Contains("Americano")){
customerlisten();  PCTalk(); 
if (GetGlobalInt(1)==1){dText.Text=("Try Americano, please. "); blab1();}
if (GetGlobalInt(1)==2){dText.Text=("How about an Americano?"); blab1();
PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
if (GetGlobalInt(1)==3){dText.Text=("How about an Americano?"); blab1();
PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
if (GetGlobalInt(1)==4){dText.Text=("Try an Americano instead."); blab1();}
customertalk();PCListen(); dText.Text=("That sounds fine."); blab1();
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellAmericano();}}}

if (GetGlobalInt(1)==3){//Sebastian Wants a Bagel
customertalk();  PCListen(); dText.Text=("Are you selling bagels today?"); blab1();
if (bagel_plain_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Sure, yeah."); blab1();
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellBagel_Plain();}
else if (bagel_plain_remaining==0){
Spin();
customerlisten();  PCTalk(); dText.Text=("Sorry, but no bagels."); blab2();
customertalk();  PCListen(); dText.Text=("Oh - no bagels?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Maybe I'll get a %s, instead?",dots); blab3();
customerlisten();  PCTalk(); dText.Text=("Sure, Coming right up."); blab2();
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellRandom();}}

if (GetGlobalInt(1)==4){//Hot Dog, Please!
customertalk();  PCListen(); dText.Text=("Are you selling hot dogs today?"); blab2();

if ((hotdogs_remaining!=0)&&(buns_remaining!=0)){
customerlisten();  PCTalk(); dText.Text=("Yep!"); blab1();
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellHotdog();}
else if ((hotdogs_remaining==0)||(buns_remaining==0)){
Spin();
customerlisten();  PCTalk(); dText.Text=("Sorry, but I'm out of dogs."); blab1();
customertalk();  PCListen(); dText.Text=("Is that right?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Sebastian: "); dText.Text=("..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellRandom();}}
}

if (rbd==1){//Sebastian Just Wants Soda
if (Menu.Contains("Pipeline Crest")){  
PCListen(); customertalk(); dText.Text=("Do you sell Pipeline Crest?"); blab1(); 
PCTalk(); customerlisten(); dText.Text=("Oh, okay."); blab1(); 
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellCrest();}
else if ((!Menu.Contains("Pipeline Crest"))&&(Menu.Contains("Pipeline Rinse"))){
PCListen(); customertalk(); dText.Text=("You don't sell Pipeline Crest, do you?"); blab2(); 
PCTalk(); customerlisten(); dText.Text=("Just... umm..."); blab1(); 
PCTalk(); customerlisten(); dText.Text=("Just, uhh, \"Rinse\"."); blab2(); 
PCListen(); customertalk(); dText.Text=("Oh - That would be fine."); blab1(); 
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellRinse();}
else if ((!Menu.Contains("Pipeline Crest"))&&(!Menu.Contains("Pipeline Rinse"))){
PCListen(); customertalk(); dText.Text=("You don't sell soda?"); blab2(); 
PCTalk(); customerlisten(); dText.Text=("Not today."); blab1();
PCListen(); customertalk(); dText.Text=("I see - Thanks."); blab1();
StopPop(); SetGlobalInt(33, 0); Sebastian.UnlockView(); Sebastian.breakaway();}}

else if (rbd==2){//Sebastian Wants Whatever's on the Menu
if (Menu.ItemCount >= 3){
Spin();
customertalk(); PCListen(); dText.Text=String.Format("How about... %s?", dots); blab1();
customerlisten();PCTalk();   dText.Text=("Of course."); blab1();
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellRandom();}
else if (Menu.ItemCount <= 2){
customertalk();PCListen(); dText.Text=String.Format("How about a %s?", Menu.Items[0]); blab1();
fSebastian+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Sebastian.sellMenu0();}}}}}


//=================ThreeBuy=================/////////
function Threebuy(){ PCListen(); customerlisten();  SetGlobalInt(37, 0); SetGlobalInt(437, 1); SetGlobalInt(313, 1);
if (Menu.ItemCount==0){ 
if (GetGlobalInt(1)==2){Threetalk_S(); dText.Text=("Oh... She's not ready to sell us anything yet."); blab4();}
if (GetGlobalInt(1)!=2){Threetalk_S(); dText.Text=("Oh... He doesn't have anything to sell us just yet."); blab4();}
if (GetGlobalInt(1)!=1){customerlisten(); PCTalk(); dText.Text=("That's right, I'm afraid."); blab2();}
if (GetGlobalInt(1)==1){customerlisten(); PCTalk(); dText.Text=("Yes - I am not having of anything to sell."); blab3();}
Threetalk_P(); PCListen(); dText.Text=("We will return again."); blab1(); 
StopPop(); SetGlobalInt(37, 0); TheThree.UnlockView(); TheThree.breakaway();}
else if (Menu.ItemCount!=0){
dName.Text=("The Three: "); TheThree.LockView(160);
Spin();
customerlisten(); PCTalk(); 
if (GetGlobalInt(1)==1){dText.Text=("What can I be getting for you?"); blab2();}
if (GetGlobalInt(1)==2){dText.Text=("What can I make for you today?"); blab2();}
if (GetGlobalInt(1)==3){dText.Text=("So what'll it be, boys?"); blab2();}
if (GetGlobalInt(1)==4){dText.Text=("What you need, fellas?"); blab2();}

int threeturn=Random(2);
if (threeturn==0){//Philip Glass is buying!
Threetalk_P(); PCListen (); dText.Text=("It's my turn to buy, I'm afraid."); blab3();
Threetalk_M(); PCListen(); dText.Text=("Correct. "); blab1();
Threetalk_P(); PCListen (); dText.Text=String.Format("Three %ss, please.",dots); blab2();
Threetalk_S(); dText.Text=("An agreeable choice, Phil."); blab1();}
if (threeturn==1){//Michael Nyman is buying?!
Threetalk_M(); PCListen (); dText.Text=("I'm afraid I'm buying, today."); blab3();
Threetalk_S(); PCListen(); dText.Text=("You sure are. "); blab1();
Threetalk_M(); PCListen (); dText.Text=String.Format("Three %ss, gentlemen?",dots); blab2();
Threetalk_P(); PCListen(); dText.Text=("Sounds good to me."); blab1();
Threetalk_S(); PCListen(); dText.Text=("Seconded. "); blab1();
Threetalk_M(); PCListen (); dText.Text=String.Format("Make it three %ss, please. ",dots); blab2();}
if (threeturn==2){//Steve Reich is buying!
Threetalk_S(); PCListen (); dText.Text=("Is it my turn, gentlemen?"); blab3();
Threetalk_P(); PCListen(); dText.Text=("You got it. "); blab1();
Threetalk_S(); PCListen (); dText.Text=String.Format("Three %ss, please.",dots); blab2();
Threetalk_M(); PCListen(); dText.Text=("An excellent choice, Steve."); blab1();}

customerlisten(); PCTalk(); 
if (itemremaining<3){
if (itemremaining==1){//ONLY ONE LEFT!
if (GetGlobalInt(1)==1){dText.Text=("I am having only one."); blab2();}
if (GetGlobalInt(1)==2){dText.Text=("I've only got enough for one of you..."); blab3();}
if (GetGlobalInt(1)==3){dText.Text=("Ahh... I only have enough for one of you."); blab3();}
if (GetGlobalInt(1)==4){dText.Text=("There's only enough left for one."); blab2();}
customertalk(); PCListen(); dText.Text=("We understand, and we'll take what we can."); blab2();
customerlisten(); PCTalk(); dText.Text=("Here it is."); blab1(); 
PCListen(); customerlisten(); dText.Text=(" "); 
orderremaining=1;
TheThree.sellRandom();}
if (itemremaining==2){//ONLY TWO LEFT!!
if (GetGlobalInt(1)==1){dText.Text=("I am having only two."); blab2();}
if (GetGlobalInt(1)==2){dText.Text=("I've only got enough for two of you..."); blab3();}
if (GetGlobalInt(1)==3){dText.Text=("Ahh... I only have enough for two of you."); blab3();}
if (GetGlobalInt(1)==4){dText.Text=("There's only enough left for two."); blab2();}
customertalk(); PCListen(); dText.Text=("We understand, and we'll take what we can."); blab2();
customerlisten(); PCTalk(); dText.Text=("Here's one..."); blab1(); 
PCListen(); customerlisten(); dText.Text=(" "); 
orderremaining=2;
TheThree.sellRandom();
WaitMouseKey(4);
if (itemremaining>0){
customerlisten(); PCTalk(); dText.Text=("And the second..."); blab1(); 
PCListen(); customerlisten(); dText.Text=(" "); 
TheThree.sellRandom();}}}

if (itemremaining>=3){//Enough for everybody!
orderremaining=3;
if (GetGlobalInt(1)==1){dText.Text=("I will be getting of them now."); blab2();}
if (GetGlobalInt(1)==2){dText.Text=("Right away!"); blab1();}
if (GetGlobalInt(1)==3){dText.Text=("Sure thing!"); blab1();}
if (GetGlobalInt(1)==4){dText.Text=("Sure guys!"); blab1();}

customerlisten(); PCTalk(); dText.Text=("Here's one..."); blab1(); 
PCListen(); customerlisten(); dText.Text=(" "); 
TheThree.sellRandom();
WaitMouseKey(4);
if ((GetGlobalInt(37)==1)&&(itemremaining>0)){
customerlisten(); PCTalk(); dText.Text=("The second..."); blab1(); 
PCListen(); customerlisten(); dText.Text=(" "); 
TheThree.sellRandom();}
if ((GetGlobalInt(37)==1)&&(itemremaining>0)){
customerlisten(); PCTalk(); dText.Text=("And third."); blab1(); 
PCListen(); customerlisten(); dText.Text=(" "); 
TheThree.sellRandom(); fThree+=3;}}}}


//=================BasinskiBuy=================/////////
function Basinskibuy(){SetGlobalInt(343, 1);
Basinski.FollowCharacter(null, 0, 0); Basinski.StopMoving(); TalkPop(); Wait(40); salebuyer=("Basinski");
PCListen(); customerlisten(); 
if (Menu.ItemCount==0){ 
customerlisten(); PCTalk(); dText.Text=("Hello, sir."); blab1(); 
customertalk(); PCListen(); dText.Text=("Yeah, Hello."); blab1(); 
customertalk(); PCListen(); dText.Text=("How's business?"); blab1(); 
customerlisten(); PCTalk(); 
if (GetGlobalInt(1)==1){dText.Text=("I am having nothing of sale, today."); blab3();}
if (GetGlobalInt(1)==2){dText.Text=("Well, I'm just getting some things together."); blab4();
customerlisten(); PCTalk(); dText.Text=("...but I don't have anything for sale right now!"); blab4();}
if (GetGlobalInt(1)==3){dText.Text=("Well, I'm out of stock."); blab2();}
if (GetGlobalInt(1)==4){dText.Text=("No hot dogs. Sorry."); blab1();}
customertalk(); PCListen(); dText.Text=("Oh, really?"); blab1(); 
customertalk(); PCListen(); dText.Text=("Listen - Good luck getting things together."); blab3(); 
customertalk(); PCListen(); dText.Text=("I'll be around this way on most mornings."); blab3(); 
StopPop(); SetGlobalInt(43, 0); Basinski.UnlockView(); Basinski.breakaway();}
else if (Menu.ItemCount!=0){dName.Text=("Basinski: "); Basinski.LockView(180);
if (GetGlobalInt(443)==0){//First Conv
SetGlobalInt(443, 1);

    if (GetGlobalInt(1)==1){//Andrus First Conv
Spin();
customertalk(); PCListen();// Bas is saying Good Morning, etc
{if ((hour>=1)&&(hour<5)&&(ampm==0)){dText.Text=("How are you, tonight?"); blab2();}
if ((hour>=5)&&(hour<12)&&(ampm==0)){dText.Text=("Hey, good morning!"); blab2();}
if ((hour>=1)&&(hour<8)&&(ampm==1)){dText.Text=("Hi there!"); blab1();}
if ((hour>=8)&&(hour<12)&&(ampm==1)){dText.Text=("How are you, tonight?"); blab2();}
if (hour==12){dText.Text=("Wow, nice day, huh?"); blab2();}}
customerlisten(); PCTalk(); dText.Text=("Good to be seeing you, this morning."); blab3(); 
customertalk(); PCListen(); dText.Text=("So, you're the new paper guy, huh?"); blab3(); 
PCListen(); customerlisten(); SetGlobalInt(43, 0); SetGlobalInt(313, 1);
dBas_AP_1.Start();} 

if (GetGlobalInt(1)==2){//Melanie First Conv
Spin();
customertalk(); PCListen(); dText.Text=("Hey, good morning!"); blab2();
customerlisten(); PCTalk(); dText.Text=("Good Morning!"); blab1(); 
customertalk(); PCListen(); dText.Text=("So, you must be Melanie."); blab3();
customerlisten(); PCListen(); dName.Text=("Melanie: "); dText.Text=("...?"); blab3(); 
PCListen(); customerlisten(); SetGlobalInt(43, 0); SetGlobalInt(313, 1);
dText.Text=(" "); dName.Text=("Melanie: "); dBas_ME_1.Start();}


if (GetGlobalInt(1)==3){//Vinny First Conv
Spin();
customertalk(); PCListen(); dText.Text=("Hey, good morning!"); blab2();
customerlisten(); PCTalk(); dText.Text=("'Morning!"); blab1(); 
customertalk(); PCListen(); dText.Text=("So... How about one bagel for breakfast?"); blab3();
dText.Text=(" "); dName.Text=("Vinny: "); 
PCListen(); customerlisten(); SetGlobalInt(43, 0); SetGlobalInt(313, 1);
if (bagel_plain_remaining!=0){dBas_V_1.SetOptionState(2, eOptionOn);}//Plain Bagels
if ((creamcheese_remaining!=0)||(vcheese_remaining!=0)){dBas_V_1.SetOptionState(3, eOptionOn);}//Cream Cheeselick
if (upgrade_2.NormalGraphic==1325){dBas_V_1.SetOptionState(4, eOptionOn);}//Toasted
if ((lox_remaining!=0)||(capers_remaining!=0)){dBas_V_1.SetOptionState(5, eOptionOn);}//Lox+Capers
dBas_V_1.Start();}

if (GetGlobalInt(1)==4){//Logan First Conv
Spin();
customertalk(); PCListen(); dText.Text=("Hello."); blab1(); 
customerlisten(); PCTalk(); dText.Text=("Good morning."); blab1(); 
customertalk(); PCListen(); dText.Text=("You're sure out here early. "); blab1();
customertalk(); dText.Text=("That's a pretty dedicated hot dog vendor, if you ask me."); blab1(); 
customerlisten(); PCTalk(); dText.Text=("What can I getcha?"); blab2(); 
customertalk(); PCListen (); dText.Text=String.Format("I'll try your %ss, please.",dots); blab2();
customerlisten(); PCTalk(); dText.Text=("Right away!"); blab2(); 
PCListen(); customerlisten(); SetGlobalInt(43, 0); SetGlobalInt(313, 1);
Basinski.sellRandom();}
}//End First Talk

else if (GetGlobalInt(443)!=0){
    if (GetGlobalInt(1)==1){//Andrus All Convs
customertalk(); PCListen(); dText.Text=String.Format("How are you this morning, %s?",player.Name); blab4();
customerlisten(); PCTalk(); dText.Text=("Good to be seeing you, this morning."); blab3(); 
customertalk(); PCListen(); dText.Text=("How 'bout a paper, huh?"); blab2(); 
if (paper_remaining<=0){
customerlisten(); PCTalk(); dText.Text=("I have no newspapers today."); blab3();
customertalk(); PCListen(); dText.Text=("No kidding?"); blab1();
customertalk(); PCListen(); dText.Text=("No newspapers?"); blab1();
customerlisten(); PCTalk(); dText.Text=("None to be selling."); blab2();
customertalk(); PCListen(); dText.Text=("All right."); blab1();
customertalk(); PCListen(); dText.Text=("See you tomorrow morning."); blab1();
customerlisten(); PCTalk(); dText.Text=("Yes. Good. OK."); blab2();
dText.Text=(" "); dName.Text=(" "); StopPop(); Basinski.breakaway();}
if (paper_remaining>0){
customerlisten(); PCTalk(); dText.Text=("Yes. Good. OK."); blab2();
customertalk(); PCListen(); dText.Text=("Great."); blab1();
dText.Text=(" "); dName.Text=(" ");
Basinski.sellGeorgetonian();}
    SetGlobalInt(43, 0); SetGlobalInt(313, 1);}

if (GetGlobalInt(1)==2){//Melanie  All Convs
Spin();
customertalk(); PCListen(); dText.Text=("Hey, good morning!"); blab2();
customerlisten(); PCTalk(); dText.Text=("Good Morning!"); blab1(); 
PCListen(); customertalk(); dText.Text=("How's the coffee?"); blab2();
if ((Menu.Contains("Coffee"))||(Menu.Contains("Americano"))){ // Got Coffee
  if (cups_remaining >= 4){// Got Cups
    PCTalk(); customerlisten(); dText.Text=("Hot and fresh!"); blab1();
    PCListen(); customertalk(); dText.Text=("In that case, give me four cups."); blab3();
    PCListen(); customertalk(); dText.Text=("Another meeting this morning."); blab3();
    if ( ((upCoffee==("A"))&&(coffee_a_remaining>=4))||((upCoffee==("B"))&&(coffee_b_remaining>=4))||((upCoffee==("C"))&&(coffee_c_remaining>=4))||((upCoffee==("D"))&&(coffee_d_remaining>=4))){
    orderremaining=4;
    PCTalk(); customerlisten(); dText.Text=("Right away!"); blab1();
    PCTalk(); customerlisten(); dText.Text=("Here's one..."); blab1(); 
    Basinski.sellCoffee_Any();}
    if ( ((upCoffee==("A"))&&(coffee_a_remaining < 4))||((upCoffee==("B"))&&(coffee_b_remaining < 4))||((upCoffee==("C"))&&(coffee_c_remaining < 4))||((upCoffee==("D"))&&(coffee_d_remaining < 4))){
    PCTalk(); customerlisten(); dText.Text=("Oh, no!"); blab1();
    PCListen(); customertalk(); dText.Text=("What's wrong?"); blab1();
    PCTalk(); customerlisten(); dText.Text=("I don't have that much coffee left!"); blab3();
    PCTalk(); customerlisten(); dText.Text=("Just one, then. The guys at work will just have to get their own."); blab5();
    Basinski.sellCoffee_Any();}}
  if (cups_remaining < 4){// Got Cups
    PCTalk(); customerlisten(); dText.Text=("Oh, no!"); blab1();
    PCListen(); customertalk(); dText.Text=("What's wrong?"); blab1();
    PCTalk(); customerlisten(); dText.Text=("I'm out of cups!"); blab3();
    PCListen(); customertalk(); dText.Text=("Really?"); blab1();
    PCTalk(); customerlisten(); dText.Text=("Yep. Sorry."); blab1();
    PCListen(); customertalk(); dText.Text=("That's OK. I'll be back tomorrow anyway."); blab4();
    StopPop(); Basinski.breakaway();}}
if ((!Menu.Contains("Coffee"))&&(!Menu.Contains("Americano"))){//No Coffee
    PCTalk(); customerlisten(); dText.Text=("Actually?"); blab1();
    PCListen(); customertalk(); dText.Text=("What's wrong?"); blab1();
    PCTalk(); customerlisten(); dText.Text=("I'm out of coffee!"); blab3();
    PCListen(); customertalk(); dText.Text=("Really?"); blab1();
    PCTalk(); customerlisten(); dText.Text=("Yep. Sorry."); blab1();
    PCListen(); customertalk(); dText.Text=("That's OK. I'll be around here most mornings."); blab4();
    PCTalk(); customerlisten(); dText.Text=("Thanks."); blab1();  
    customertalk(); PCListen(); dText.Text=("Have a good one, Melanie!"); blab3();
    dText.Text=(" "); dName.Text=(" "); StopPop(); Basinski.breakaway();}  
SetGlobalInt(43, 0); SetGlobalInt(313, 1);}


if (GetGlobalInt(1)==3){//Vinny All Convs
Spin();
customertalk(); PCListen(); dText.Text=("Hey, good morning!"); blab2();
customerlisten(); PCTalk(); dText.Text=("'Morning!"); blab1(); 
customertalk(); PCListen(); dText.Text=("So... How about one bagel for breakfast?"); blab3();
dText.Text=(" "); dName.Text=("Vinny: "); 
if (bagel_plain_remaining!=0){dBas_V_1.SetOptionState(2, eOptionOn);}//Plain Bagels
if ((creamcheese_remaining!=0)||(vcheese_remaining!=0)){dBas_V_1.SetOptionState(3, eOptionOn);}//Cream Cheeselick
if (upgrade_2.NormalGraphic==1325){dBas_V_1.SetOptionState(4, eOptionOn);}//Toasted
if ((lox_remaining!=0)||(capers_remaining!=0)){dBas_V_1.SetOptionState(5, eOptionOn);}//Lox+Capers
dBas_V_1.Start();}

if (GetGlobalInt(1)==4){//Logan All Convs
Spin();
customertalk(); PCListen(); dText.Text=("Good morning!"); blab1(); 
customerlisten(); PCTalk(); dText.Text=("Hi."); blab1(); 
customertalk(); PCListen (); dText.Text=String.Format("I need five %ss, please.",dots); blab2();
customertalk(); dText.Text=("I'm headed to a big meeting, and I'm buying breakfast."); blab1(); 

if (itemremaining<=0){//None left!
customerlisten(); PCTalk(); dText.Text=("I don't have enough for you..."); blab2();
customertalk(); PCListen(); dText.Text=("Ahh. OK"); blab2();
customerlisten(); PCTalk(); dText.Text=("See you."); blab1(); 
PCListen(); customerlisten(); dText.Text=(" "); 
StopPop(); Basinski.breakaway();}

if (itemremaining==1){//ONLY ONE LEFT!
customerlisten(); PCTalk(); dText.Text=("There's only enough left for one."); blab2();
customertalk(); PCListen(); dText.Text=("That's fine - everybody at the meeting can watch me eat it."); blab2();
customerlisten(); PCTalk(); dText.Text=("Here it is."); blab1(); 
PCListen(); customerlisten(); dText.Text=(" "); 
orderremaining=1;
Basinski.sellRandom();}
if (itemremaining==2){//ONLY TWO LEFT!!
customerlisten(); PCTalk(); dText.Text=("There's only enough left for two."); blab2();
customertalk(); PCListen(); dText.Text=("I'll eat one. They can all fight over the other one."); blab2();
customerlisten(); PCTalk(); dText.Text=("Here's one..."); blab1(); 
PCListen(); customerlisten(); dText.Text=(" "); 
orderremaining=2;
Basinski.sellRandom();}

if (itemremaining==3){//ONLY THREE LEFT!!
orderremaining=3;
customerlisten(); PCTalk(); dText.Text=("How about three?"); blab1();
customerlisten(); PCTalk(); dText.Text=("That's all I've got."); blab1();
customerlisten(); PCTalk(); dText.Text=("Three's good. We'll divide 'em up somehow."); blab1(); 
PCListen(); customerlisten(); dText.Text=(" "); 
Basinski.sellRandom();}

if (itemremaining==4){//ONLY FOUR LEFT!!
orderremaining=4;
customerlisten(); PCTalk(); dText.Text=("I've only got enough to make four."); blab1();
customerlisten(); PCTalk(); dText.Text=("Is that OK?"); blab1();
customerlisten(); PCTalk(); dText.Text=("Four's fine. We'll divide 'em up somehow."); blab1(); 
PCListen(); customerlisten(); dText.Text=(" "); 
Basinski.sellRandom();}

if (itemremaining>=5){
orderremaining=5;
customerlisten(); PCTalk(); dText.Text=("Right away!"); blab2(); 
PCListen(); customerlisten(); dText.Text=(" "); 
Basinski.sellRandom();}

SetGlobalInt(43, 0); SetGlobalInt(313, 1);}}
}}// == End Basinski

function Vinnyswitch(){
  TalkPop(); Wait(40);
  if (small_Vinny!=0){  
  PCListen(); customertalk(); dText.Text=("Hi there! Remember me?"); blab1();
  PCTalk(); customerlisten(); dText.Text=("Ummm...");blab1();
  PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" ");
  dVinnypermit0.Start();}
  if (small_Vinny==0){  
  PCListen(); customertalk(); dText.Text=("Ahoy, vendor!"); blab1();
  PCTalk(); customerlisten(); dText.Text=("Yes. Hello.");blab1();
  PCListen(); customertalk();dText.Text=("I don't think we've met before.");blab1();
  small_Vinny+=1; boxadd("Vinny");  boxadd("13th & Numismia"); 
  PCListen(); customertalk();dText.Text=("I'm known around here as vinny, the bagel vendor.");blab1();
  PCListen(); customertalk();dText.Text=("I'm usually over on 13th street, selling bagels out of this old cart.");blab1();
  PCTalk(); customerlisten(); dText.Text=("OK.");blab1();
  PCTalk(); customerlisten(); dText.Text=("I am Andrus selling newspapers.");blab1();
  PCListen(); customertalk();dText.Text=("You don't say?");blab1();
  PCListen(); customertalk();dText.Text=("How's the newspaper business?");blab1();
  PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" ");
dVinnypermit1.Start();}}

function Movedtalk(){moved_Alice=false;
  TalkPop(); Wait(40);
  PCListen(); customertalk(); dText.Text=("*Whew*"); blab1();
  PCListen(); customertalk(); dText.Text=("Looks like we're all set, here."); blab1();
  PCTalk(); customerlisten(); dText.Text=("Thank you!");blab1();
    if (GetGlobalInt(1)==2){//Melanie
    PCListen(); customertalk(); dText.Text=("It was my pleasure, little lady. But I'll tell you what..."); blab1();
    PCListen(); customertalk(); dText.Text=("You know what I wouldn't mind is a fresh cup of coffee."); blab1();
    PCListen(); customertalk(); dText.Text=("Any chance of talking you out of that first cup?"); blab1();
    PCListen(); customertalk(); dText.Text=("It'd give you a chance to get acquainted with the interior set-up."); blab1();
    PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" ");
    dAlicePractice.Start();
    }
  else{
  PCListen(); customertalk(); dText.Text=("Have fun! Take care!"); blab1();
  PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" ");
  StopPop(); customerbreakaway();}
}

function Winstonbuy(){TalkPop(); Wait(40);
if ((GetGlobalInt(456)==0)){//First Time
SetGlobalInt(456, 1);
PCListen(); customertalk(); dText.Text=("Hey, man..."); blab1();
PCTalk(); customerlisten(); dText.Text=("Umm. Yes?");blab1();
PCListen(); customertalk();
int winstplead=Random(5);
if (winstplead==0){dText.Text=("You wouldn't happen to have any spare change on you?");blab1();}
if (winstplead==1){dText.Text=("Would you happen to have any spare change?");blab1();}
if (winstplead==2){dText.Text=("I don't suppose you could help me out with some spare change?");blab1();}
if (winstplead==3){dText.Text=("You got any change you could spare?");blab1();}
if (winstplead==4){dText.Text=("Could you help me out with some spare change?");blab1();}
if (winstplead==5){dText.Text=("I don't suppose you could spare any change, today?");blab1();}
PCTalk(); customerlisten(); dText.Text=("...");blab1();
dText.Text=(" "); dName.Text=(" ");
dWinston1.Start();}
else if (GetGlobalInt(456)==1){
PCListen(); customertalk(); dText.Text=("Hey - Can you help out with some spare change, today?"); blab1();
PCTalk(); customerlisten(); dText.Text=("...");blab1();
dText.Text=(" "); dName.Text=(" ");
dWinston1.Start();}
}

int answerprog;
function Glendabuy(){
glenda_puzzled=true;
TalkPop(); Wait(40);
PCListen(); customertalk(); dText.Text=("Hi, hello."); blab1();
PCTalk(); customerlisten(); 
if (GetGlobalInt(1)==1){dText.Text=("Hello, too.");blab1();}
if (GetGlobalInt(1)==2){dText.Text=("Hi there!");blab1();}
if (GetGlobalInt(1)==3){dText.Text=("Why, hello.");blab1();}
if (GetGlobalInt(1)==4){dText.Text=("What?");blab1();}
//PCListen(); customertalk(); dText.Text=("Hello."); blab1();
PCListen(); customertalk();
int glendaplead=Random(5);
if (glendaplead==0){dText.Text=("Would you be able to help me with this crossword?");blab1();}
if (glendaplead==1){dText.Text=("I'm sorry to have to ask, but I'm just stuck.");blab1();}
if (glendaplead==2){dText.Text=("I've been hung up on one thing all day...");blab1();}
if (glendaplead==3){dText.Text=("This stupid thing is just driving me crazy...");blab1();}
if (glendaplead==4){dText.Text=("This will only take a second.");blab1();}
if (glendaplead==5){dText.Text=("If you don't know, it's okay, but maybe you can help me.");blab1();}
PCTalk(); customerlisten(); dText.Text=("...?");blab1();
PCListen(); customertalk(); dText.Text=("I'm almost finished with today's crossword and I'm stuck on this one."); blab1();
PCListen(); customertalk(); dText.Text=("Care to give it a try? It'd only take a second."); blab1();
dText.Text=(" "); dName.Text=(" ");
answerprog+=1;
if (answerprog==1){todays_answer=("emu"); todays_clue=("A three letter word for a flightless bird.");}
if (answerprog==2){todays_answer=("goiter"); todays_clue=("Affliction of the hypothalimus. Starts with a G. Five letters.");}
if (answerprog==3){todays_answer=("hammerhead"); todays_clue=("A ten letter word for a small, bullying, self-important newspaperman.");}
if (answerprog==4){todays_answer=("moron"); todays_clue=("A five letter word for an imbicile. Has an R in the middle.");}
if (answerprog==5){todays_answer=("proxy"); todays_clue=("A five letter word for phony imitation. Starts with \"PR\", ends in \"Y\".");}
if (answerprog==6){todays_answer=("pulitzer"); todays_clue=("Journalism's highest honor. Eight letters. The second letter is \"U\".");}
if (answerprog==7){todays_answer=("Ibex"); todays_clue=("Four letter word for an African game animal. Ends in \"X\".");}
if (answerprog==8){todays_answer=("karma"); todays_clue=("Five letters. An eastern philosophical concept shared by beatniks.");}
if (answerprog==9){todays_answer=("lumbago"); todays_clue=("A medical affliction of the lower back. Seven letters. Ends in \"O\".");}
if (answerprog==10){todays_answer=("satchel"); todays_clue=("Seven letter word for a bag or briefcase. Ends in \"EL\".");}
if (answerprog==11){todays_answer=("highball"); todays_clue=("\"A cocktail.\" Eight letters, ends in \"all\".");}
if (answerprog==12){todays_answer=("circle"); todays_clue=("\"A round shape.\" Six letters, ends in \"LE\".");}
if (answerprog==13){todays_answer=("Hoop"); todays_clue=("\"Another round shape.\" Four letters, the first letter is \"H\".");}
dCrossword1.Start();
}


function Georgebuy(){
  salebuyer=("George");
  TalkPop(); Wait(40);
  PCListen(); customerlisten();
if ((GetGlobalInt(1)==1)&&(GetGlobalInt(101)>10)){//Andrus moved in?
  if (dayspassed!=5){
    int bitchfest=Random(3);
    if (bitchfest==0){
        int paperbitch=Random(2);
        PCListen(); customertalk(); 
        if (paperbitch==0){dText.Text=("You selling newspapers, huh?"); blab1();}
        if (paperbitch==1){dText.Text=("You working here today, huh?"); blab1();}
        if (paperbitch==2){dText.Text=("You selling the daily newspaper, right?"); blab1();}
        PCTalk(); customerlisten(); dText.Text=("Yes.");blab1();
        PCListen(); customertalk();dText.Text=("How much?");blab1();
        PCTalk(); customerlisten(); dText.Text=String.Format("The daily paper is being $%.2f.",PaperPrice); blab1();
        if (PaperPrice<0.50){  
          PCListen(); customertalk();dText.Text=("No thanks.");blab1();
          PCListen(); customertalk();dText.Text=("I rather watch news at home on tv.");blab1();}
        if (PaperPrice>0.50){  
          PCListen(); customertalk();dText.Text=("That too much for newspaper.");blab1();
          PCTalk(); customerlisten(); dText.Text=("It is?");blab1();
        if (PaperPrice<1.00){PCListen(); customertalk();dText.Text=("Why pay almost one dollar for news?");blab1();}
        if ((PaperPrice>0.99)&&(PaperPrice<1.01)){PCListen(); customertalk();dText.Text=("Why one dollar for news?");blab1();}
        if ((PaperPrice>1.00)<(PaperPrice<2.00)){PCListen(); customertalk();dText.Text=("Why more than one dollar for news?");blab1();}
        if (PaperPrice>2.00){PCListen(); customertalk();dText.Text=("Who ever pay that much for newspaper?");blab1();}
        PCListen(); customertalk();dText.Text=("I watch news at home for free.");blab1();}
        PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); 
        dGeorgeTV.Start();}
      if (bitchfest==1){
        PCListen(); customertalk(); 
          if (player.Room==5){dText.Text=("What time the Pawn Shop close?"); blab1();}
          if (player.Room==14){dText.Text=("What time the Courthouse close?"); blab1();}
          if (player.Room==20){dText.Text=("What time that grocery store close?"); blab1();}
          if (player.Room==22){dText.Text=("What time the pizza store close?"); blab1();}
          customerlisten(); PCTalk(); dText.Text=("It, uhh...");blab1();
          int hourbitch=Random(2);
          PCListen(); customertalk(); 
          if (hourbitch==0){dText.Text=("You don't know, huh? I go ask them, then."); blab1();}
          if (hourbitch==1){dText.Text=("Ah, I don't have time to stop there, anyway. I come back tomorrow, okay?"); blab1();}
          if (hourbitch==2){dText.Text=("It probably shown on their door, I think. I go check, now."); blab1();}
          customerlisten(); PCTalk(); dText.Text=("Yes, okay."); blab1();
          PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" ");
          hunger[George.ID]=0;
          StopPop(); customerbreakaway();
          SaleInProgress=0;
        }
    if (bitchfest==2){//What time is it?
      customertalk(); dText.Text=("What time is it?");blab1();
      PCTalk(); customerlisten(); dText.Text=("Yes, umm...");blab1();
      if ((cSlot2.InventoryQuantity[WatchA.ID]!=0)||(cSlot2.InventoryQuantity[WatchB.ID]!=0)||(cSlot2.InventoryQuantity[WatchC.ID]!=0)||(cSlot2.InventoryQuantity[WatchD.ID]!=0)){
        PCTalk(); customerlisten(); dText.Text=String.Format("It's... %s.", timelabeltext); blab1();}
      else{PCTalk(); customerlisten(); dText.Text=("I'm not sure. I don't have a watch.");blab1();}
      PCListen(); customertalk(); dText.Text=("Okay, bye-bye."); blab1();
      PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" ");
      hunger[George.ID]=0;
      StopPop(); customerbreakaway();
      SaleInProgress=0;
      }
    if (bitchfest==3){//Change?
      customertalk(); dText.Text=("You have change for this five dollar bill?");blab1();
      PCTalk(); customerlisten(); dText.Text=("Yes, umm...");blab1();
      if (Money<5.00){PCTalk(); customerlisten(); dText.Text=String.Format("I am not having that much."); blab1();
            PCListen(); customertalk(); dText.Text=("Okay, bye-bye."); blab1();
            PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" ");
            StopPop(); customerbreakaway();
            SaleInProgress=0;
      }
      else{
        PCListen(); customertalk(); dText.Text=(" ");
        dGeorgeChange.Start();
      }
    }//End "Change?"
  }//End Misc Bitching

  if (dayspassed==5){
  PCListen(); customertalk(); dText.Text=("I stop by today, OK?"); blab1();
  PCTalk(); customerlisten(); dText.Text=("Yes?");blab1();
  PCListen(); customertalk();dText.Text=("I just reminding you that rent due Monday.");blab1();
  PCListen(); customertalk();dText.Text=("You gonna have the rent?");blab1();
  PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); 
  dGeorgereminder0.Start();}
}
else{//Who knows?
  int georgia=Random(1);//Coin Flip
  if (georgia==0){//What time is it?
  customertalk(); dText.Text=("What time is it?");blab1();
  PCTalk(); customertalk(); dText.Text=("Yes, umm...");blab1();
  if ((cSlot2.InventoryQuantity[WatchA.ID]!=0)||(cSlot2.InventoryQuantity[WatchB.ID]!=0)||(cSlot2.InventoryQuantity[WatchC.ID]!=0)||(cSlot2.InventoryQuantity[WatchD.ID]!=0)){
  PCTalk(); customerlisten(); dText.Text=String.Format("It's %s", timelabeltext); blab1();}
  else{PCTalk(); customertalk(); dText.Text=("I'm not sure. I don't have a watch.");blab1();}
  PCListen(); customertalk(); dText.Text=("Okay, bye-bye.");  
  PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" ");
  hunger[George.ID]=0;
  StopPop(); customerbreakaway();
  SaleInProgress=0;
  }
  
  if (georgia==1){
  Spin();
  PCListen(); customertalk(); dText.Text=String.Format("I buy the %s, okay?",dots); blab1();
  PCTalk(); customerlisten();
  if (GetGlobalInt(1)==1){dText.Text=("Yes, good. Okay.");blab1();}
  else {dText.Text=("Sure.");blab1();}
  PCListen(); customerlisten(); dName.Text=(" "); dText.Text=(" ");
  Customer.sellRandom();}
}
}

bool isClarenced;
function Genericbuy(){
  if (Customer==Meadow){isMeadowed=true;}
if (Menu.ItemCount==0){
  PCListen(); customertalk(); dText.Text=("Nothing for sale yet?"); blab1();
  PCListen(); customertalk(); dText.Text=("I'll come back when you're selling something."); blab1();
PCTalk(); customerlisten(); dText.Text=("Thank you.");blab1();
PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); StopPop(); customerbreakaway();
SaleInProgress=0;}

if (Menu.ItemCount!=0){
  
  if ((Customer==Clarence)&&(isClarenced==false)&&(GetGlobalInt(1)==2)){//Clarence Likes Melanie's Stand
      isClarenced=true;
      PCListen(); customertalk(); dText.Text=("Nice stand you got here."); blab1();
      PCTalk(); customerlisten(); dText.Text=("Thanks!"); blab1();
      PCListen(); customertalk(); dText.Text=("Real nice. Real nice."); blab1();
      customertalk(); PCListen(); dText.Text=("Two sinks in there?");blab1();
      PCTalk(); customerlisten(); dText.Text=("Yep!"); blab1();
      customertalk(); PCListen(); dText.Text=("Full interior lights?");blab1();
      PCTalk(); customerlisten(); dText.Text=("That's right."); blab1();
      customertalk(); PCListen(); dText.Text=("Nice menu board, too.");blab1();
      PCTalk(); customerlisten(); dText.Text=("Thank you, sir."); blab1();
      customertalk(); PCListen(); dText.Text=("Okay, okay, fine...");blab1();
      customertalk(); PCListen(); dText.Text=("I'll trade you the pickup.");blab1();
      customertalk(); PCListen(); dText.Text=("Straight across. But only if we're including the espresso machine.");blab1();
      customertalk(); PCListen(); dText.Text=("I don't want to go through all the hassle of hooking up a new one.");blab1();
      customertalk(); PCListen(); dText.Text=("Straight across trade. Whaddaya think?");blab1();
      PCTalk(); customerlisten(); dText.Text=("Uhh..."); blab1();
      PCListen(); customerlisten(); dText.Text=(" ");
      dTrucktrade.Start();
      }
  else {
  Spin();
  relationshipcheck();
  int generandom=Random(3);
  if (generandom==0){
  PCListen(); customertalk(); dText.Text=String.Format("Is there a %s left?",dots); blab1();
  PCTalk(); customerlisten();
  if (GetGlobalInt(1)==1){dText.Text=("Yes, good.");blab1();}
  if (GetGlobalInt(1)==2){dText.Text=("There sure is.");blab1();}
  if (GetGlobalInt(1)==3){dText.Text=("Must be your lucky day, I've got one with your name on it.");blab1();}
  if (GetGlobalInt(1)==4){dText.Text=("Yeah, sure.");blab1();}
  }
if (generandom==1){
  PCListen(); customertalk(); dText.Text=String.Format("I'll have a %s.",dots); blab1();
  PCTalk(); customerlisten();
  if (GetGlobalInt(1)==1){dText.Text=("Yes, good. Okay.");blab1();}
  else {dText.Text=("Sure.");blab1();}
  }
if (generandom==2){
  PCListen(); customertalk(); dText.Text=String.Format("I've been looking for a %s.",dots); blab1();
  PCTalk(); customerlisten();
  if (GetGlobalInt(1)==1){dText.Text=("Yes, good. I am having that.");blab1();}
  if (GetGlobalInt(1)==2){dText.Text=("You came to the right place.");blab1();}
  if (GetGlobalInt(1)==3){dText.Text=("You were smart to come here.");blab1();}
  if (GetGlobalInt(1)==4){dText.Text=("Then it's a good thing you found me.");blab1();}
  }
if (generandom==3){
 PCListen(); customertalk(); dText.Text=String.Format("I'll buy this %s, please.",dots); blab1();
 PCTalk(); customerlisten();
 if (GetGlobalInt(1)==1){dText.Text=("Yes, good. Okay.");blab1();}
 else {dText.Text=("Sure.");blab1();}
 }

PCListen(); customerlisten(); dName.Text=(" "); dText.Text=(" ");
Customer.sellRandom();}
}
}

//Nellybuy!! Yarr!
function Nellybuy(){
SetGlobalInt(250, 0);
if (Nellytime==0){
if (GetGlobalInt(1)==1){//Andrus
  PCListen(); customertalk(); dText.Text=("Avast, bearded mongrel."); blab1();
  PCTalk(); customerlisten(); dText.Text=("Yes, hi there.");blab1();
  PCListen(); customertalk();dText.Text=("How much are your fine periodicals?");blab1();
  PCListen(); customertalk();dText.Text=("I wish to make a hat from one.");blab1();
  if (paper_remaining!=0){
  PCTalk(); customerlisten(); dText.Text=String.Format("The daily paper is being $%.2f.",PaperPrice); blab1();
  if (PaperPrice<0.05){  
  PCListen(); customertalk();dText.Text=("Blimey!");blab1();
  PCListen(); customertalk();dText.Text=("That sounds about right, after all!");blab1();
  PCListen(); customerlisten();
  Nelly.sellGeorgetonian();}
  if (PaperPrice>0.05){  
  PCListen(); customertalk(); dText.Text=("Oh, expenny.");blab1();
  PCListen(); customerlisten(); dText.Text=("..."); WaitMouseKey(40);
  PCListen(); customertalk(); dText.Text=("I don't suppose you'd just give it to me?");blab1();
  dNelly1.Start();}}
  if (paper_remaining==0){
  PCTalk(); customerlisten(); dText.Text=("Sorry - No more newspapers yet."); blab1();
  PCListen(); customertalk(); dText.Text=("Gah!");blab1();
  PCListen(); customerlisten(); dText.Text=("..."); WaitMouseKey(40);
  PCListen(); customertalk(); dText.Text=("Well, time to set sail.");blab1();
PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); StopPop(); customerbreakaway();}}
  
if (GetGlobalInt(1)==2){//Mel
  Spin();
  PCListen(); customertalk(); dText.Text=("Avast, fair lass!"); blab1();
  PCTalk(); customerlisten(); dText.Text=("Yes, hi there.");blab1();
  PCListen(); customertalk();dText.Text=String.Format("I'll take one of your %ss.",dots);blab1();
  PCListen(); customertalk();dText.Text=("I'm on an all-night pillage, and need a little pick-me-up.");blab1();
  PCTalk(); customerlisten(); dText.Text=("Oh, Okay. Sure."); blab1();
  PCListen(); customertalk(); dText.Text=("But I don't want to spend any money.");blab1();
  PCListen(); customerlisten(); dText.Text=("..."); WaitMouseKey(40);
  PCListen(); customertalk(); dText.Text=("I don't suppose you'd just give it to me?");blab1();
  PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); 
  dNelly1.Start();}

if (GetGlobalInt(1)==3){//Vinny
  PCListen(); customertalk(); dText.Text=("Avast, ye behatted dog!"); blab1();
  PCTalk(); customerlisten(); dText.Text=("Ahoy!");blab1();
  PCListen(); customertalk();dText.Text=("I'd like one of your circular biscuits.");blab1();
  PCListen(); customertalk();dText.Text=("After a long night of piratey goosechasery, a girl gets a growly tummy.");blab1();
  if (bagel_plain_remaining!=0){
  PCTalk(); customerlisten(); dText.Text=("Oh, Okay. Sure."); blab1();
  PCTalk(); customerlisten(); dText.Text=("One 'circular biscuit' coming right up..."); blab1();
  PCListen(); customertalk(); dText.Text=("But I don't want to spend any money.");blab1();
  PCListen(); customerlisten(); dText.Text=("..."); WaitMouseKey(40);
  PCListen(); customertalk(); dText.Text=("I don't suppose you'd just give it to me?");blab1();
  PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); 
  dNelly1.Start();}
  if (bagel_plain_remaining==0){
  PCTalk(); customerlisten(); dText.Text=("I'm actually out of circular biscuits."); blab1();
  PCListen(); customertalk();dText.Text=("You are?");blab1();
  PCTalk(); customerlisten(); dText.Text=("I don't even have any square or hexagonal biscuits left. It's been very busy."); blab1();
    PCListen(); customertalk(); dText.Text=("Gah!");blab1();
  PCListen(); customerlisten(); dText.Text=("..."); WaitMouseKey(40);
  PCListen(); customertalk(); dText.Text=("Well, time to set sail.");blab1();
  PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); StopPop(); customerbreakaway();}}
  
if (GetGlobalInt(1)==4){//Logan
  PCListen(); customertalk(); dText.Text=("Ahoy, fellow sea dog!"); blab1();
  PCTalk(); customerlisten(); dText.Text=("Umm... What?");blab1();
  PCListen(); customertalk();dText.Text=("Hand over one of your meaty tubes on bread!");blab1();
  PCListen(); customertalk();dText.Text=("After a long night piratey goosechasery, a girl gets a growly tummy.");blab1();
  PCTalk(); customerlisten(); dText.Text=("Umm... You mean, like, a hot dog?");blab1();
  PCListen(); customertalk();dText.Text=("That'd work, too.");blab1();
  if ((hotdogs_remaining!=0)&&(buns_remaining!=0)){
  PCTalk(); customerlisten(); dText.Text=("Oh, Okay. Sure."); blab1();
  PCListen(); customertalk(); dText.Text=("But I don't want to spend any money.");blab1();
  PCListen(); customerlisten(); dText.Text=("..."); WaitMouseKey(40);
  PCListen(); customertalk(); dText.Text=("I don't suppose you'd just give it to me?");blab1();
  PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); 
  dNelly1.Start();}
  if ((hotdogs_remaining==0)||(buns_remaining==0)){
  PCTalk(); customerlisten(); dText.Text=("I'm all sold out. None left."); blab1();
  PCListen(); customertalk(); dText.Text=("Gah!");blab1();
  PCListen(); customerlisten(); dText.Text=("..."); WaitMouseKey(40);
  PCListen(); customertalk(); dText.Text=("Well, time to set sail.");blab1();
PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" "); StopPop(); customerbreakaway();}}
}

else{//Who knows?
  customertalk();dText.Text=("What time is it?");blab1();
  PCTalk(); customertalk(); dText.Text=("Yes, umm...");blab1();
  if ((cSlot2.InventoryQuantity[WatchA.ID]!=0)||(cSlot2.InventoryQuantity[WatchB.ID]!=0)||(cSlot2.InventoryQuantity[WatchC.ID]!=0)||(cSlot2.InventoryQuantity[WatchD.ID]!=0)){
  PCTalk(); customerlisten(); dText.Text=String.Format("It's %2d:%2d.",hour, minute); blab1();
  PCListen(); customertalk(); dText.Text=("Thanks."); 
  PCListen(); customerlisten(); dText.Text=(" "); dName.Text=(" ");
  StopPop(); customerbreakaway();}
}
SaleInProgress=0;}


//=================DickBuy=================/////////
function Dickbuy(){ PCListen(); customerlisten(); SetGlobalInt(38, 0);
if (Menu.ItemCount==0){ 
if (GetGlobalInt(1)==1){customerlisten(); PCTalk(); dText.Text=("I'm not to be ready sellings now."); blab3(); }
if (GetGlobalInt(1)==2){customerlisten(); PCTalk(); dText.Text=("I'm not ready just now!"); blab2();
customerlisten(); PCTalk(); dText.Text=("Sorry!"); blab1();}
if (GetGlobalInt(1)==3){customerlisten(); PCTalk(); dText.Text=("I'm afraid I've got nothing to sell you right now."); blab4(); }
if (GetGlobalInt(1)==4){customerlisten(); PCTalk(); dText.Text=("I'm not ready right now."); blab2(); }
customertalk(); PCListen(); dText.Text=("Oh that's fine."); blab1(); 
customertalk(); PCListen(); dText.Text=("I walk by here all the time."); blab2(); 
customerlisten(); PCTalk(); dText.Text=("Sorry!"); blab1();
StopPop(); SetGlobalInt(38, 0); Dick.UnlockView(); Dick.breakaway();}
else if (Menu.ItemCount!=0){
dName.Text=("Dick: "); Dick.LockView(162);

if (GetGlobalInt(1)==1){//Andrus
customertalk(); PCListen(); 
//Global Checkbreak
if (GetGlobalInt(438)==4){dText.Text=("Smells good!"); blab1();
customertalk(); PCListen(); dText.Text=("Finally got some coffee, didya?"); blab2();}
if (GetGlobalInt(438)!=4){dText.Text=("Cup of coffee, please!"); blab1();}
if (Menu.Contains("Coffee")){//Sure!
customerlisten(); PCTalk(); dText.Text=("Yes. I am having coffee for sale, yes."); blab4();
customerlisten(); PCListen(); dText.Text=(" "); Dick.sellCoffee_Any(); fDick+=1;
SetGlobalInt(438, 2);}
if ((!Menu.Contains("Coffee"))&&(Menu.Contains("Americano"))){//Americano, sir?
customerlisten(); PCTalk(); dText.Text=("Yes. I am having coffee for sale, yes."); blab4();
customerlisten(); PCListen(); dText.Text=(" "); Dick.sellAmericano(); fDick+=1;
SetGlobalInt(438, 2);}
if ((!Menu.Contains("Coffee"))&&(!Menu.Contains("Americano"))){//None!
customerlisten(); PCTalk(); dText.Text=("Oh..."); blab1();
customerlisten(); PCTalk(); dText.Text=("I am not selling of coffee here today."); blab3();
customertalk(); PCListen(); dText.Text=("No coffee, huh?"); blab1(); 
customertalk(); PCListen(); dText.Text=("Guess I'll have to go somewhere's else!"); blab3();
customerlisten(); PCTalk(); dText.Text=("Thank you sir!"); blab3();
customertalk(); PCListen(); dText.Text=("Yeah - OK."); blab1();
customerlisten(); PCListen(); dText.Text=(" "); SetGlobalInt(438, 1);
StopPop(); SetGlobalInt(38, 0); Dick.UnlockView(); Dick.breakaway();}}

if (GetGlobalInt(1)==2){//Melanie
customertalk(); PCListen(); 
//Global Checkbreak
if (GetGlobalInt(438)==4){dText.Text=("Smells good!"); blab1();
customertalk(); PCListen(); dText.Text=("Finally got some coffee, didya?"); blab2();}
if (GetGlobalInt(438)!=4){dText.Text=("Cup of coffee, please!"); blab1();}
if (Menu.Contains("Coffee")){//Sure!
customerlisten(); PCTalk(); dText.Text=("Came to the right place!"); blab2();
customertalk(); PCListen(); dText.Text=("Thought so!"); blab1();
customerlisten(); PCListen(); dText.Text=(" "); Dick.sellCoffee_Any(); fDick+=1;
SetGlobalInt(438, 2);}//He'll come back
if ((!Menu.Contains("Coffee"))&&(Menu.Contains("Americano"))){//Americano?
customerlisten(); PCTalk(); dText.Text=("How about an Americano?"); blab2();
customerlisten(); PCTalk(); dText.Text=("Pretty much the same thing."); blab2();
customertalk(); PCListen(); dText.Text=("Sure, OK."); blab1();
if (dickmericano==0){
customertalk(); PCListen(); dText.Text=("You don't have just regul-- You know..."); blab4();
customertalk(); PCListen(); dText.Text=("Just plain old cup of coffee?"); blab3();
customerlisten(); PCTalk(); dText.Text=("These are more or less the same."); blab2();
customertalk(); PCListen(); dText.Text=("OK - I trust you."); blab2(); 
dickmericano=1;}
customerlisten(); PCListen(); dText.Text=(" "); Dick.sellAmericano(); fDick+=1;
SetGlobalInt(438, 2);}//He'll Come back
if ((!Menu.Contains("Coffee"))&&(!Menu.Contains("Americano"))){//None!
customerlisten(); PCTalk(); dText.Text=("Oh..."); blab1();
customerlisten(); PCTalk(); dText.Text=("I am out of coffee here today."); blab3();
customertalk(); PCListen(); dText.Text=("No coffee, huh?"); blab1(); 
customertalk(); PCListen(); dText.Text=("Guess I'll have to go somewhere's else!"); blab3();
customerlisten(); PCTalk(); dText.Text=("Thank you sir!"); blab3();
customertalk(); PCListen(); dText.Text=("Yeah - OK."); blab1();
customerlisten(); PCListen(); dText.Text=(" ");
SetGlobalInt(438, 1);//438==1: Not coming back till I smell coffee.
StopPop(); SetGlobalInt(38, 0); Dick.UnlockView(); Dick.breakaway();}}

if (GetGlobalInt(1)==3){//Vinny
customertalk(); PCListen(); 
//Global Checkbreak
if (GetGlobalInt(438)==4){dText.Text=("Smells good!"); blab1();
customertalk(); PCListen(); dText.Text=("Finally got some coffee, didya?"); blab2();}
if (GetGlobalInt(438)!=4){dText.Text=("Cup of coffee, please!"); blab1();}
if (Menu.Contains("Coffee")){
customerlisten(); PCTalk(); dText.Text=("Came to the right place!"); blab2();
customertalk(); PCListen(); dText.Text=("Thought so!"); blab1();
customerlisten(); PCListen(); dText.Text=(" "); Dick.sellCoffee_Any(); fDick+=1;
SetGlobalInt(438, 2);}
if ((!Menu.Contains("Coffee"))&&(Menu.Contains("Americano"))){
customerlisten(); PCTalk(); dText.Text=("How about an Americano?"); blab2();
customerlisten(); PCTalk(); dText.Text=("Pretty much the same thing."); blab2();
customertalk(); PCListen(); dText.Text=("Sure, OK."); blab1();
customertalk(); PCListen(); dText.Text=("You don't have just regul-- You know..."); blab4();
customertalk(); PCListen(); dText.Text=("Just plain old cup of coffee?"); blab3();
customerlisten(); PCTalk(); dText.Text=("These are more or less the same."); blab2();
customertalk(); PCListen(); dText.Text=("OK - I trust you."); blab2();
customerlisten(); PCListen(); dText.Text=(" "); Dick.sellAmericano(); fDick+=1;
SetGlobalInt(438, 2);}
if ((!Menu.Contains("Coffee"))&&(!Menu.Contains("Americano"))){
customerlisten(); PCTalk(); dText.Text=("Oh..."); blab1();
customerlisten(); PCTalk(); dText.Text=("I'm not selling coffee here today."); blab3();
customertalk(); PCListen(); dText.Text=("No coffee, huh?"); blab1(); 
customertalk(); PCListen(); dText.Text=("Guess I'll have to go somewhere's else!"); blab3();
customerlisten(); PCTalk(); dText.Text=("Thank you sir!"); blab3();
customertalk(); PCListen(); dText.Text=("Yeah - OK."); blab1();
customerlisten(); PCListen(); dText.Text=(" "); SetGlobalInt(438, 1);
StopPop(); SetGlobalInt(38, 0); Dick.UnlockView(); Dick.breakaway();}}

if (GetGlobalInt(1)==4){//Logan
customertalk(); PCListen(); //Global Checkbreak
if (GetGlobalInt(438)==4){dText.Text=("Smells good!"); blab1();
customertalk(); PCListen(); dText.Text=("Finally got some coffee, didya?"); blab2();}
if (GetGlobalInt(438)!=4){dText.Text=("Cup of coffee, please!"); blab1();}
if (Menu.Contains("Coffee")){
customerlisten(); PCTalk(); dText.Text=("Comin' right up!"); blab1();
customerlisten(); PCListen(); dText.Text=(" "); Dick.sellCoffee_Any(); fDick+=1;
SetGlobalInt(438, 2);}
if ((!Menu.Contains("Coffee"))&&(Menu.Contains("Americano"))){
customerlisten(); PCTalk(); dText.Text=("How about an Americano?"); blab2();
customerlisten(); PCTalk(); dText.Text=("Pretty much the same thing."); blab2();
customertalk(); PCListen(); dText.Text=("Sure, OK."); blab1();
customertalk(); PCListen(); dText.Text=("You don't have just regul-- You know..."); blab4();
customertalk(); PCListen(); dText.Text=("Just plain old cup of coffee?"); blab3();
customerlisten(); PCTalk(); dText.Text=("These are more or less the same."); blab2();
customertalk(); PCListen(); dText.Text=("OK - I trust you."); blab2();
customerlisten(); PCListen(); dText.Text=(" "); Dick.sellAmericano(); fDick+=1;
SetGlobalInt(438, 2);}
if ((!Menu.Contains("Coffee"))&&(!Menu.Contains("Americano"))){
customerlisten(); PCTalk(); dText.Text=("This's a hot dog stand."); blab2();
customerlisten(); PCTalk(); dText.Text=("Coffee I simply do not have."); blab3();
customertalk(); PCListen(); dText.Text=("Don't have it, huh?"); blab1(); 
customertalk(); PCListen(); dText.Text=("Guess I'll have to go somewhere's else!"); blab3();
customerlisten(); PCTalk(); dText.Text=("Thanks!"); blab3();
customertalk(); PCListen(); dText.Text=("Yeah - OK."); blab1();
customerlisten(); PCListen(); dText.Text=(" "); SetGlobalInt(438, 1);
StopPop(); SetGlobalInt(38, 0); Dick.UnlockView(); Dick.breakaway();}}}}


////////////////ChristinBUY//ChristinBUY//////////////////ChristinBUY//ChristinBUY//////////////////ChristinBUY//ChristinBUY//
function Christinbuy(){ PCListen(); customerlisten(); SetGlobalInt(39, 0);
if (Menu.ItemCount==0){ 
customertalk(); PCListen(); dText.Text=("Not set up yet?"); blab2(); 
customerlisten();  PCTalk(); dText.Text=("Nope, not yet. I still need to pick a few things up. "); blab3();
customertalk(); PCListen(); dText.Text=("Sure, okay. Good luck!"); blab1();
StopPop(); SetGlobalInt(39, 0); Christin.UnlockView(); Christin.breakaway();}
else if (Menu.ItemCount!=0){dName.Text=("Christin: "); Christin.LockView(167);
if (GetGlobalInt(439)==0){//First Conv
SetGlobalInt(439, 1);
    if (GetGlobalInt(1)==1){//Andrus First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s, please.",dots); blab2();
customerlisten();  PCTalk(); dText.Text=("Yes. Good. Okay."); blab1();
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellRandom();}

if (GetGlobalInt(1)==2){//Melanie First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s, please.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Great! Coming right up!"); blab2();
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellRandom();}


if (GetGlobalInt(1)==3){//Vinny First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s?",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Sure!"); blab1();
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellRandom();}

if (GetGlobalInt(1)==4){//Logan First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep!"); blab1();
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellRandom();}
}

else if (GetGlobalInt(439)!=0){
int rbd=Random(2);
if (rbd==0){//Christin Wants Your Usual Thing
if (GetGlobalInt(1)==1){//Christin Wants Newspapers
customertalk(); PCListen(); dText.Text=("Do you sell the Georgetonian?"); blab3();
if (paper_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Yes, sure. Okay."); blab1();
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellGeorgetonian();}
else if (paper_remaining<=0){
customerlisten();  PCTalk(); dText.Text=("Sorry, I am out of Georgetonians for today."); blab3();
customertalk();  PCListen(); dText.Text=("Oh - for real?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yes, I'm sorry."); blab1();
customertalk();  PCListen(); dText.Text=("It's OK. Thanks though."); blab1();
customerlisten();  PCTalk(); dText.Text=("Thank you!"); blab1();
SetGlobalInt(439, 1);  PCListen(); customerlisten(); StopPop(); 
SetGlobalInt(39, 0); Christin.UnlockView(); Christin.breakaway();}}

if (GetGlobalInt(1)==2){//Christin Wants a Coffee Beverage: You Choose
customertalk();  PCListen(); dText.Text=("I need coffee."); blab1();
if (Menu.Contains("Coffee")==true){
customerlisten();  PCTalk(); dText.Text=("Sure!"); blab1();
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellCoffee_Any();}
else if (Menu.Contains("Coffee")==false){
Spin();
if (!Menu.Contains("Americano")){
customerlisten();  PCTalk(); dText.Text=("Sorry, but no coffee."); blab1();
customertalk();  PCListen(); dText.Text=("Oh, for real?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Christin: "); dText.Text=("..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("That's Okay. Could I get one of those %s, instead?",dots); blab2();
customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellRandom();}
if (Menu.Contains("Americano")){
customerlisten();  PCTalk(); 
if (GetGlobalInt(1)==1){dText.Text=("Try Americano, please. "); blab1();}
if (GetGlobalInt(1)==2){dText.Text=("How about an Americano?"); blab1();
customerlisten(); PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
if (GetGlobalInt(1)==3){dText.Text=("How about an Americano?"); blab1();
customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
if (GetGlobalInt(1)==4){dText.Text=("Try an Americano instead."); blab1();}
customertalk(); PCListen(); dText.Text=("Sure - OK."); blab1();
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellAmericano();}}}

if (GetGlobalInt(1)==3){//Christin Wants a Bagel
customertalk();  PCListen(); dText.Text=("You sell bagels, right?"); blab1();
if (bagel_plain_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Sure, yeah."); blab1();
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellBagel_Plain();}
else if (bagel_plain_remaining==0){
Spin();
customerlisten();  PCTalk(); dText.Text=("Sorry, but no bagels."); blab2();
customertalk();  PCListen(); dText.Text=("Oh - for real?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Hmm. Could I get a %s, instead?",dots); blab3();
customerlisten();  PCTalk(); dText.Text=("Sure, Coming right up."); blab2();
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellRandom();}}

if (GetGlobalInt(1)==4){//Hot Dog, Please!
customertalk();  PCListen(); dText.Text=("Those hot dogs look gross - but I kind of want one..."); blab1();

if ((hotdogs_remaining!=0)&&(buns_remaining!=0)){
customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellHotdog();}
else if ((hotdogs_remaining==0)||(buns_remaining==0)){
Spin();
customerlisten();  PCTalk(); dText.Text=("Sorry, but I'm out of dogs."); blab1();
customertalk();  PCListen(); dText.Text=("Aww - Really?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Christin: "); dText.Text=("..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellRandom();}}}

else if (rbd==1){//Christin Just Wants Soda
if (Menu.Contains("Pipeline Crest")){  
PCListen(); customertalk(); dText.Text=("I'll have some Pipeline, please."); blab2(); 
PCTalk(); customerlisten(); dText.Text=("Oh, okay."); blab1();
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellCrest();}
else if ((!Menu.Contains("Pipeline Crest"))&&(Menu.Contains("Pipeline Rinse"))){
PCListen(); customertalk(); dText.Text=("I'll have some Pipeline, please."); blab2(); 
PCTalk(); customerlisten(); dText.Text=("Just... umm..."); blab1(); 
PCTalk(); customerlisten(); dText.Text=("Just Pipeline Rinse."); blab2(); 
PCListen(); customertalk(); dText.Text=("That's fine!"); blab1(); 
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellRinse();}
else if ((!Menu.Contains("Pipeline Crest"))&&(!Menu.Contains("Pipeline Rinse"))){
PCListen(); customertalk(); dText.Text=("You don't sell pop?"); blab2(); 
PCTalk(); customerlisten(); dText.Text=("Not today."); blab1();
PCListen(); customertalk(); dText.Text=("Aight - Thanks."); blab1();
StopPop(); SetGlobalInt(39, 0); SetGlobalInt(439, 1); Christin.UnlockView(); Christin.breakaway();}}

else if (rbd==2){//Christin Wants Whatever's on the Menu
if (Menu.ItemCount >= 3){
Spin();
customertalk(); PCListen(); dText.Text=String.Format("How about... %s?", dots); blab2();
customerlisten();PCTalk();   dText.Text=("Of course."); blab1();
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellRandom();}
else if (Menu.ItemCount <= 2){
customertalk();PCListen(); dText.Text=String.Format("How about a %s?", Menu.Items[0]); blab1();
fChristin+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Christin.sellMenu0();}}}}}

//=============//AliceBUY//===============================//
function Alicebuy(){PCListen(); customerlisten(); SetGlobalInt(40, 0);
if (Menu.ItemCount==0){ 
customertalk(); PCListen(); dText.Text=("You not selling yet?"); blab2(); 
customerlisten();  PCTalk(); dText.Text=("Nope, not yet. I still need to pick a few things up. "); blab3();
customertalk(); PCListen(); dText.Text=("Sure, okay. "); blab1();
StopPop(); SetGlobalInt(40, 0); Alice_2.UnlockView(); Alice_2.breakaway();}
else if (Menu.ItemCount!=0){dName.Text=("Alice: "); Alice_2.LockView(169);
if (GetGlobalInt(440)==0){//First Conv
SetGlobalInt(440, 1);
if (GetGlobalInt(1)==1){//Andrus First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s, please.",dots); blab2();
customerlisten();  PCTalk(); dText.Text=("Yes. Good. Okay."); blab1();
fAlice+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Alice_2.sellRandom();}

if (GetGlobalInt(1)==2){//Melanie First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s, please!",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Great! Coming right up!"); blab2();
fAlice+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Alice_2.sellRandom();}


if (GetGlobalInt(1)==3){//Vinny First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s?",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Sure!"); blab1();
customerlisten();  PCListen(); Alice_2.sellRandom(); fAlice+=1;
fAlice+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Alice_2.sellRandom();}

if (GetGlobalInt(1)==4){//Logan First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep!"); blab1();
fAlice+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Alice_2.sellRandom();}
}

else if (GetGlobalInt(440)!=0){
int rbd=Random(2);
if (rbd==0){//Alice_2 Wants Your Usual Thing
if (GetGlobalInt(1)==1){//Alice_2 Wants Newspapers
customertalk(); PCListen(); dText.Text=("Do you sell the Georgetonian?"); blab3();
if (paper_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Yes, sure. Okay."); blab1();
fAlice+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Alice_2.sellGeorgetonian();}
else if (paper_remaining<=0){
customerlisten();  PCTalk(); dText.Text=("Sorry, I am out of Georgetonians for today."); blab3();
customertalk();  PCListen(); dText.Text=("Oh - for real?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yes, I'm sorry."); blab1();
customertalk();  PCListen(); dText.Text=("It's OK. Thanks though."); blab1();
customerlisten();  PCTalk(); dText.Text=("Thank you!"); blab1();
SetGlobalInt(440, 1);  PCListen(); customerlisten(); StopPop(); 
SetGlobalInt(40, 0); Alice_2.UnlockView(); Alice_2.breakaway();}}

if (GetGlobalInt(1)==2){//Alice_2 Wants a Coffee Beverage: You Choose
customertalk();  PCListen(); dText.Text=("I came to the coffee lady - I want coffee."); blab1();
if (Menu.Contains("Coffee")==true){
customerlisten();  PCTalk(); dText.Text=("Sure..."); blab1();
fAlice+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Alice_2.sellCoffee_Any();}
else if (Menu.Contains("Coffee")==false){
Spin();
customerlisten();  PCTalk(); dText.Text=("Sorry, but no coffee."); blab2();
customertalk();  PCListen(); dText.Text=("Oh - well, shoot."); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Alice: "); dText.Text=("..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Could I get a %s, instead?",dots); blab3();
customerlisten();  PCTalk(); dText.Text=("Sure! Coming right up!"); blab2();
fAlice+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Alice_2.sellRandom();}}

if (GetGlobalInt(1)==3){//Alice_2 Wants a Bagel
customertalk();  PCListen(); dText.Text=("I came to the bagel cart - I want a bagel."); blab1();
if (bagel_plain_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Sure, yeah."); blab1();
fAlice+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Alice_2.sellBagel_Plain();}
else if (bagel_plain_remaining==0){
Spin();
customerlisten();  PCTalk(); dText.Text=("Sorry, but no bagels."); blab2();
customertalk();  PCListen(); dText.Text=("Oh. Well, shoot.?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Hmm. Could I get a %s, instead?",dots); blab3();
customerlisten();  PCTalk(); dText.Text=("Sure, Coming right up."); blab2();
fAlice+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Alice_2.sellRandom();}}

if (GetGlobalInt(1)==4){//Hot Dog, Please!
customertalk();  PCListen(); dText.Text=("I came to the hot dog stand - I want a hot dog!"); blab1();
if ((hotdogs_remaining!=0)&&(buns_remaining!=0)){
customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
fAlice+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Alice_2.sellHotdog();}
else if ((hotdogs_remaining==0)||(buns_remaining==0)){
Spin();
customerlisten();  PCTalk(); dText.Text=("Sorry, but I'm out of dogs."); blab1();
customertalk();  PCListen(); dText.Text=("Is that right?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Alice: "); dText.Text=("..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
fAlice+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Alice_2.sellRandom();}}}

else if (rbd==1){//Alice_2 Just Wants Soda
if (Menu.Contains("Pipeline Crest")){  
PCListen(); customertalk(); dText.Text=("I'm looking for a Pipeline, please."); blab2(); 
PCTalk(); customerlisten(); dText.Text=("Oh, okay."); blab1();
fAlice+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Alice_2.sellCrest();}
else if ((!Menu.Contains("Pipeline Crest"))&&(Menu.Contains("Pipeline Rinse"))){
PCListen(); customertalk(); dText.Text=("Pipeline soda, please."); blab2(); 
PCTalk(); customerlisten(); dText.Text=("I only have... umm..."); blab1(); 
PCTalk(); customerlisten(); dText.Text=("Just \"Pipeline Rinse\"."); blab2(); 
PCListen(); customertalk(); dText.Text=("That's fine! Great!"); blab1(); 
fAlice+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Alice_2.sellRinse();}
else if ((!Menu.Contains("Pipeline Crest"))&&(!Menu.Contains("Pipeline Rinse"))){
PCListen(); customertalk(); dText.Text=("You don't sell pop?"); blab2(); 
PCTalk(); customerlisten(); dText.Text=("Not today."); blab1();
PCListen(); customertalk(); dText.Text=("Oh, okay. Thanks!"); blab1();
customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
StopPop(); customerbreakaway();}}

else if (rbd==2){//Alice_2 Wants Whatever's on the Menu
if (Menu.ItemCount >= 3){
Spin();
customertalk(); PCListen(); dText.Text=String.Format("How about... %s?", dots); blab1();
customerlisten();PCTalk();   dText.Text=("Of course."); blab1();
fAlice+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Alice_2.sellRandom();}
else if (Menu.ItemCount <= 2){
customertalk();PCListen(); dText.Text=String.Format("How about a %s?", Menu.Items[0]); blab1();
fAlice+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Alice_2.sellMenu0();}}}}}

//==Jessibuy===========================//
function Jessibuy(){ salebuyer=("Jessi"); PCListen(); customerlisten(); SetGlobalInt(45, 0);
if (Menu.ItemCount==0){ 
customertalk(); PCListen(); dText.Text=("You not selling yet?"); blab2(); 
customerlisten();  PCTalk(); dText.Text=("Nope, not yet. I still need to pick a few things up. "); blab3();
customertalk(); PCListen(); dText.Text=("Sure, okay. "); blab1();
StopPop(); SetGlobalInt(45, 0); Jessi.UnlockView(); Jessi.breakaway();}
else if (Menu.ItemCount!=0){dName.Text=("Jessi: "); Jessi.LockView(186);
if (GetGlobalInt(445)==0){//First Conv
SetGlobalInt(445, 1);
if (GetGlobalInt(1)==1){//Andrus First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s, please.",dots); blab2();
customerlisten();  PCTalk(); dText.Text=("Yes. Good. Okay."); blab1();
fJessi+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jessi.sellRandom();}

if (GetGlobalInt(1)==2){//Melanie First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s, please!",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Great! Coming right up!"); blab2();
fJessi+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jessi.sellRandom();}

if (GetGlobalInt(1)==3){//Vinny First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s?",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Sure!"); blab1();
fJessi+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jessi.sellRandom();}

if (GetGlobalInt(1)==4){//Logan First Conv
Spin();
customertalk(); PCListen (); dText.Text=String.Format("%s.",dots); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep!"); blab1();
fJessi+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jessi.sellRandom();}
}

else if (GetGlobalInt(445)!=0){
int rbd=Random(2);
if (rbd==0){//Jessi Wants Your Usual Thing

if (GetGlobalInt(1)==1){//Jessi Wants Newspapers
customertalk(); PCListen(); dText.Text=("Do you sell the Georgetonian?"); blab3();
if (paper_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Yes, sure. Okay."); blab1();
fJessi+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jessi.sellGeorgetonian(); }
else if (paper_remaining<=0){
customerlisten();  PCTalk(); dText.Text=("Sorry, I am out of Georgetonians for today."); blab3();
customertalk();  PCListen(); dText.Text=("Oh - for real?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yes, I'm sorry."); blab1();
customertalk();  PCListen(); dText.Text=("It's OK. Thanks though."); blab1();
customerlisten();  PCTalk(); dText.Text=("Thank you!"); blab1();
SetGlobalInt(445, 1);  PCListen(); customerlisten(); StopPop(); 
SetGlobalInt(45, 0); Jessi.UnlockView(); Jessi.breakaway();}}

if (GetGlobalInt(1)==2){//Jessi Wants a Coffee, or whatever.
customertalk();  PCListen(); dText.Text=("One coffee please."); blab1();
if (Menu.Contains("Coffee")==true){
customerlisten();  PCTalk(); dText.Text=("Sure..."); blab1();
fJessi+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jessi.sellCoffee_Any();}
else if (Menu.Contains("Coffee")==false){
Spin();
customerlisten();  PCTalk(); dText.Text=("Sorry, but no coffee."); blab2();
customertalk();  PCListen(); dText.Text=("Oh - for real?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customerlisten();  PCListen(); dName.Text=("Jessi: "); dText.Text=("..."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Huh. Could I get a %s, instead?",dots); blab3();
customerlisten();  PCTalk(); dText.Text=("Sure! Coming right up!"); blab2();
fJessi+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jessi.sellRandom();}}

if (GetGlobalInt(1)==3){//Jessi Wants a Bagel
customertalk();  PCListen(); dText.Text=("You sell bagels, right?"); blab1();
if (bagel_plain_remaining!=0){
customerlisten();  PCTalk(); dText.Text=("Sure, yeah."); blab1();
fJessi+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jessi.sellBagel_Plain();}
else if (bagel_plain_remaining==0){
Spin();
customerlisten();  PCTalk(); dText.Text=("Sorry, but no bagels."); blab2();
customertalk();  PCListen(); dText.Text=("Oh - for real?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
customertalk(); PCListen (); dText.Text=String.Format("Hmm. Could I get a %s, instead?",dots); blab3();
customerlisten();  PCTalk(); dText.Text=("Sure, Coming right up."); blab2();
fJessi+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jessi.sellRandom();}}
}

else if (rbd==1){//Jessi Just Wants Soda
if (Menu.Contains("Pipeline Crest")){  
PCListen(); customertalk(); dText.Text=("Hello!"); blab1(); 
PCListen(); customertalk(); dText.Text=("Diet Pipeline, please."); blab2(); 
PCTalk(); customerlisten(); dText.Text=("Oh, okay."); blab1();
fJessi+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jessi.sellCrest();
}
else if ((!Menu.Contains("Pipeline Crest"))&&(Menu.Contains("Pipeline Rinse"))){
PCListen(); customertalk(); dText.Text=("I'll have a diet Pipeline, please."); blab3(); 
PCTalk(); customerlisten(); dText.Text=("I have... Just... umm..."); blab3(); 
PCTalk(); customerlisten(); dText.Text=("Just Pipeline Rinse."); blab2(); 
PCListen(); customertalk(); dText.Text=("Hmm..."); blab1();
PCListen(); customertalk(); dText.Text=("OK! I guess I kind of deserve one."); blab1();
fJessi+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jessi.sellRinse();
}
else if ((!Menu.Contains("Pipeline Crest"))&&(!Menu.Contains("Pipeline Rinse"))){
PCListen(); customertalk(); dText.Text=("You don't have diet pipeline, do you?"); blab3(); 
PCTalk(); customerlisten(); dText.Text=("Not today."); blab1();
PCListen(); customertalk(); dText.Text=("Oh, Okay. Thanks though."); blab1();
SetGlobalInt(445, 1);  PCListen(); customerlisten(); StopPop(); 
SetGlobalInt(45, 0); Jessi.UnlockView(); Jessi.breakaway();}
}

else if (rbd==2){//Jessi Wants Whatever's on the Menu
if (Menu.ItemCount >= 3){
Spin();
customertalk(); PCListen(); dText.Text=String.Format("How about... %s?", dots); blab2();
customerlisten();PCTalk();   dText.Text=("Of course."); blab1();
fJessi+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jessi.sellRandom();}
else if (Menu.ItemCount <= 2){
customertalk();PCListen(); dText.Text=String.Format("How about a %s?", Menu.Items[0]); blab2();
fJessi+=1; customerlisten();  PCListen(); 
dText.Text=(" "); dName.Text=(" ");
Jessi.sellMenu0();}}
}}}


////////////////JohnsBuy
function Johnsbuy(){Johns.StopMoving(); 
if (gDialog.Visible==false){TalkPop(); Wait(40);}//might be visible already.
PCListen(); customerlisten(); salebuyer=("Johns");
if (Menu.ItemCount==0){ 
customertalk(); PCListen(); dText.Text=("Nothing up for sale, yet, huh?"); blab1();
customerlisten();  PCTalk(); dText.Text=("Nope, not yet. I still need to pick a few things up. "); blab1();
customertalk(); PCListen (); dText.Text=("I'll be seeing you. "); blab1(); 
StopPop(); SetGlobalInt(25, 0); Johns.UnlockView(); Johns.breakaway();}

else if (Menu.ItemCount!=0){

  if (GetGlobalInt(325)==1){//Johns Wants Your Usual Thing

    if (GetGlobalInt(1)==1){//Johns Wants Newspapers
      customertalk(); PCListen(); dText.Text=("I'll be needing a copy of the Georgetonian."); blab3();
      if (paper_remaining!=0){
        customerlisten();  PCTalk(); dText.Text=("Yes, sure. Ok."); blab1();
        //fJohns+=1;
        customerlisten();  PCListen(); 
        dText.Text=(" "); dName.Text=(" ");
        Johns.sellGeorgetonian();}
        else if (paper_remaining<=0){
        customerlisten();  PCTalk(); dText.Text=("Sorry, I am out of Georgetonians for today."); blab2();
        customertalk();  PCListen(); dText.Text=("You are?"); blab1();
        customerlisten();  PCTalk(); dText.Text=("Yes, I'm sorry."); blab1();
        customerlisten();  PCListen(); 
        if (small_Johns>0){dName.Text=("Johns: ");}
        if (small_Johns<=0){dName.Text=("Policeman: ");}
        dText.Text=("..."); blab1();
        customerlisten();  PCTalk(); dText.Text=("Thank you, sir!"); blab1();
        SetGlobalInt(417, 1);  PCListen(); customerlisten(); StopPop(); 
        SetGlobalInt(25, 0); Johns.UnlockView(); Johns.breakaway();
        }
    }
    if (GetGlobalInt(1)==2){//Johns Wants a Coffee
        customertalk();  PCListen(); dText.Text=("I could use a cup of coffee."); blab2();
        if (Menu.Contains("Coffee")==true){
          customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
          //fJohns+=1;
          customerlisten();  PCListen(); 
          dText.Text=(" "); dName.Text=(" ");
          Johns.sellCoffee_Any();}
        else if (Menu.Contains("Coffee")==false){
        Spin();
        if (!Menu.Contains("Americano")){
        customerlisten();  PCTalk(); dText.Text=("Sorry, but no coffee."); blab1();
        customertalk();  PCListen(); dText.Text=("No coffee?"); blab1();
        customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
        customerlisten();  PCListen(); 
        if (small_Johns>0){dName.Text=("Johns: ");}
        if (small_Johns<=0){dName.Text=("Policeman: ");}
        dText.Text=("..."); blab1();
        customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
        customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
        //fJohns+=1;
        customerlisten();  PCListen(); 
        dText.Text=(" "); dName.Text=(" ");
        Johns.sellRandom();}
        if (Menu.Contains("Americano")){
        customerlisten();  PCTalk(); 
        if (GetGlobalInt(1)==1){dText.Text=("Try Americano, please. "); blab1();}
        if (GetGlobalInt(1)==2){dText.Text=("How about an Americano?"); blab1();
        customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
        if (GetGlobalInt(1)==3){dText.Text=("How about an Americano?"); blab1();
        customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
        if (GetGlobalInt(1)==4){dText.Text=("Try an Americano instead."); blab1();}
        customertalk();PCListen(); dText.Text=("Sure - OK."); blab1();
        //fJohns+=1;
        customerlisten();  PCListen(); 
        dText.Text=(" "); dName.Text=(" ");
        Johns.sellRandom(); Johns.sellAmericano();}}
        }//end johns' coffee
    if (GetGlobalInt(1)==3){//Johns Wants a Bagel
        customertalk();  PCListen(); dText.Text=("I'll take one of your bagels."); blab2();
        if (bagel_plain_remaining!=0){
        customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
        //fJohns+=1;
        customerlisten();  PCListen(); 
        dText.Text=(" "); dName.Text=(" ");
        Johns.sellBagel_Plain();}
        else if (bagel_plain_remaining==0){
        Spin();
        customerlisten();  PCTalk(); dText.Text=("Sorry, but no bagels."); blab1();
        customertalk();  PCListen(); dText.Text=("Really?"); blab1();
        customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
        customerlisten();  PCListen(); 
        if (small_Johns>0){dName.Text=("Johns: ");}
        if (small_Johns<=0){dName.Text=("Policeman: ");}
        dText.Text=("..."); blab1();
        customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
        customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
        //fJohns+=1;
        customerlisten();  PCListen(); 
        dText.Text=(" "); dName.Text=(" ");
        Johns.sellRandom();}
        }//end johns' bagel

    if (GetGlobalInt(1)==4){//Hot Dog, Please!
        customertalk();  PCListen(); dText.Text=("I'll have a hot dog."); blab1();
        if ((hotdogs_remaining!=0)&&(buns_remaining!=0)){
        customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
        //fJohns+=1;
        customerlisten();  PCListen(); 
        dText.Text=(" "); dName.Text=(" ");
        Johns.sellHotdog();}
        else if ((hotdogs_remaining==0)||(buns_remaining==0)){
        Spin();
        customerlisten();  PCTalk(); dText.Text=("Sorry, but I'm out of dogs."); blab1();
        customertalk();  PCListen(); dText.Text=("Is that right?"); blab1();
        customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
        customerlisten();  PCListen(); 
        if (small_Johns>0){dName.Text=("Johns: ");}
        if (small_Johns<=0){dName.Text=("Policeman: ");}
        dText.Text=("..."); blab1();
        customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
        customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
        //fJohns+=1;
        customerlisten();  PCListen(); 
        dText.Text=(" "); dName.Text=(" ");
        Johns.sellRandom();}
        }//end johns' dog
  }//////////////end johnsbuy and move to permitcheck
else if (GetGlobalInt(325)==0){//Permit Check!!
  if (GetGlobalInt(1)!=2){//PC isn't Melanie
    boxadd("Permits");
    customertalk(); PCListen(); dText.Text=("Hello sir."); blab1();
    PCTalk(); customerlisten(); dText.Text=("Hi."); blab1();
    customertalk(); PCListen(); dText.Text=("Could I see a permit, please?"); blab1();
    customerlisten();  PCListen(); dText.Text=("..."); blab1();
    Permitcheck();
    SetGlobalInt(425, 1);
    SetGlobalInt(25, 0);
  }
  else if (GetGlobalInt(1)==2){//Johns Wants Mel's Coffee
    SetGlobalInt(325, 1);//Turn off permitcheckerry
    customertalk();  PCListen(); dText.Text=("I could use a cup of that coffee."); blab2();
    if (Menu.Contains("Coffee")==true){
    customerlisten();  PCTalk(); dText.Text=("Cool."); blab1();
    //fJohns+=1;
    customerlisten();  PCListen(); 
    dText.Text=(" "); dName.Text=(" ");
    Johns.sellCoffee_Any();
    }
    else if (Menu.Contains("Coffee")==false){
    Spin();
    if (!Menu.Contains("Americano")){
    customerlisten();  PCTalk(); dText.Text=("Sorry, but no coffee."); blab1();
    customertalk();  PCListen(); dText.Text=("No coffee?"); blab1();
    customerlisten();  PCTalk(); dText.Text=("Yep, I'm sorry."); blab1();
    customerlisten();  PCListen(); 
    if (small_Johns>0){dName.Text=("Johns: ");}
    if (small_Johns<=0){dName.Text=("Policeman: ");}
    dText.Text=("..."); blab1();
    customertalk(); PCListen (); dText.Text=String.Format("Okay, one %s, please.",dots); blab1();
    customerlisten();  PCTalk(); dText.Text=("Coming right up."); blab1();
    //fJohns+=1;
    customerlisten();  PCListen(); 
    dText.Text=(" "); dName.Text=(" ");
    Johns.sellRandom();}
    if (Menu.Contains("Americano")){
    customerlisten();  PCTalk(); 
    if (GetGlobalInt(1)==1){dText.Text=("Try Americano, please. "); blab1();}
    if (GetGlobalInt(1)==2){dText.Text=("How about an Americano?"); blab1();
    customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
    if (GetGlobalInt(1)==3){dText.Text=("How about an Americano?"); blab1();
    customerlisten();  PCTalk(); dText.Text=("It's pretty much the same thing."); blab2();}
    if (GetGlobalInt(1)==4){dText.Text=("Try an Americano instead."); blab1();}
    customertalk();PCListen(); dText.Text=("Sure - OK."); blab1();
    //fJohns+=1;
    customerlisten();  PCListen(); 
    dText.Text=(" "); dName.Text=(" ");
    Johns.sellRandom(); Johns.sellAmericano();}}}
    }//End Permit Check Initiator, which runs a coffee sale for melanie.
}
}

//==MeadowBuy===========================//
int contract_informed;
function Meadowbuy(){
salebuyer=("Meadow"); 
if (GetGlobalInt(1)==1){
PCListen(); customerlisten();
if (contract_informed!=1){contract_informed=true; isMeadowed=true;
customertalk(); PCListen(); dText.Text=("So you're the gentleman who's responsible for this news stand, now?"); blab2(); 
customerlisten();  PCTalk(); dText.Text=("That is being yes."); blab3();
customertalk(); PCListen(); dText.Text=("Great! "); blab1();
if (small_Meadow==0){small_Meadow=1;
customertalk(); PCListen(); dText.Text=("My name is Meadow - I'm the contracts manager for the georgetonian."); blab1();
customerlisten();  PCTalk(); dText.Text=("Yes. Okay."); blab3();
customerlisten();  PCTalk(); dText.Text=("I am Andrus."); blab3();
customertalk(); PCListen(); dText.Text=("It's nice to meet you, sir."); blab1();}
customertalk(); PCListen(); dText.Text=("I just wanted to go over the contract terms, in case Tim didn't mention it..."); blab1();
customerlisten();  PCTalk(); dText.Text=("Yes. Good."); blab3();
customertalk(); PCListen(); dText.Text=("It's pretty simple."); blab1();
customertalk(); PCListen(); dText.Text=("Just stop over at the office every Friday to bring your account up to date."); blab1();
customertalk(); PCListen(); dText.Text=("You can also just stop by if you have any questions."); blab1();
customertalk(); PCListen(); dText.Text=("We're located in the Florin district."); blab1();
customerlisten();  PCTalk(); dText.Text=("Yes. Good. Okay."); blab3();
customertalk(); PCListen(); dText.Text=("Well, I'm on my lunch break, so I'm gonna run!"); blab1();
customertalk(); PCListen(); dText.Text=("See you on friday!"); blab1();
customerlisten();  PCTalk(); dText.Text=("Goodbye."); blab3();
customerlisten(); PCListen(); dText.Text=(" "); dName.Text=(" "); 
StopPop(); Meadow.breakaway();}
else{Genericbuy();}//Not a contract talk.
}//End Andrus
else {Genericbuy();}//Everbody else.
}//End Meadow

function bad_wakeup(){
  //clockspeed=2;//RAMMING SPEED! (revision: 04.2011: Why would I do this? Taking it off.)
  if (GetGlobalInt(1)==1){bad_bg.NormalGraphic=7068; bad_bg.Animate(244, 0, 6, eRepeat);}//Andrus
  if (GetGlobalInt(1)==2){bad_bg.NormalGraphic=7068; bad_bg.Animate(244, 0, 6, eRepeat);}//Mel
  if (GetGlobalInt(1)==3){bad_bg.NormalGraphic=7068; bad_bg.Animate(244, 0, 6, eRepeat);}//Vinny
  if (GetGlobalInt(1)==4){bad_bg.NormalGraphic=7068; bad_bg.Animate(244, 0, 6, eRepeat);}//Logan
  gBadream.Visible=true;
  mouse.Visible=true;
  bad_headline.Animate(243, 0, 4, eOnce);
}

function StartSchoolTalk(){
  StopPop();
  Wait(40);
  FadeOut(20); Wait(5);
  //Putting this here until walktoschool is finished.
  //superwalk
  player.ManualScaling=false;
  Laura.ManualScaling=false;
  gWalkscene.Visible=true;

  if (player.Room==2){//Dropping Off
    walkscene_direction=0;
    PC_walker.Animate(1, 1, 3, eRepeat);//Going Left
    NPC_walker.Animate(258, 2, 3, eRepeat);//Going Left
    }
  if (player.Room==38){//Picking Up
    walkscene_direction=1;
    PC_walker.Animate(1, 0, 3, eRepeat);//Going Right
    NPC_walker.Animate(258, 1, 3, eRepeat);//Going Right
    }
  foreground.NormalGraphic=7601;
  Wait(5);
  FadeIn(5);
  Wait(40);
  TalkPop(); Wait(40);
  PCListen(); customerlisten();
  SchoolTalk+=1;
  if (SchoolTalk==1){
      PCListen(); customertalk();
      if (approval_laura<=0){dText.Text=("...");}
      if (approval_laura==1){dText.Text=("I hate that grandma and grandpa's house is so far from school."); blab1();
      PCListen(); customertalk(); dText.Text=("I wish we didn't have to take this stupid walk every day.");}
      if (approval_laura==2){dText.Text=("How long are we gonna live at grandma and grandpa's house?"); blab1();
      PCListen(); customertalk(); dText.Text=("I miss living closer to school."); blab1();
      PCListen(); customertalk(); dText.Text=("I miss my room already, too.");}
      if ((approval_laura==3)||(approval_laura==4)){
                                  dText.Text=("How long are we gonna live at grandma and grandpa's house?"); blab1();
      PCTalk(); customerlisten(); dText.Text=("Don't you like the attic room?"); blab1();
      PCTalk(); customerlisten(); dText.Text=("I thought you'd like having it all to yourself."); blab1();
      PCListen(); customertalk(); dText.Text=("I just miss my room, I guess.");}
      if (approval_laura==5){dText.Text=("Are we gonna be staying with Aunt Becca for a long time?"); blab1();
      customertalk(); PCListen(); dText.Text=("Should I be concerned about this?"); blab1();
      PCTalk(); customerlisten(); dText.Text=("What cause for concern is there?"); blab1();
      PCTalk(); customerlisten(); dText.Text=("What are you worried about, honey?"); blab1();
      PCListen(); customertalk(); dText.Text=("I just miss my room, I guess."); blab1();
      PCListen(); customertalk(); dText.Text=("But I'll get used to it. Probably.");
      }
      if (approval_laura>=6){dText.Text=("Do we get to stay with Aunt Becca for a long time?"); blab1();
      customertalk(); PCListen(); dText.Text=("I hope we can stay there for the whole year."); blab1();
      PCTalk(); customerlisten(); dText.Text=("I'm glad you like it, honey."); blab1();
      PCListen(); customertalk(); dText.Text=("She's okay with us staying there, right?");}
        blab1();
      customerlisten(); PCListen(); dText.Text=(" ");
      dSchoolTalk1.Start();}//End schooltalk1
      
  if (SchoolTalk==2){PCListen(); customertalk(); 
      
      if (approval_laura<=2){
      dText.Text=("..."); blab1();
      int icebreaker=Random(3);
      if (icebreaker==0){PCTalk(); customerlisten(); dText.Text=("You're awfully quiet today..."); blab1();}
      if (icebreaker==1){PCTalk(); customerlisten(); dText.Text=("Are you upset about something...?"); blab1();}
      if (icebreaker==2){PCTalk(); customerlisten(); dText.Text=("What's wrong, sweetheart?"); blab1();}
      if (icebreaker==3){PCTalk(); customerlisten(); dText.Text=("You seem upset, honey. What's wrong?"); blab1();}
      customerlisten(); PCListen(); dName.Text=("Laura: "); dText.Text=("..."); blab1();
      customerlisten(); PCListen(); dText.Text=(" ");
      dLauraMad.Start();}
      
      if ((approval_laura==3)||(approval_laura==4)){
                                  dText.Text=("Ughgh."); blab1();
      PCTalk(); customerlisten(); dText.Text=("What is it, honey?"); blab1();
                                  dText.Text=("I'm getting kind of frustrated, I guess."); blab1();
      PCListen(); customertalk(); dText.Text=("I'll bet it was a lot easier when you were a kid."); blab1();
      PCTalk(); customerlisten(); dText.Text=("Easier?"); blab1();
      PCListen(); customertalk(); dText.Text=("Like math and stuff."); blab1();
      PCListen(); customertalk(); dText.Text=("I'll bet you didn't have to learn as much, right?"); blab1();
      PCListen(); customertalk(); dText.Text=("Don't you think it's harder now?"); blab1();
      customerlisten(); PCListen(); dText.Text=(" ");
      dSchoolTalk2.Start();}
      
      if (approval_laura==5){dText.Text=("What was school like when you were a kid?");
      PCListen(); customertalk(); dText.Text=("I know you went to Bank Hill, too, but..."); blab1();
      PCListen(); customertalk(); dText.Text=("Do you think it was a lot different?"); blab1();
      PCTalk(); customerlisten(); dText.Text=("What do you mean, honey?"); blab1();
      PCListen(); customertalk(); dText.Text=("I just think it must've been a lot easier, then."); blab1();
      PCListen(); customertalk(); dText.Text=("Like math and stuff."); blab1();
      customerlisten(); PCListen(); dText.Text=(" ");
      dSchoolTalk2.Start();}
      
      if (approval_laura>=6){
                            dText.Text=("Mom, do you think school was easier when you were a kid?"); blab1();
      PCTalk(); customerlisten(); dText.Text=("What do you mean, sweety?"); blab1();
      customertalk(); PCListen(); dText.Text=("Like math and stuff."); blab1();
      PCListen(); customertalk(); dText.Text=("I know you went to bank hill, too... But I'll bet it's changed a lot since then."); blab1();
      customertalk(); PCListen(); dText.Text=("Don't you?"); blab1();
      customerlisten(); PCListen(); dText.Text=(" ");
      dSchoolTalk2.Start();}
  }//End Schooltalk2
      
  if (SchoolTalk==3){
    customertalk(); PCListen(); dText.Text=("I have a question."); blab1();
    customerlisten(); PCTalk(); dText.Text=("What's your question, sweety?"); blab1();
    customertalk(); PCListen(); dText.Text=("But don't think I'm a racist, though."); blab1();
    customerlisten(); PCTalk(); dText.Text=("Okay, I won't."); blab1();"); blab1();
    customertalk(); PCListen(); dText.Text=("Promise me you won't think I'm a racist."); blab1();
    customerlisten(); PCTalk(); dText.Text=("I promise I won't, honey."); blab1();
    customertalk(); PCListen(); dText.Text=("Okay."); blab1();
    customertalk(); PCListen(); dText.Text=("Here's my question."); blab1();
    customertalk(); PCListen(); dText.Text=("What's the difference between black and african-american?"); blab1();
    customerlisten(); PCTalk(); dText.Text=("..."); blab1();
    customerlisten(); PCTalk(); dText.Text=("That's a good question, honey. Where did this come from?"); blab1();
    customertalk(); PCListen(); dText.Text=("In our American History class, we're reading about Martin Luther King Junior and the civil rights movement."); blab1();
    customertalk(); PCListen(); dText.Text=("Sometimes our books say \"Black\" and sometimes they say \"African American\". "); blab1();
    customertalk(); PCListen(); dText.Text=("So, what's the difference? And which one should I use?"); blab1();
    customerlisten(); PCListen(); dText.Text=(" ");
    dSchoolTalk3.Start();
    }
  if (SchoolTalk==4){
    customerlisten(); PCTalk(); dText.Text=("What classes do you have today?"); blab1();
    customertalk(); PCListen(); dText.Text=("All of them. Language arts, P.E., Math, American History, Science and Music."); blab1();
    customerlisten(); PCListen(); dText.Text=(" ");
    dSchoolTalk4.Start();
  }
    
    
  if (SchoolTalk>=5){//NEED MORE OF THESE, MAN!
    PCListen(); customertalk(); dText.Text=("Thanks for coming with me, mom."); blab1();
    customerlisten(); PCTalk(); dText.Text=("It's my pleasure, sweety."); blab1();
    customerlisten(); PCListen(); dText.Text=(" ");
    caffeine.Width=110;
    StopPop(); 
    FadeOut(10);
    Wait(20);
    gWalkscene.Visible=false;
    places();//Helps to kill excess anims.
    if (player.Room==2){
    hour=8; minute=30; ampm=0; milhour=8;
    Laura.ChangeRoom(38,  50, 160);
    player.ChangeRoom(38,  40, 160);}
    else if (player.Room==38){
    hour=4; minute=50; ampm=1; milhour=15;
    caffeine.Width=110;
    Laura.ChangeRoom(2,  370, 193);
    player.ChangeRoom(2, 376, 193);}
    }

  }
  
 function vinnylove(){
  TalkPop(); Wait(40); 
  
  mel_vinnyd=true;
  //npcVinny_moving=false;
  
  if (mel_vinnyplot==0){mel_vinnyplot=1; mel_vinnylove+=1;
  PCListen(); customertalk(); dText.Text=("Ahoy, barrista!"); blab1();
  PCTalk(); customerlisten(); dText.Text=("Yeah, umm, ahoy!"); blab1();
  if (small_Vinny!=0){  
  PCListen(); customertalk(); dText.Text=("You don't remember me, do you?"); blab1();
  PCTalk(); customerlisten(); dText.Text=("Yeah, it's Vinny, right?");blab1();
  PCListen(); customertalk(); dText.Text=("Guilty as charged."); blab1();}
  if (small_Vinny==0){  
customertalk(); PCListen(); dText.Text=("You're new around here. This stand looks great."); blab1();
customerlisten(); PCTalk(); dText.Text=("Thanks, and yes - I'm pretty new."); blab1();
customertalk(); PCListen(); dText.Text=("Well good luck getting started! My name's Vinny and I sell bagels on 13th street."); blab1();
customertalk(); PCListen(); dText.Text=("I'm also a caffeine addict, and I'm looking for a fix."); blab1();
  }
customertalk(); PCListen(); dText.Text=("You're selling coffee, here?"); blab1();
if ((Menu.Contains("Americano"))||(Menu.Contains("Coffee"))){//yes
mel_vinnylove+=1;//Yes!
customerlisten(); PCTalk(); dText.Text=("You came to the right place. "); blab1();
customertalk(); PCListen(); dText.Text=("Great! I could really use a cup. Or two."); blab1();
customerlisten(); PCTalk(); dText.Text=("Or two? I could make you a double..."); blab1();
customertalk(); PCListen(); dText.Text=("No, just a regular cup is fine. "); blab1();
}
else{//No
customerlisten(); PCTalk(); dText.Text=("Not yet. I'm still setting up."); blab1();
customertalk(); PCListen(); dText.Text=("I'll be first in line when you pull your first shot of espresso."); blab1();
customertalk(); PCListen(); dText.Text=("Actually, I'll probably bug you every day. It's pathetic."); blab1();
}

customertalk(); PCListen(); dText.Text=("I've been trying to slow my ascent into full-blown caffeine addiction."); blab1(); 
customertalk(); PCListen(); dText.Text=("But maybe it's too late for me to be talking like that... "); blab1();
customerlisten(); PCListen(); dText.Text=(" ");
dVinnylove1.Start();}
}

 //Vinny(NPC):
 
function folkify(int side){
  if (side==0){//First Half
 
  if ((cheatbiking==false)&&(small_Andrus==0))mp0.NormalGraphic=8063; else mp0.NormalGraphic=8011; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_barneys==0))mp1.NormalGraphic=8063; else mp1.NormalGraphic=8012; PlaySound(114); Wait(1);
  if ((cheatbiking==false)&&(small_Bas==0))mp2.NormalGraphic=8063; else mp2.NormalGraphic=8013; PlaySound(114); Wait(1);
  if (GetGlobalInt(1)!=2)mp3.NormalGraphic=8063; else mp3.NormalGraphic=8014; PlaySound(114); Wait(1);
  if ((cheatbiking==false)&&(small_Betsy==0))mp4.NormalGraphic=8063; else mp4.NormalGraphic=8015; PlaySound(114); Wait(1);
  if ((cheatbiking==false)&&(small_Bram==0))mp5.NormalGraphic=8063; else mp5.NormalGraphic=8016; PlaySound(114); Wait(1);
  if (GetGlobalInt(1)!=1)mp6.NormalGraphic=8063; else mp6.NormalGraphic=8017; PlaySound(114); Wait(1);
  if ((cheatbiking==false)&&(small_Chris==0))mp7.NormalGraphic=8063; else mp7.NormalGraphic=8018; PlaySound(114); Wait(1);
  if ((cheatbiking==false)&&(small_Christin==0))mp8.NormalGraphic=8063; else mp8.NormalGraphic=8019; PlaySound(114); Wait(1);
  if ((cheatbiking==false)&&(small_DC==0))mp9.NormalGraphic=8063; else mp9.NormalGraphic=8020; PlaySound(114); Wait(1);
  if ((cheatbiking==false)&&(small_Dick==0))mp10.NormalGraphic=8063; else mp10.NormalGraphic=8021; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Dwayne==0))mp11.NormalGraphic=8063; else mp11.NormalGraphic=8022; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Eddie==0))mp12.NormalGraphic=8063; else mp12.NormalGraphic=8023; PlaySound(114); Wait(1); 
  if (GetGlobalInt(1)!=3)mp13.NormalGraphic=8063; else mp13.NormalGraphic=8024; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Faith==0))mp14.NormalGraphic=8063; else mp14.NormalGraphic=8025; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_george==0))mp15.NormalGraphic=8063; else mp15.NormalGraphic=8026; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Glenda==0))mp16.NormalGraphic=8063; else mp16.NormalGraphic=8027; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Harry==0))mp17.NormalGraphic=8063; else mp17.NormalGraphic=8028; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Jenny==0))mp18.NormalGraphic=8063; else mp18.NormalGraphic=8029; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Jessi==0))mp19.NormalGraphic=8063; else mp19.NormalGraphic=8030; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Johns==0))mp20.NormalGraphic=8063; else mp20.NormalGraphic=8031; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Julian==0))mp21.NormalGraphic=8063; else mp21.NormalGraphic=8032; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_stephen==0))mp22.NormalGraphic=8063; else mp22.NormalGraphic=8033; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Kyam==0))mp23.NormalGraphic=8063; else mp23.NormalGraphic=8034; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_laura==0))mp24.NormalGraphic=8063; else mp24.NormalGraphic=8035; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Logan==0))mp25.NormalGraphic=8063; else mp25.NormalGraphic=8036; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Marcus==0))mp26.NormalGraphic=8063; else mp26.NormalGraphic=8037; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Matts==0))mp27.NormalGraphic=8063; else mp27.NormalGraphic=8038; PlaySound(114); Wait(1); 
  }//End Side Zero
  if (side==1){//Start Side One
  //if ((cheatbiking==false)&&(small_Andrus==0))mp0.NormalGraphic=8063; else mp0.NormalGraphic=8011; PlaySound(114); Wait(1); 
  //if ((cheatbiking==false)&&(small_barneys==0))mp1.NormalGraphic=8063; else mp1.NormalGraphic=8012; PlaySound(114); Wait(1);
  //if ((cheatbiking==false)&&(small_Bas==0))mp2.NormalGraphic=8063; else mp2.NormalGraphic=8013; PlaySound(114); Wait(1);
  //if (GetGlobalInt(1)!=2)mp3.NormalGraphic=8063; else mp3.NormalGraphic=8014; PlaySound(114); Wait(1);
  //if ((cheatbiking==false)&&(small_Betsy==0))mp4.NormalGraphic=8063; else mp4.NormalGraphic=8015; PlaySound(114); Wait(1);
  //if ((cheatbiking==false)&&(small_Bram==0))mp5.NormalGraphic=8063; else mp5.NormalGraphic=8016; PlaySound(114); Wait(1);
  //if (GetGlobalInt(1)!=1)mp6.NormalGraphic=8063; else mp6.NormalGraphic=8017; PlaySound(114); Wait(1);
    //---------------//
  if ((cheatbiking==false)&&(small_clarence==0))mp7.NormalGraphic=8063; else mp7.NormalGraphic=8097; PlaySound(114); Wait(1);
  if ((cheatbiking==false)&&(small_Meadow==0))mp8.NormalGraphic=8063; else mp8.NormalGraphic=8039; PlaySound(114); Wait(1);
  if ((cheatbiking==false)&&(small_Mel==0))mp9.NormalGraphic=8063; else mp9.NormalGraphic=8040; PlaySound(114); Wait(1);
  if ((cheatbiking==false)&&(small_Melody==0))mp10.NormalGraphic=8063; else mp10.NormalGraphic=8041; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Nelly==0))mp11.NormalGraphic=8063; else mp11.NormalGraphic=8042; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Omar==0))mp12.NormalGraphic=8063; else mp12.NormalGraphic=8043; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Richard==0))mp13.NormalGraphic=8063; else mp13.NormalGraphic=8044; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Seb==0))mp14.NormalGraphic=8063; else mp14.NormalGraphic=8045; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_seth==0))mp15.NormalGraphic=8063; else mp15.NormalGraphic=8046; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Steph==0))mp16.NormalGraphic=8063; else mp16.NormalGraphic=8047; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Suchin==0))mp17.NormalGraphic=8063; else mp17.NormalGraphic=8048; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Thales==0))mp18.NormalGraphic=8063; else mp18.NormalGraphic=8049; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Three==0))mp19.NormalGraphic=8063; else mp19.NormalGraphic=8050; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Thomas==0))mp20.NormalGraphic=8063; else mp20.NormalGraphic=8051; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Bigby==0))mp21.NormalGraphic=8063; else mp21.NormalGraphic=8052; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_TJ==0))mp22.NormalGraphic=8063; else mp22.NormalGraphic=8053; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Toney==0))mp23.NormalGraphic=8063; else mp23.NormalGraphic=8054; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Troy==0))mp24.NormalGraphic=8063; else mp24.NormalGraphic=8055; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Vinny==0))mp25.NormalGraphic=8063; else mp25.NormalGraphic=8056; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Ward==0))mp26.NormalGraphic=8063; else mp26.NormalGraphic=8057; PlaySound(114); Wait(1); 
  if ((cheatbiking==false)&&(small_Winston==0))mp27.NormalGraphic=8063; else mp27.NormalGraphic=8058; PlaySound(114); Wait(1); 
  }//End Side Two  
}//End Folkify

function curtaincall(){
  FadeOut(64);
  CloseAll();
  gameover=true;
  ReadScores();
  if (GetGlobalInt(1)==1){
    if (playstate_andrus==2){end_quit.NormalGraphic=9371; end_quit.MouseOverGraphic=9371;}
    if (playstate_andrus==3){end_quit.NormalGraphic=9371; end_quit.MouseOverGraphic=9371;}
    if (playstate_andrus==4){end_quit.NormalGraphic=8002; end_quit.MouseOverGraphic=8003;}}
  if (GetGlobalInt(1)==2){
    if (playstate_melanie==2){end_quit.NormalGraphic=9371; end_quit.MouseOverGraphic=9371;}
    if (playstate_melanie==3){end_quit.NormalGraphic=9371; end_quit.MouseOverGraphic=9371;}
    if (playstate_melanie==4){end_quit.NormalGraphic=8002; end_quit.MouseOverGraphic=8003;}}
  if (GetGlobalInt(1)==3){end_quit.NormalGraphic=9371; end_quit.MouseOverGraphic=9371;}
  
       musique=(music_slider.Value);
     if (musique<=17) SetMusicVolume(-3);
  else if ((musique>=18)&&(musique<=34))SetMusicVolume(-2);
  else if ((musique>=35)&&(musique<=50))SetMusicVolume(-1);
  else if ((musique>=51)&&(musique<=68))SetMusicVolume(0);
  else if ((musique>=69)&&(musique<=85))SetMusicVolume(1);
  else if ((musique>=86)&&(musique<=95))SetMusicVolume(2);
  else if (musique>=96)SetMusicVolume(3);
  SetMusicMasterVolume((music_slider.Value));
  NatMusic(12);
  //Blanking all Labels
  int i; 
  while (i<gEnd.ControlCount){
    Label *theLabel = gEnd.Controls[i].AsLabel;
    if (theLabel == null) {//Display("Control 2 is not a button!!!!");
                            }
    else {theLabel.Text=(" ");}
  i++;
  }
  gEnd.Visible=true;
  gTruck.Visible=false;
  FadeIn(10);
  mouse.Visible=true;
  float interim=0.00;
  float kaching=1.08;
  //populate values;
  while (interim<(income_totalsales-0.75)){end_sales.Text=String.Format("%.2f",interim); interim+=0.75; PlaySound(42); Wait(1);}
  end_sales.Text=String.Format("%.2f",income_totalsales); interim=0.00;
  
  //Most Sales
  end_sold.Text=String.Format("%s",bd_boughtitm.Text);
  //Most Profit
  end_profitable.Text=String.Format("%s",bd_boughtitm2.Text);
  
  
  while (interim<(income_tipstotal-kaching)){end_tips.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  kaching=1.08; while (interim<(income_tipstotal-kaching)){end_tips.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  end_tips.Text=String.Format("%.2f",income_tipstotal); interim=0.00; PlaySound(4); kaching=10.44; Wait(10);
  
  while (interim<(income_misc-kaching)){end_misc_incom.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  kaching=1.08; while (interim<(income_misc-kaching)){end_misc_incom.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  end_misc_incom.Text=String.Format("%.2f",income_misc); interim=0.00; PlaySound(4); kaching=10.44; Wait(10); 
  
  while (interim<(income_total-kaching)){end_incometotal.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  kaching=1.08; while (interim<(income_total-kaching)){end_incometotal.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  end_incometotal.Text=String.Format("%.2f",income_total); interim=0.00; PlaySound(4); kaching=10.44; Wait(10);
  
  while (interim<(expense_travel-kaching)){end_travel.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  kaching=1.08; while (interim<(expense_travel-kaching)){end_travel.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  end_travel.Text=String.Format("%.2f",expense_travel); interim=0.00; PlaySound(4); kaching=10.44; Wait(10);
  
  while (interim<(expense_supplies-kaching)){end_supplies.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  kaching=1.08; while (interim<(expense_supplies-kaching)){end_supplies.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  end_supplies.Text=String.Format("%.2f",expense_supplies); interim=0.00; PlaySound(4); kaching=10.44; Wait(10);
  
  while (interim<(expense_equipment-kaching)){end_equipment.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  kaching=1.08; while (interim<(expense_equipment-kaching)){end_equipment.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  end_equipment.Text=String.Format("%.2f",expense_equipment); interim=0.00; PlaySound(4); kaching=10.44; Wait(10);
  
  while (interim<(expense_equipment-kaching)){end_equipment.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  kaching=1.08; while (interim<(expense_upgrade-kaching)){end_upgrades.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  end_upgrades.Text=String.Format("%.2f",expense_upgrade); interim=0.00; PlaySound(4); kaching=10.44; Wait(10);
  
  while (interim<(expense_permits-kaching)){end_permits.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  kaching=1.08; while (interim<(expense_permits-kaching)){end_permits.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  end_permits.Text=String.Format("%.2f",expense_permits); interim=0.00; PlaySound(4); kaching=10.44; Wait(10);
  
  while (interim<(expense_misc-kaching)){end_misc_expenses.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  kaching=1.08; while (interim<(expense_misc-kaching)){end_misc_expenses.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  end_misc_expenses.Text=String.Format("%.2f",expense_misc); interim=0.00; PlaySound(4); kaching=10.44; Wait(10);
  
  while (interim<(total_fines-kaching)){end_fines.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  kaching=1.08; while (interim<(total_fines-kaching)){end_fines.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  end_fines.Text=String.Format("%.2f",total_fines); interim=0.00; PlaySound(4); kaching=10.44; Wait(10);
  
  float totalspent = (expense_equipment + expense_misc + expense_supplies + expense_upgrade + expense_travel + expense_permits + total_fines);
  while (interim<(totalspent-kaching)){end_expensestotal.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  kaching=1.08; while (interim<(totalspent-kaching)){end_expensestotal.Text=String.Format("%.2f",interim); interim+=kaching; PlaySound(42); Wait(1);}
  end_expensestotal.Text=String.Format("%.2f",totalspent); interim=0.00; PlaySound(4); kaching=10.44; Wait(10);

//Customer Stats and Misc//
end_bestcustomer.Text=String.Format("%s",bd_bestcustomer.Text); Wait(10);
end_besttipper.Text=String.Format("%s",biggest_tipper); Wait(10);
end_bestarea.Text=String.Format("%s",bd_bestarea.Text); Wait(10);
end_dietarystaple.Text=String.Format("%s",bd_favfood.Text); Wait(10);
end_items_sold.Text=String.Format("%d",total_solditems); Wait(10);
end_items_sold.Text=String.Format("%d",total_solditems); Wait(10);
end_times_fined.Text=String.Format("%d",times_fined); Wait(10);


//Folks Comes In
gFolks.X=152; gFolks.Y=70;
      folks_prevbutton.X=110; folks_prevbutton.Y=98;//folks_prevbutton.X=220; folks_prevbutton.Y=196;
      folks_prevbutton.NormalGraphic=8061;
      folks_prevbutton.MouseOverGraphic=8062;
gFolks.Visible=true;
  i=0;
  while (i<28){
    Button *theButton = gFolks.Controls[i].AsButton;
    if (theButton== null) {}//Display("Control 2 is not a button!!!!");
    else {theButton.NormalGraphic=8064;}
  i++;
  }
  folkify(0);

}

function closeupshop(){
  int copshere=0; int coppercheck=0;
    while (coppercheck<9){
    if (((Thales.x-player.x)<= 20)&&((Thales.x-player.x)>=-5)&&(Thales.Room==player.Room)&&(hunger[Thales.ID]==1)){copshere=1;}
    if (((Johns.x-player.x)<= 20)&&((Johns.x-player.x)>=-5)&&(Johns.Room==player.Room)&&(hunger[Johns.ID]==1)){copshere=2;}
    coppercheck++;}

if (que[0]!=0){character[que[0]].breakaway(); que[0]=0;}
if (que[1]!=0){character[que[1]].breakaway(); que[1]=0;}
if (que[2]!=0){character[que[2]].breakaway(); que[2]=0;}
if (que[3]!=0){character[que[3]].breakaway(); que[3]=0;}
if (que[4]!=0){character[que[4]].breakaway(); que[4]=0;}
if (que[5]!=0){character[que[5]].breakaway(); que[5]=0;}
if (que[6]!=0){character[que[6]].breakaway(); que[6]=0;}
if (que[7]!=0){character[que[7]].breakaway(); que[7]=0;}
if (que[8]!=0){character[que[8]].breakaway(); que[8]=0;}
if (que[9]!=0){character[que[9]].breakaway(); que[9]=0;}

  //Not Getting Away Yet
  if ((copshere!=0)&&(GetGlobalInt(325)==0)&&(GetGlobalInt(1)!=2)){
      TalkPop(); Wait(40); //gBuyortalk.Visible=true;
      if (copshere==1){salebuyer=("Thales"); Thalesbuy(); SaleInProgress=1;}
      if (copshere==2){salebuyer=("Johns"); Johnsbuy(); SaleInProgress=1;}
    }
  else {
    if (readytosell==true){
    readytosell=false; 
    SaleInProgress=0;
    queposition=0; 
    if (gStand_Gui.Visible==true){gStand_Gui.Visible=false;}
      if (GetGlobalInt(1)==1){//Andrus closes down
         lockup.Transparency=0; lockup.ChangeRoom(Stand.Room); lockup.FollowCharacter(Stand, FOLLOW_EXACTLY, 100);
         lockup.Baseline=(Stand.Baseline+1);
         PlaySound(17); SetGlobalInt(52, 1); player.LockView(68); player.Animate(2, 3, eOnce, eNoBlock, eForwards);
         //throwing the weirdest bug right here - "fatality"//Update: April 30 - seems to be fixed, but leaving this here in case.
         lockup.LockView(70); lockup.Animate(1, 2, eOnce, eBlock, eForwards); Wait(5); player.UnlockView();
          cAndrus.SetIdleView(3, 0);}
  if (GetGlobalInt(1)==2){//Mel closes down
         player.y=(Stand.y); player.x=(Stand.x);
         PlaySound(17); SetGlobalInt(52, 1);
         lockup.LockView(88); lockup.Animate(3, 3, eOnce, eBlock, eForwards); Wait(5); 
         Stand.Baseline-=5; player.Baseline=(player.y); player.x=Stand.x-50;
         player.ChangeView(1); player.SetIdleView(2, 0); player.UnlockView();}
  if (GetGlobalInt(1)==3){//Vinny closes down
         player.LockView(14); PlaySound(18); player.Animate(1, 2, eOnce, eNoBlock, eForwards);
         if (((Stand.Loop==0)&&(Stand.Frame>4))||((Stand.Loop==3)&&(Stand.Frame<4))||(Stand.Loop==1)||(Stand.Loop==2)){}
         else {Stand.Animate(0, 3, eOnce, eBlock, eForwards);}
         queposition=0; 
         player.UnlockView(); Stand.FollowCharacter(player, FOLLOW_EXACTLY, 0); SetGlobalInt(52, 1); SetTimer(2, 40);Wait(5);
         }
  if (GetGlobalInt(1)==4){//Logan closes down
         player.LockView(22); PlaySound(18); player.Animate(9, 2, eOnce, eNoBlock, eForwards);
         queposition=0; 
         if (((Stand.Loop==0)&&(Stand.Frame>4))||((Stand.Loop==3)&&(Stand.Frame<4))||(Stand.Loop==1)||(Stand.Loop==2)){}
         else {//good?
          SaleInProgress=0; queposition=0; readytosell=true;
         Stand.Animate(0, 3, eOnce, eBlock, eForwards);}
         player.UnlockView(); Stand.FollowCharacter(player, FOLLOW_EXACTLY, 0); SetGlobalInt(52, 1); SetTimer(2, 40);Wait(5);}
  if (gStand_Gui.Visible==true){gStand_Gui.Visible=false;}//Here to prevent a crash
  //Makins sure everybody walks away and nobody's left standing around
  int charscroll=10;
  while (charscroll<Game.CharacterCount){
    if ((charscroll!=12)&&(charscroll!=0)&&(charscroll!=1)&&(charscroll!=2)&&(charscroll!=3)&&(charscroll!=19)){//Customer != Stand or PC
    if ((((character[charscroll].x - player.x) <= 40)&&(character[charscroll].x - player.x) >= -10)&&(character[charscroll].Room==player.Room)){
    if (character[charscroll].Moving==false){character[charscroll].breakaway(); hunger[charscroll]=0;}
    }}
  charscroll++;}
}}
}

function ending_andrus_leaves(){
  FadeOut(10);//CHECKOUT
  gameover=true;
  vitality.Width=120; nutrition.Width=120; kibbles.Width=120; caffeine.Width=120;//Just in case.
  //==// Leaving out the save part for this function since it's a replay //==//
  //SaveGameSlot(1, "Andrus Autosave"); NewScores(0, 2);//
  Wait(5);
  aMusic12.Play();//Condiments Unspread
  gPick.Visible=true; pick.NormalGraphic=8452;
  vitality.Width=120; nutrition.Width=120; kibbles.Width=120; caffeine.Width=120;//Just in case.
  gPick.Centre(); pick.X=0; pick.Y=0; close_pick.Visible=false;
  Wait(5);
  FadeIn(10);
  Wait(5);
  pick.Animate(277, 0, 2, eOnce); //Standen
  while (pick.NormalGraphic!=8539){Wait(1);}
  Wait(50); //Extra Wait
  
  pick.Animate(277, 1, 3, eOnce);//Thinken
  while (pick.NormalGraphic!=8626){Wait(1);}
  
  pick.Animate(277, 2, 6, eOnce);//Walken
  while (pick.NormalGraphic!=8685){Wait(1);}
  
  pick.Animate(277, 3, 3, eOnce);//Borden
  while (pick.NormalGraphic!=8717){Wait(1);}  
  
  pick.Animate(277, 4, 3, eOnce);//Leaven
  while (pick.NormalGraphic!=8810){Wait(1);}
  Wait(10);
  FadeOut(5);
  
  int musick=(music_slider.Value);
  while (musick>0){musick-=1; Wait(2);
       if (musick<=17) SetMusicVolume(-3);
  else if ((musick>=18)&&(musick<=34))SetMusicVolume(-2);
  else if ((musick>=35)&&(musick<=50))SetMusicVolume(-1);
  else if ((musick>=51)&&(musick<=68))SetMusicVolume(0);
  else if ((musick>=69)&&(musick<=85))SetMusicVolume(1);
  else if ((musick>=86)&&(musick<=95))SetMusicVolume(2);
  else if (musick>=96)SetMusicVolume(3);}
  RestartGame();
  }
     
  function ending_vinny_leaves(){
  FadeOut(10);//CHECKOUT
  gameover=true;
  vitality.Width=120; nutrition.Width=120; kibbles.Width=120; caffeine.Width=120;//Just in case.
  //==// Leaving out the save part for this function since it's a replay //==//
  //SaveGameSlot(3, "Vinny Autosave"); NewScores(2, 2);//
    Wait(5);
    aMusic12.Play();//Condiments Unspread
    gPick.Visible=true; pick.NormalGraphic=9431;
    vitality.Width=120; nutrition.Width=120; kibbles.Width=120; caffeine.Width=120;//Just in case.
    gPick.BackgroundGraphic=8401;//fully black, just in case.
    gPick.Centre(); pick.X=0; pick.Y=0; close_pick.Visible=false;
    Wait(5);
    FadeIn(10);
    Wait(5);
    pick.Animate(288, 0, 2, eOnce); //Standen
    while (pick.NormalGraphic!=9476){Wait(1);}
    Wait(50); //Extra Wait
  
    pick.Animate(288, 1, 2, eOnce);//Thinken
    while (pick.NormalGraphic!=9529){Wait(1);}
  
    pick.Animate(288, 2, 5, eOnce);//Note
    while (pick.NormalGraphic!=8401){Wait(1);}
    Wait(40);
    FadeOut(1);
    SetNextScreenTransition(eTransitionFade);
    hour=8; ampm=1; milhour=20;
      int musick=(music_slider.Value);
  while (musick>0){musick-=1; Wait(2);
       if (musick<=17) SetMusicVolume(-3);
  else if ((musick>=18)&&(musick<=34))SetMusicVolume(-2);
  else if ((musick>=35)&&(musick<=50))SetMusicVolume(-1);
  else if ((musick>=51)&&(musick<=68))SetMusicVolume(0);
  else if ((musick>=69)&&(musick<=85))SetMusicVolume(1);
  else if ((musick>=86)&&(musick<=95))SetMusicVolume(2);
  else if (musick>=96)SetMusicVolume(3);}
  RestartGame();
    }//End Vinny
  
function ending_andrus_dies(){
  FadeOut(10);//CHECKOUT
  Wait(5);gameover=true;
  vitality.Width=120; nutrition.Width=120; kibbles.Width=120; caffeine.Width=120;//Just in case.
  //==// Leaving out the save part for this function since it's a replay //==//
  //SaveGameSlot(1, "Andrus Autosave"); NewScores(0, 2);//
  StartCutscene(eSkipESCOnly);
          gPick.Centre(); pick.NormalGraphic=7808; pick.X=0; pick.Y=0; close_pick.Visible=false;//Prepare Animation
          gPick.Visible=true;  StopMusic(); Wait(5); FadeIn(15); pick.Animate(234, 8, 5, eOnce);//Goodbye, Glembovski.
          Wait(100); FadeOut(25);
          //
          gPick.Centre(); pick.NormalGraphic=6682; pick.X=0; pick.Y=0; close_pick.Visible=false;//Prepare Animation
          gPick.Visible=true;  StopMusic(); PlaySound(113); Wait(5); FadeIn(15); pick.Animate(234, 0, 5, eOnce);//Run Anim
          //StartCutscene(eSkipAnyKeyOrMouseClick);//Should this be Skippable or not?
          Wait(220);//"Vysotsky 1" Animation Runs
          if (!Game.SkippingCutscene){FadeGuiIn_NoBlock(gFullblack, 0, 0, 0);}
          Wait(140);
          //
          FadeOut(25); Wait(5); FadeGuiOut_NoBlock(gFullblack, 100, -250); Wait(3);
          pick.NormalGraphic=6667; Wait(3);//Prep Next Anim
          FadeIn(5); pick.Animate(234, 1, 2, eOnce);//Run Anim
          if (!Game.SkippingCutscene){FadeGuiIn_NoBlock(gFullblack, 0, 0, 0);}
          Wait(180);//"Crying" Animation Runs
          //
          FadeOut(25); gFullblack.Visible=false; Wait(5); pick.NormalGraphic=6728; Wait(3);//Prep Next Anim
          FadeIn(64); pick.Animate(234, 2, 5, eOnce);//Run Anim
          Wait(140);//"Vysotsky 2" Animation Runs
          if (!Game.SkippingCutscene){FadeGuiIn_NoBlock(gFullblack, 0, 0, 0);}
          Wait(80);//"Vysotsky 2" Animation Runs
          //
          FadeOut(25); Wait(5); FadeGuiOut_NoBlock(gFullblack, 100, -250);
          pick.NormalGraphic=7832; Wait(3);//Prep Next Anim
          FadeIn(5); pick.Animate(234, 9, 3, eOnce);//Run Anim
          if (!Game.SkippingCutscene){FadeGuiIn_NoBlock(gFullblack, 0, 0, 0);}
          Wait(180);//"Suchin is Notified" Animation Runs
          //
          FadeOut(25); gFullblack.Visible=false; Wait(5); pick.NormalGraphic=6739; Wait(3);//Prep Next Anim
          FadeIn(64); pick.Animate(234, 4, 4, eOnce);//Run Anim
          Wait(180);//"Vysotsky 3" Animation Runs
          if (!Game.SkippingCutscene){FadeGuiIn_NoBlock(gFullblack, 0, 0, 0);}
          Wait(80);//"Vysotsky 3" Animation Runs
          //
          FadeOut(25); Wait(5); FadeGuiOut_NoBlock(gFullblack, 100, -250); Wait(3);
          pick.NormalGraphic=6651; Wait(3);//Prep Next Anim
          FadeIn(5); PlayMusic(0); pick.Animate(234, 5, 2, eOnce);//Run Anim
          Wait(180);//"Pocketknife" Animation Runs
          //
          FadeOut(1); Wait(80); FadeGuiOut_NoBlock(gFullblack, 100, -250); Wait(3);
          EndCutscene();
          music_slider.Value=100;//Just in case they had it off.
          PlayMusic(41);
  int musick=(music_slider.Value);
  while (musick>0){musick-=1; Wait(2);
       if (musick<=17) SetMusicVolume(-3);
  else if ((musick>=18)&&(musick<=34))SetMusicVolume(-2);
  else if ((musick>=35)&&(musick<=50))SetMusicVolume(-1);
  else if ((musick>=51)&&(musick<=68))SetMusicVolume(0);
  else if ((musick>=69)&&(musick<=85))SetMusicVolume(1);
  else if ((musick>=86)&&(musick<=95))SetMusicVolume(2);
  else if (musick>=96)SetMusicVolume(3);}
          //EndCutscene();//End Cutscene
          RestartGame();
      }

function ending_andrus_wins(){
  FadeOut(10);//CHECKOUT
  Wait(5);gameover=true;
  vitality.Width=120; nutrition.Width=120; kibbles.Width=120; caffeine.Width=120;//Just in case.
  //==// Leaving out the save part for this function since it's a replay //==//
  //==// Leaving out the save part for this function since it's a replay //==//
  //SaveGameSlot(1, "Andrus Autosave"); NewScores(0, 2);//
  aMusic12.Play();//Condiments Unspread
  gPick.Visible=true; pick.NormalGraphic=5781; gameover=true;
  vitality.Width=120; nutrition.Width=120; kibbles.Width=120; caffeine.Width=120;//Just in case.
  gPick.Centre(); pick.X=0; pick.Y=0; close_pick.Visible=false;
  Wait(5);
  StartCutscene(eSkipESCOnly);
  FadeIn(10);
  Wait(5);
  pick.Animate(280, 0, 3, eOnce); //First
  while (pick.NormalGraphic!=8851){Wait(1);}
          //
  if (player.InventoryQuantity[Contract_Bad.ID]==0){//Paid!
  pick.Animate(280, 1, 3, eOnce);//Sit down
  while (pick.NormalGraphic!=8862){Wait(1);}
  Wait(50);}//Extra Wait
          //
  else if (player.InventoryQuantity[Contract_Bad.ID]!=0){//Didn't pay it.
        if (Money>=35.00){//Enough to pay it, at least
          pick.Animate(280, 2, 3, eOnce);//Hmm...
          while (pick.NormalGraphic!=8905){Wait(1);}
          Wait(30);//Extra Wait
          }
        else if (Money<35.00){//Can't even pay it.
          pick.Animate(280, 3, 3, eOnce);//Hmm...
          while (pick.NormalGraphic!=8905){Wait(1);}
          Wait(30);//Extra Wait
          }
  }
  FadeOut(1);
  Wait(5); gPick.Visible=false;
  SetGlobalInt(101, 77);//Same as "Game Over" when going to Franklin for Credits Sequence
  SetNextScreenTransition(eTransitionFade);
  FadeOut(5); Wait(40);
  EndCutscene();
  hour=8; ampm=1; milhour=20;
  RestartGame();
  }//End Ending

function ending_melanie_leaves(){
  FadeOut(10);//CHECKOUT
  Wait(5);gameover=true;
  vitality.Width=120; nutrition.Width=120; kibbles.Width=120; caffeine.Width=120;//Just in case.
  //==// Leaving out the save part for this function since it's a replay //==//
  //SaveGameSlot(2, "Melanie Autosave"); NewScores(1, 2);//Ooch.
    SetGlobalInt(101, 77);//For Roomload Autofire
    Wait(5);
    aMusic12.Play();//Condiments Unspread
    gPick.Visible=true; pick.NormalGraphic=8990;
    gPick.Centre(); pick.X=0; pick.Y=0; close_pick.Visible=false;
    Wait(5);
    FadeIn(10);
    Wait(5);
    pick.Animate(281, 0, 2, eOnce); //Standen
    while (pick.NormalGraphic!=9028){Wait(1);}
    Wait(50); //Extra Wait
  
    pick.Animate(281, 1, 3, eOnce);//Thinken
    while (pick.NormalGraphic!=9077){Wait(1);}
  
    pick.Animate(281, 2, 2, eOnce);//Waiten
    while (pick.NormalGraphic!=9094){Wait(1);}
  
    pick.Animate(281, 3, 4, eOnce);//Walken
    while (pick.NormalGraphic!=9153){Wait(1);}  
  
    pick.Animate(281, 4, 3, eOnce);//Borden
    while (pick.NormalGraphic!=9188){Wait(1);}
    Wait(40);
    FadeOut(1);
    SetNextScreenTransition(eTransitionFade);
    hour=8; ampm=1; milhour=20;
    RestartGame();
    }//End Melanie

  
function ending_melanie_dies(){
  FadeOut(10);//CHECKOUT
  Wait(5);gameover=true;
  vitality.Width=120; nutrition.Width=120; kibbles.Width=120; caffeine.Width=120;//Just in case.
  //==// Leaving out the save part for this function since it's a replay //==//
  //SaveGameSlot(2, "Melanie Autosave"); NewScores(1, 3);//Ooch.
  Laura.ChangeRoom(player.Room);
  Wait(5);
  aMusic12.Play();//Condiments Unspread
  gTruck.Visible=true; gDialog.ZOrder=99;
  approval_laura=5;
  the_truque.Animate(285, 0, 3, eRepeat);
  FadeIn(64);
  Wait(140);
  salebuyer=("Laura");
  TalkPop(); customerlisten(); PCListen();
  while(gDialog.Y<100){gDialog.Y+=5; Wait(1);}//Experimental!
  Wait(20);
  PCTalk(); customerlisten(); dText.Text=("How's your coffee, honey?"); blab1();
  PCListen(); customertalk(); dText.Text=("It's okay, I guess."); blab1();
  PCListen(); customertalk(); dText.Text=("I think I put too much sugar in it."); blab1();
  PCTalk(); customerlisten(); dText.Text=("Yeah, I do that sometimes, too."); blab1();
  PCListen(); customerlisten(); dText.Text=("..."); Wait(40);
  PCListen(); customerlisten(); dName.Text=("Laura"); dText.Text=("..."); Wait(40);
  PCListen(); customertalk(); dText.Text=("You want another donut, mom?"); blab1();
  PCTalk(); customerlisten(); dText.Text=("Yeah, okay."); blab1();
  PCListen(); customerlisten(); dText.Text=(" ");
  //dLastDonut.Start();//I'm skipping this! Deal with it, fuckers!
  customerlisten(); PCTalk(); dText.Text=("How about that apple fritter?"); blab1();
  customertalk(); PCListen(); dText.Text=("Okay. Here you go."); blab1();
  customerlisten(); PCTalk(); dText.Text=("Thanks, sweety."); blab1();
  customerlisten(); PCListen(); dText.Text=(" "); 
  gPick.ZOrder=99; gDialog.ZOrder=98;
  PCBigeat_m("Sandwich"); 
  customerlisten(); PCListen(); dText.Text=(" "); 
    customertalk(); PCListen(); dText.Text=("Are we going to see the coffee stand?"); blab1();
  customerlisten(); PCTalk(); dText.Text=("No, honey."); blab1();
  customerlisten(); PCTalk(); dText.Text=("Didn't I tell you that I traded it for this truck?"); blab1();
  customertalk(); PCListen(); dText.Text=("Okay."); blab1();
  customerlisten(); PCListen(); dText.Text=("..."); blab1(); Wait(40);
  customerlisten(); PCTalk(); dText.Text=("You excited to go camping?"); blab1();
  customertalk(); PCListen(); dText.Text=("I guess so."); blab1();
  customertalk(); PCListen(); dText.Text=("I didn't bring my sleeping bag, or anything."); blab1();
  customerlisten(); PCTalk(); dText.Text=("That's fine, honey. We'll get new ones."); blab1();
  customerlisten(); PCListen(); dName.Text=("Laura: "); dText.Text=("..."); blab1(); Wait(40);
  customerlisten(); PCListen(); dText.Text=(" "); 
  ///Uhhh....
  StopPop(); 
  SetGlobalInt(101, 78);//makes the_truque go faster in global REA
  while (the_truque.X>50){Wait(1);}
  SetGlobalInt(101, 79);//makes the_truque go faster in global REA
  while (the_truque.X>2){Wait(1);}
  FadeOut(64); Wait(5);
  the_truque.X=319; truquebg0.NormalGraphic=9235; truquebg1.NormalGraphic=9234;
  approval_laura=-10;//for worried / tired face
  Wait(40); 
  FadeIn(64);
  while (the_truque.X>150){Wait(1);}
  SetGlobalInt(101, 78);//slowing down...
  while (the_truque.X>100){Wait(1);}
  SetGlobalInt(101, 77);//Reg Speed Now
  TalkPop(); customerlisten(); PCListen();
  while(gDialog.Y<100){gDialog.Y+=5; Wait(1);}//Experimental!
  Wait(20);
  customertalk(); PCListen(); dText.Text=("How can you be so awake, still?"); blab1();
  customertalk(); PCListen(); dText.Text=("It's gotta be, like, way after midnight."); blab1();
  customerlisten(); PCTalk(); dText.Text=("I'll be good for a few more hours."); blab1();
  customerlisten(); PCTalk(); dText.Text=("Did you bring any homework we can work on?"); blab1();
  customertalk(); PCListen(); dText.Text=("No - I didn't know we were going camping."); blab1();
  customertalk(); PCListen(); dText.Text=("Maybe we should go back?"); blab1();
  customerlisten(); PCTalk(); dText.Text=("It's okay, sweet heart."); blab1();
  customerlisten(); PCTalk(); dText.Text=("I can write your teachers a note about it."); blab1();
  customerlisten(); PCListen(); dName.Text=("Laura: "); dText.Text=("..."); blab1(); Wait(40);
  customertalk(); PCListen(); dText.Text=("How long... are we gonna be gone, mom?"); blab1();
  customerlisten(); PCTalk(); dText.Text=("I'm not sure, sweety."); blab1();
  customerlisten(); PCTalk(); dText.Text=("It depends on whether we like the first spot."); blab1();
  customerlisten(); PCTalk(); dText.Text=("We can keep going until we find a place we like."); blab1();
  customerlisten(); PCListen(); DBG1.Animate(24, 15, 5, eOnce); dText.Text=("..."); blab1(); Wait(90);//She is crying.
  StopPop(); 
  SetGlobalInt(101, 78);//makes the_truque go faster in global REA
  while (the_truque.X>50){Wait(1);}
  SetGlobalInt(101, 79);//makes the_truque go faster in global REA
  while (the_truque.X>2){Wait(1);}
  //Ending!
  //gTruck.Visible=false; SetGlobalInt(101, 77);//old method
  gFullblack.Visible=true; gFullblack.Transparency=80; 
  hour=10; minute=30; ampm=1; milhour=22;//TIME SET
  player.Transparency=99; gNotify.Visible=false;
  FadeOut(1);
  Wait(5); gPick.Visible=false;
  SetGlobalInt(101, 77);//Same as "Game Over" when going to Franklin for Credits Sequence
  FadeOut(5);
    int musick=(music_slider.Value);
  while (musick>0){musick-=1; Wait(2);
       if (musick<=17) SetMusicVolume(-3);
  else if ((musick>=18)&&(musick<=34))SetMusicVolume(-2);
  else if ((musick>=35)&&(musick<=50))SetMusicVolume(-1);
  else if ((musick>=51)&&(musick<=68))SetMusicVolume(0);
  else if ((musick>=69)&&(musick<=85))SetMusicVolume(1);
  else if ((musick>=86)&&(musick<=95))SetMusicVolume(2);
  else if (musick>=96)SetMusicVolume(3);}
  RestartGame();
}

//EXPORTS
export hunger; export que; export maxque; export queposition;
